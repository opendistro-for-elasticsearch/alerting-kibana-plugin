{"version":3,"file":"0.plugin.js","sources":["/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/app.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/AttributeEditor/AttributeEditor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/AttributeEditor/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Breadcrumbs/Breadcrumbs.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Breadcrumbs/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/ChartContainer/ChartContainer.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Charts/Highlight/Highlight.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/ContentPanel/ContentPanel.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/ContentPanel/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/DelayedLoader/DelayedLoader.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/DelayedLoader/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Flyout/Flyout.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Flyout/flyouts/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Flyout/flyouts/message.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Flyout/flyouts/messageFrequency.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Flyout/flyouts/triggerCondition.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/Flyout/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikCheckbox/FormikCheckbox.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikCheckbox/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikCodeEditor/FormikCodeEditor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikCodeEditor/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikComboBox/FormikComboBox.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikComboBox/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldNumber/FormikFieldNumber.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldNumber/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldPassword/FormikFieldPassword.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldPassword/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldRadio/FormikFieldRadio.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldRadio/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldText/FormikFieldText.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFieldText/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFormRow/FormikFormRow.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikFormRow/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikInputWrapper/FormikInputWrapper.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikInputWrapper/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikSelect/FormikSelect.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikSelect/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikSwitch/FormikSwitch.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikSwitch/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikTextArea/FormikTextArea.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/FormikTextArea/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/FormControls/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/SubHeader/SubHeader.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/components/SubHeader/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/AnomalyDetectors/AnomaliesChart/AnomaliesChart.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/AnomalyDetectors/AnomaliesChart/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/AnomalyDetectors/EmptyFeaturesMessage/EmptyFeaturesMessage.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/AnomalyDetectors/FeatureChart/FeatureChart.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/ExtractionQuery/ExtractionQuery.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/ExtractionQuery/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorDefinition/MonitorDefinition.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorDefinition/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/MonitorExpressions.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/ForExpression.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/OfExpression.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/OverExpression.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/WhenExpression.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/WhereExpression.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/utils/dataTypes.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/expressions/utils/whereHelpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorExpressions/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorState/MonitorState.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorState/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorTimeField/MonitorTimeField.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorTimeField/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/MonitorTimeField/utils/validation.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/QueryPerformance/QueryPerformance.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/QueryPerformance/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/CustomCron.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/Daily.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/Frequency.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/FrequencyPicker.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/Interval.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/Monthly.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/TimezoneComboBox.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/Weekly.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Frequencies/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/Schedule.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/Schedule/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/VisualGraph/VisualGraph.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/VisualGraph/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/VisualGraph/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/components/VisualGraph/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/AnomalyDetectors/AnomalyDetectorData.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/AnomalyDetectors/AnomalyDetectors.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/ConfigureMonitor/ConfigureMonitor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/ConfigureMonitor/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/CreateMonitor/CreateMonitor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/CreateMonitor/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/CreateMonitor/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/CreateMonitor/utils/formikToMonitor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/CreateMonitor/utils/monitorQueryParams.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/CreateMonitor/utils/monitorToFormik.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/CreateMonitor/utils/whereFilters.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/DefineMonitor/DefineMonitor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/DefineMonitor/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/DefineMonitor/utils/mappings.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/DefineMonitor/utils/searchRequests.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/DefineSchedule/DefineSchedule.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/DefineSchedule/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/MonitorIndex/MonitorIndex.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/MonitorIndex/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/containers/MonitorIndex/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateMonitor/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/Action/Action.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/Action/actions/Message.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/Action/actions/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/Action/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/Action/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/Action/utils/validate.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/ActionEmptyPrompt/ActionEmptyPrompt.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/ActionEmptyPrompt/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/AddActionButton/AddActionButton.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/AddActionButton/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/TriggerExpressions/TriggerExpressions.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/TriggerExpressions/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/TriggerGraph.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/TriggerQuery/TriggerQuery.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/components/TriggerQuery/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/ConfigureActions/ConfigureActions.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/ConfigureActions/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/CreateTrigger/CreateTrigger.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/CreateTrigger/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/CreateTrigger/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/CreateTrigger/utils/formikToTrigger.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/CreateTrigger/utils/triggerToFormik.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/DefineTrigger/AnomalyDetectorTrigger.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/DefineTrigger/DefineTrigger.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/DefineTrigger/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/containers/DefineTrigger/utils/validation.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/CreateTrigger/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Dashboard/components/DashboardControls/DashboardControls.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Dashboard/components/DashboardControls/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Dashboard/components/DashboardEmptyPrompt/DashboardEmptyPrompt.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Dashboard/components/DashboardEmptyPrompt/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Dashboard/containers/Dashboard.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Dashboard/utils/tableUtils.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/DeleteConfirmation/DeleteConfirmation.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/DeleteConfirmation/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/DestinationsActions/DestinationsActions.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/DestinationsActions/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/DestinationsControls/DestinationsControls.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/DestinationsControls/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/EmptyDestinations/EmptyDestinations.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/EmptyDestinations/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/DestinationsList/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/AddEmailGroupButton/AddEmailGroupButton.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/AddSenderButton/AddSenderButton.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/CustomWebhook/CustomWebhook.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/CustomWebhook/HeaderParamsEditor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/CustomWebhook/QueryParamsEditor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/CustomWebhook/URLInfo.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/CustomWebhook/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/CustomWebhook/validate.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/Email/Email.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/Email/EmailGroup.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/Email/Sender.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/Email/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/Email/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/Email/utils/validate.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/EmailGroupEmptyPrompt/EmailGroupEmptyPrompt.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/EmailGroupEmptyPrompt/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/SenderEmptyPrompt/SenderEmptyPrompt.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/SenderEmptyPrompt/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/Webhook/Webhook.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/components/createDestinations/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/CreateDestination.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailRecipients/EmailRecipients.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailRecipients/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailRecipients/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailRecipients/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailRecipients/utils/validate.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailSender/EmailSender.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailSender/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailSender/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/EmailSender/utils/validate.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/ManageEmailGroups/ManageEmailGroups.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/ManageEmailGroups/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/ManageEmailGroups/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/ManageSenders/ManageSenders.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/ManageSenders/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/ManageSenders/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/utils/destinationToFormik.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/utils/formikToDestination.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/CreateDestination/utils/validations.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/DestinationsList/DestinationsList.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/DestinationsList/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/DestinationsList/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/DestinationsList/utils/deleteHelpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/containers/DestinationsList/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Destinations/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Home/Home.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Home/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Main/Main.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Main/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorHistory/EmptyHistory/EmptyHistory.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorHistory/Legend/Legend.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorHistory/POIChart/POIChart.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorHistory/TriggersTimeSeries/TriggersTimeSeries.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorHistory/TriggersTimeSeries/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorHistory/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorOverview/MonitorOverview.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorOverview/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorOverview/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorOverview/utils/getOverviewStats.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/MonitorOverview/utils/getScheduleFromMonitor.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/OverviewStat/OverviewStat.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/components/OverviewStat/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/MonitorDetails.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/MonitorHistory/DateRangePicker.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/MonitorHistory/MonitorHistory.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/MonitorHistory/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/MonitorHistory/utils/chartHelpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/MonitorHistory/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/MonitorHistory/utils/timeUtils.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/Triggers/Triggers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/Triggers/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/MonitorDetails/containers/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/AcknowledgeModal/AcknowledgeModal.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/AcknowledgeModal/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/MonitorActions/MonitorActions.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/MonitorActions/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/MonitorControls/MonitorControls.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/MonitorControls/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/MonitorEmptyPrompt/MonitorEmptyPrompt.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/components/MonitorEmptyPrompt/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/containers/Monitors/Monitors.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/containers/Monitors/index.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/containers/Monitors/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/containers/Monitors/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/pages/Monitors/containers/Monitors/utils/tableUtils.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/utils/AppContext.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/utils/CoreServicesContext.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/utils/SubmitErrorHandler.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/utils/constants.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/utils/helpers.js","/plugin:opendistroAlerting/plugins/alerting-kibana-plugin/public/utils/validate.js"],"sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router, Route } from 'react-router-dom';\nimport { AppContext } from './utils/AppContext';\nimport Main from './pages/Main';\nimport { CoreServicesContext } from './utils/CoreServicesContext';\nexport function renderApp(coreStart, params) {\n  const http = coreStart.http;\n  const isDarkMode = coreStart.uiSettings.get('theme:darkMode') || false; //Load Chart's dark mode CSS\n\n  if (isDarkMode) {\n    require('@elastic/charts/dist/theme_only_dark.css');\n  } else {\n    require('@elastic/charts/dist/theme_only_light.css');\n  } // render react to DOM\n\n\n  ReactDOM.render( /*#__PURE__*/React.createElement(Router, null, /*#__PURE__*/React.createElement(AppContext.Provider, {\n    value: {\n      httpClient: http,\n      isDarkMode\n    }\n  }, /*#__PURE__*/React.createElement(CoreServicesContext.Provider, {\n    value: coreStart\n  }, /*#__PURE__*/React.createElement(Route, {\n    render: props => /*#__PURE__*/React.createElement(Main, _extends({\n      title: \"Alerting\",\n      httpClient: http\n    }, props))\n  })))), params.element);\n  return () => ReactDOM.unmountComponentAtNode(params.element);\n} // import React from 'react';\n// import chrome from 'ui/chrome';\n// import { render, unmountComponentAtNode } from 'react-dom';\n// import { uiModules } from 'ui/modules';\n// import { HashRouter as Router, Route } from 'react-router-dom';\n//\n// import 'react-vis/dist/style.css';\n// import './less/main.less';\n// import Main from './pages/Main';\n// import { AppContext } from './utils/AppContext';\n//\n// const app = uiModules.get('apps/alerting');\n// // const darkMode = chrome.getUiSettingsClient().get('theme:darkMode') || false;\n// const isDarkMode = coreStart.uiSettings.get(\"theme:darkMode\") || false;\n//\n// //Load Chart's dark mode CSS\n// if (darkMode) {\n//   require('@elastic/charts/dist/theme_only_dark.css');\n// } else {\n//   require('@elastic/charts/dist/theme_only_light.css');\n// }\n//\n// app.config(($locationProvider) => {\n//   $locationProvider.html5Mode({\n//     enabled: false,\n//     requireBase: false,\n//     rewriteLinks: false,\n//   });\n// });\n//\n// app.config((stateManagementConfigProvider) => stateManagementConfigProvider.disable());\n//\n// function RootController($scope, $element, $http) {\n//   const domNode = $element[0];\n//\n//   // render react to DOM\n//   render(\n//     <Router>\n//       <AppContext.Provider value={{ httpClient: $http, darkMode }}>\n//         <Route render={(props) => <Main title=\"Alerting\" httpClient={$http} {...props} />} />\n//       </AppContext.Provider>\n//     </Router>,\n//     domNode\n//   );\n//\n//   // unmount react on controller destroy\n//   $scope.$on('$destroy', () => {\n//     unmountComponentAtNode(domNode);\n//   });\n// }\n//\n// chrome.setRootController('alerting', RootController);","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport PropTypes from 'prop-types';\nimport { EuiFlexGroup, EuiFlexItem, EuiButton, EuiText } from '@elastic/eui';\nconst propTypes = {\n  titleText: PropTypes.string,\n  emptyText: PropTypes.string,\n  name: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  onAdd: PropTypes.func.isRequired,\n  onRemove: PropTypes.func.isRequired,\n  onRenderKeyField: PropTypes.func.isRequired,\n  onRenderValueField: PropTypes.func.isRequired,\n  addButtonText: PropTypes.string,\n  removeButtonText: PropTypes.string,\n  isEnabled: PropTypes.bool\n};\nconst defaultProps = {\n  titleText: '',\n  emptyText: 'No attributes found.',\n  addButtonText: 'Add',\n  removeButtonText: 'Remove',\n  isEnabled: true\n};\n\nconst AttributeEditor = ({\n  titleText,\n  emptyText,\n  name,\n  items,\n  onAdd,\n  onRemove,\n  onRenderKeyField,\n  onRenderValueField,\n  addButtonText,\n  removeButtonText,\n  isEnabled\n}) => {\n  return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    direction: \"column\",\n    alignItems: \"flexStart\",\n    style: {\n      paddingLeft: '10px'\n    }\n  }, !_.isEmpty(titleText) ? /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiText, {\n    size: \"xs\"\n  }, titleText)) : null, !_.isEmpty(items) ? items.map((item, index) => /*#__PURE__*/React.createElement(EuiFlexItem, {\n    style: {\n      marginBottom: 0\n    },\n    key: `${name}.${index}.key`\n  }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, null, onRenderKeyField(`${name}.${index}.key`, index, isEnabled)), /*#__PURE__*/React.createElement(EuiFlexItem, null, onRenderValueField(`${name}.${index}.value`, index, isEnabled)), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButton, {\n    style: {\n      marginTop: 10\n    },\n    size: \"s\",\n    onClick: e => onRemove(index),\n    disabled: !isEnabled\n  }, removeButtonText))))) : /*#__PURE__*/React.createElement(EuiFlexItem, {\n    style: {\n      marginBottom: 0\n    }\n  }, /*#__PURE__*/React.createElement(EuiText, {\n    size: \"xs\"\n  }, \" \", emptyText, \" \")), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiButton, {\n    size: \"s\",\n    onClick: onAdd,\n    disabled: !isEnabled\n  }, addButtonText)));\n};\n\nAttributeEditor.propTypes = propTypes;\nAttributeEditor.defaultProps = defaultProps;\nexport default AttributeEditor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport AttributeEditor from './AttributeEditor';\nexport default AttributeEditor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport queryString from 'query-string';\nimport { EuiBreadcrumbs } from '@elastic/eui';\nimport { APP_PATH, DESTINATION_ACTIONS, MONITOR_ACTIONS, TRIGGER_ACTIONS } from '../../utils/constants';\nconst propTypes = {\n  history: PropTypes.object.isRequired,\n  httpClient: PropTypes.object.isRequired,\n  location: PropTypes.object.isRequired,\n  title: PropTypes.string.isRequired\n};\nexport default class Breadcrumbs extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      breadcrumbs: []\n    };\n    this.getBreadcrumbs = this.getBreadcrumbs.bind(this);\n  }\n\n  componentDidMount() {\n    this.getBreadcrumbs();\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      location: {\n        pathname: prevPathname,\n        search: prevSearch\n      }\n    } = prevProps;\n    const {\n      location: {\n        pathname,\n        search\n      }\n    } = this.props;\n\n    if (prevPathname + prevSearch !== pathname + search) {\n      this.getBreadcrumbs();\n    }\n  }\n\n  async getBreadcrumbs() {\n    const {\n      httpClient,\n      history,\n      location: {\n        state: routeState\n      }\n    } = this.props;\n    const rawBreadcrumbs = await getBreadcrumbs(window.location.hash, routeState, httpClient);\n    const breadcrumbs = rawBreadcrumbs.map(breadcrumb => createEuiBreadcrumb(breadcrumb, history));\n    this.setState({\n      breadcrumbs\n    });\n  }\n\n  render() {\n    const {\n      breadcrumbs\n    } = this.state;\n    return /*#__PURE__*/React.createElement(EuiBreadcrumbs, {\n      breadcrumbs: breadcrumbs,\n      responsive: false,\n      truncate: true,\n      style: {\n        padding: '0px 15px'\n      }\n    });\n  }\n\n}\nBreadcrumbs.propTypes = propTypes;\nexport function createEuiBreadcrumb(breadcrumb, history) {\n  const {\n    text,\n    href\n  } = breadcrumb;\n  return {\n    text,\n    href: `#${href}`,\n    onClick: e => {\n      e.preventDefault();\n      history.push(href);\n    }\n  };\n}\nexport async function getBreadcrumbs(hash, routeState, httpClient) {\n  const routes = parseLocationHash(hash);\n  const asyncBreadcrumbs = await Promise.all(routes.map(route => getBreadcrumb(route, routeState, httpClient)));\n\n  const breadcrumbs = _.flatten(asyncBreadcrumbs).filter(breadcrumb => !!breadcrumb);\n\n  return breadcrumbs;\n}\nexport function parseLocationHash(hash) {\n  return hash.split('/').filter(route => !!route);\n}\nexport async function getBreadcrumb(route, routeState, httpClient) {\n  const [base, queryParams] = route.split('?');\n  if (!base) return null; // This condition is true for any auto generated 20 character long,\n  // URL-safe, base64-encoded document ID by elasticsearch\n\n  if (RegExp(/^[0-9a-z_-]{20}$/i).test(base)) {\n    const {\n      action\n    } = queryString.parse(`?${queryParams}`);\n\n    switch (action) {\n      case DESTINATION_ACTIONS.UPDATE_DESTINATION:\n        const destinationName = _.get(routeState, 'destinationToEdit.name', base);\n\n        const destinationBreadcrumbs = [{\n          text: destinationName,\n          href: `/destinations/${base}`\n        }];\n\n        if (action === DESTINATION_ACTIONS.UPDATE_DESTINATION) {\n          destinationBreadcrumbs.push({\n            text: 'Update destination',\n            href: '/'\n          });\n        }\n\n        return destinationBreadcrumbs;\n\n      default:\n        // TODO::Everything else is considered as monitor, we should break this.\n        let monitorName = base;\n\n        try {\n          const response = await httpClient.get(`../api/alerting/monitors/${base}`);\n\n          if (response.ok) {\n            monitorName = response.resp.name;\n          }\n        } catch (err) {\n          console.error(err);\n        }\n\n        const breadcrumbs = [{\n          text: monitorName,\n          href: `/monitors/${base}`\n        }];\n        if (action === MONITOR_ACTIONS.UPDATE_MONITOR) breadcrumbs.push({\n          text: 'Update monitor',\n          href: '/'\n        });\n        if (action === TRIGGER_ACTIONS.CREATE_TRIGGER) breadcrumbs.push({\n          text: 'Create trigger',\n          href: '/'\n        });\n        if (action === TRIGGER_ACTIONS.UPDATE_TRIGGER) breadcrumbs.push({\n          text: 'Update trigger',\n          href: '/'\n        });\n        return breadcrumbs;\n    }\n  }\n\n  return {\n    '#': {\n      text: 'Alerting',\n      href: '/'\n    },\n    monitors: {\n      text: 'Monitors',\n      href: '/monitors'\n    },\n    dashboard: {\n      text: 'Dashboard',\n      href: '/dashboard'\n    },\n    destinations: {\n      text: 'Destinations',\n      href: '/destinations'\n    },\n    'create-monitor': [{\n      text: 'Monitors',\n      href: '/monitors'\n    }, {\n      text: 'Create monitor',\n      href: APP_PATH.CREATE_MONITOR\n    }],\n    'create-destination': [{\n      text: 'Destinations',\n      href: '/destinations'\n    }, {\n      text: 'Create destination',\n      href: APP_PATH.CREATE_DESTINATION\n    }]\n  }[base];\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Breadcrumbs from './Breadcrumbs';\nexport default Breadcrumbs;","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport PropTypes from 'prop-types';\nimport React from 'react';\n\nconst ChartContainer = ({\n  children,\n  style\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    borderRadius: '5px',\n    padding: '10px',\n    border: '1px solid #D9D9D9',\n    height: '250px',\n    width: '100%',\n    ...style\n  }\n}, children);\n\nChartContainer.propTypes = {\n  style: PropTypes.object,\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.arrayOf([PropTypes.node])]).isRequired\n};\nChartContainer.defaultPropTypes = {\n  style: {}\n};\nexport { ChartContainer };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\n\n/*\n  This file has been cloned and modified from the original source(https://github.com/uber/react-vis/blob/35c8950722e9ad60214399291eda731ac31af267/src/plot/highlight.js) due to its limitations.\n  We should revert this to an Actual Highlight Component from react-vis when it is ready for use with\n  Controlled Highlight, allow only Drag and not to rebrush.\n  * Removes capability for brushing on Area\n  * Adds capability for dragging on chart\n  * Styles Component as per the our mocks\n*/\nimport React from 'react';\nimport { ScaleUtils, AbstractSeries } from 'react-vis';\nimport { isEqual } from 'lodash';\nimport PropTypes from 'prop-types';\n\nconst getLocs = evt => {\n  const targetBounding = evt.currentTarget.getBoundingClientRect();\n  const offsetX = evt.clientX - targetBounding.left;\n  const offsetY = evt.clientY - targetBounding.top;\n  return {\n    xLoc: offsetX,\n    yLoc: offsetY\n  };\n};\n\nclass Highlight extends AbstractSeries {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"setHighlightedArea\", highlightArea => {\n      const {\n        highlightHeight,\n        highlightWidth,\n        innerWidth,\n        innerHeight,\n        marginLeft,\n        marginBottom,\n        marginTop,\n        marginRight\n      } = this.props;\n      const xScale = ScaleUtils.getAttributeScale(this.props, 'x');\n      const yScale = ScaleUtils.getAttributeScale(this.props, 'y');\n      const plotHeight = innerHeight + marginTop + marginBottom;\n      const plotWidth = innerWidth + marginLeft + marginRight;\n      let bottomPos = highlightHeight || plotHeight;\n\n      if (highlightArea.bottom) {\n        bottomPos = yScale(highlightArea.bottom) + marginTop;\n      }\n\n      let topPos = 0;\n\n      if (highlightArea.top) {\n        topPos = yScale(highlightArea.top) + marginTop;\n      }\n\n      let leftPos = 0 + marginLeft;\n\n      if (highlightArea.left) {\n        leftPos = xScale(highlightArea.left) + marginLeft;\n      }\n\n      let rightPos = highlightWidth || plotWidth;\n\n      if (highlightArea.right) {\n        rightPos = xScale(highlightArea.right) + marginLeft;\n      }\n\n      const brushArea = {\n        bottom: bottomPos,\n        right: rightPos,\n        left: leftPos,\n        top: topPos\n      };\n      this.setState({\n        brushArea,\n        dragArea: brushArea\n      });\n    });\n\n    this.state = {\n      dragging: false,\n      brushArea: {\n        bottom: 0,\n        right: 0,\n        left: 0,\n        top: 0\n      },\n      brushing: false,\n      startLocX: 0,\n      startLocY: 0,\n      dragArea: null\n    };\n  }\n\n  componentDidMount() {\n    const {\n      highlightRef\n    } = this.props;\n\n    if (highlightRef) {\n      highlightRef({\n        setHighlightedArea: this.setHighlightedArea\n      });\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(this.props, prevProps)) {\n      this.setHighlightedArea({ ...this.props.highlightedArea\n      });\n    }\n  }\n\n  _getDrawArea(xLoc, yLoc) {\n    const {\n      startLocX,\n      startLocY\n    } = this.state;\n    const {\n      enableX,\n      enableY,\n      highlightWidth,\n      highlightHeight,\n      innerWidth,\n      innerHeight,\n      marginLeft,\n      marginRight,\n      marginBottom,\n      marginTop\n    } = this.props;\n    const plotHeight = innerHeight + marginTop + marginBottom;\n    const plotWidth = innerWidth + marginLeft + marginRight;\n    const touchWidth = highlightWidth || plotWidth;\n    const touchHeight = highlightHeight || plotHeight;\n    return {\n      bottom: enableY ? Math.max(startLocY, yLoc) : touchHeight,\n      right: enableX ? Math.max(startLocX, xLoc) : touchWidth,\n      left: enableX ? Math.min(xLoc, startLocX) : 0,\n      top: enableY ? Math.min(yLoc, startLocY) : 0\n    };\n  }\n\n  _getDragArea(xLoc, yLoc) {\n    const {\n      enableX,\n      enableY\n    } = this.props;\n    const {\n      startLocX,\n      startLocY,\n      dragArea\n    } = this.state;\n    return {\n      bottom: dragArea.bottom + (enableY ? yLoc - startLocY : 0),\n      left: dragArea.left + (enableX ? xLoc - startLocX : 0),\n      right: dragArea.right + (enableX ? xLoc - startLocX : 0),\n      top: dragArea.top + (enableY ? yLoc - startLocY : 0)\n    };\n  }\n\n  _clickedOutsideDrag(xLoc, yLoc) {\n    const {\n      enableX,\n      enableY,\n      marginLeft,\n      marginTop\n    } = this.props;\n    const {\n      dragArea,\n      brushArea: {\n        left,\n        right,\n        top,\n        bottom\n      }\n    } = this.state;\n    const actualXLoc = xLoc + marginLeft;\n    const actualYLoc = yLoc + marginTop;\n    const clickedOutsideDragX = dragArea && (actualXLoc < left || actualXLoc > right);\n    const clickedOutsideDragY = dragArea && (actualYLoc < top || actualYLoc > bottom);\n\n    if (enableX && enableY) {\n      return clickedOutsideDragX || clickedOutsideDragY;\n    }\n\n    if (enableX) {\n      return clickedOutsideDragX;\n    }\n\n    if (enableY) {\n      return clickedOutsideDragY;\n    }\n\n    return true;\n  }\n\n  _convertAreaToCoordinates(brushArea) {\n    // NOTE only continuous scales are supported for brushing/getting coordinates back\n    const {\n      enableX,\n      enableY,\n      marginLeft,\n      marginTop\n    } = this.props;\n    const xScale = ScaleUtils.getAttributeScale(this.props, 'x');\n    const yScale = ScaleUtils.getAttributeScale(this.props, 'y'); // Ensure that users wishes are being respected about which scales are evaluated\n    // this is specifically enabled to ensure brushing on mixed categorical and linear\n    // charts will run as expected\n\n    if (enableX && enableY) {\n      return {\n        bottom: yScale.invert(brushArea.bottom),\n        left: xScale.invert(brushArea.left - marginLeft),\n        right: xScale.invert(brushArea.right - marginLeft),\n        top: yScale.invert(brushArea.top)\n      };\n    }\n\n    if (enableY) {\n      return {\n        bottom: yScale.invert(brushArea.bottom - marginTop),\n        top: yScale.invert(brushArea.top - marginTop)\n      };\n    }\n\n    if (enableX) {\n      return {\n        left: xScale.invert(brushArea.left - marginLeft),\n        right: xScale.invert(brushArea.right - marginLeft)\n      };\n    }\n\n    return {};\n  }\n  /*\n    This is a public method which can be accessed via ref which will allow\n    consumer to control Highlight Window.\n  */\n\n\n  startBrushing(e) {\n    e.preventDefault();\n    const {\n      onDragStart,\n      drag\n    } = this.props;\n    const {\n      dragArea\n    } = this.state;\n    const {\n      xLoc,\n      yLoc\n    } = getLocs(e);\n\n    const clickedOutsideDrag = this._clickedOutsideDrag(xLoc, yLoc);\n\n    if (!clickedOutsideDrag && drag) {\n      this.setState({\n        dragging: true,\n        brushArea: dragArea,\n        brushing: false,\n        startLocX: xLoc,\n        startLocY: yLoc\n      });\n\n      if (onDragStart) {\n        onDragStart(e);\n      }\n    }\n  }\n\n  stopBrushing(e) {\n    const {\n      brushing,\n      dragging,\n      brushArea\n    } = this.state; // Quickly short-circuit if the user isn't brushing in our component\n\n    if (!brushing && !dragging) {\n      return;\n    }\n\n    const {\n      onBrushEnd,\n      onDragEnd,\n      drag\n    } = this.props;\n    const noHorizontal = Math.abs(brushArea.right - brushArea.left) < 5;\n    const noVertical = Math.abs(brushArea.top - brushArea.bottom) < 5; // Invoke the callback with null if the selected area was < 5px\n\n    const isNulled = noVertical || noHorizontal; // Clear the draw area\n\n    this.setState({\n      brushing: false,\n      dragging: false,\n      brushArea: drag ? brushArea : {\n        top: 0,\n        right: 0,\n        bottom: 0,\n        left: 0\n      },\n      startLocX: 0,\n      startLocY: 0,\n      dragArea: drag && !isNulled && brushArea\n    });\n\n    if (brushing && onBrushEnd) {\n      onBrushEnd(!isNulled ? this._convertAreaToCoordinates(brushArea) : null);\n    }\n\n    if (drag && onDragEnd) {\n      onDragEnd(!isNulled ? this._convertAreaToCoordinates(brushArea) : null);\n    }\n  }\n\n  onBrush(e) {\n    const {\n      marginLeft,\n      marginRight,\n      innerWidth,\n      onBrush,\n      onDrag,\n      drag\n    } = this.props;\n    const {\n      brushing,\n      dragging\n    } = this.state;\n    const {\n      xLoc,\n      yLoc\n    } = getLocs(e);\n\n    if (brushing) {\n      const brushArea = this._getDrawArea(xLoc, yLoc);\n\n      this.setState({\n        brushArea\n      });\n\n      if (onBrush) {\n        onBrush(this._convertAreaToCoordinates(brushArea));\n      }\n    }\n\n    if (drag && dragging) {\n      const brushArea = this._getDragArea(xLoc, yLoc);\n\n      const rightBoundary = innerWidth + marginRight;\n      const leftBoundary = marginLeft;\n\n      if (brushArea.right <= rightBoundary && brushArea.left >= leftBoundary) {\n        this.setState({\n          brushArea\n        });\n\n        if (onDrag) {\n          onDrag(this._convertAreaToCoordinates(brushArea));\n        }\n      }\n    }\n  }\n\n  getHighlighterStyles() {\n    const {\n      isDarkMode\n    } = this.props;\n\n    if (isDarkMode) {\n      return {\n        fill: 'black',\n        opacity: 0.1\n      };\n    }\n\n    return {\n      fill: 'white',\n      opacity: 0.8\n    };\n  }\n\n  render() {\n    const {\n      color,\n      className,\n      highlightHeight,\n      highlightWidth,\n      highlightX,\n      highlightY,\n      innerWidth,\n      innerHeight,\n      marginLeft,\n      marginRight,\n      marginTop,\n      marginBottom,\n      opacity\n    } = this.props;\n    const {\n      brushArea: {\n        left,\n        right,\n        top,\n        bottom\n      }\n    } = this.state;\n    let leftPos = 0;\n\n    if (highlightX) {\n      const xScale = ScaleUtils.getAttributeScale(this.props, 'x');\n      leftPos = xScale(highlightX);\n    }\n\n    let topPos = 0;\n\n    if (highlightY) {\n      const yScale = ScaleUtils.getAttributeScale(this.props, 'y');\n      topPos = yScale(highlightY);\n    }\n\n    const plotWidth = marginLeft + marginRight + innerWidth;\n    const plotHeight = marginTop + marginBottom + innerHeight;\n    const touchWidth = highlightWidth || plotWidth;\n    const touchHeight = highlightHeight || plotHeight;\n    return /*#__PURE__*/React.createElement(\"g\", {\n      transform: `translate(${leftPos}, ${topPos})`,\n      className: `${className} rv-highlight-container`\n    }, /*#__PURE__*/React.createElement(\"rect\", {\n      className: \"rv-mouse-target\",\n      opacity: \"0\",\n      cursor: \"move\",\n      x: marginLeft,\n      y: 0,\n      width: Math.max(touchWidth, 0),\n      height: Math.max(touchHeight, 0),\n      onMouseDown: e => this.startBrushing(e),\n      onMouseMove: e => this.onBrush(e),\n      onMouseUp: e => this.stopBrushing(e),\n      onMouseLeave: e => this.stopBrushing(e) // preventDefault() so that mouse event emulation does not happen\n      ,\n      onTouchEnd: e => {\n        e.preventDefault();\n        this.stopBrushing(e);\n      },\n      onTouchCancel: e => {\n        e.preventDefault();\n        this.stopBrushing(e);\n      },\n      onContextMenu: e => e.preventDefault(),\n      onContextMenuCapture: e => e.preventDefault()\n    }), /*#__PURE__*/React.createElement(\"rect\", _extends({\n      pointerEvents: \"none\",\n      className: \"rv-mouse-target\",\n      x: marginLeft,\n      y: \"0\",\n      width: Math.max(left - marginLeft, 0),\n      height: Math.max(touchHeight, 0),\n      onMouseLeave: e => e.preventDefault()\n    }, this.getHighlighterStyles())), /*#__PURE__*/React.createElement(\"rect\", {\n      pointerEvents: \"none\",\n      opacity: opacity,\n      fill: color,\n      x: left,\n      y: top,\n      width: Math.max(0, right - left),\n      height: Math.max(0, bottom - top),\n      onMouseLeave: e => e.preventDefault()\n    }), /*#__PURE__*/React.createElement(\"rect\", _extends({\n      pointerEvents: \"none\",\n      className: \"rv-mouse-target\",\n      x: right,\n      y: \"0\",\n      width: Math.max(touchWidth - right, 0),\n      height: Math.max(touchHeight, 0),\n      onMouseLeave: e => e.preventDefault()\n    }, this.getHighlighterStyles())), /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"rect\", {\n      pointerEvents: \"none\",\n      x: left,\n      y: top,\n      width: \"1\",\n      height: Math.max(0, bottom - top),\n      fill: \"rgb(151,151,151)\",\n      stroke: \"none\",\n      onMouseLeave: e => e.preventDefault()\n    }), /*#__PURE__*/React.createElement(\"rect\", {\n      pointerEvents: \"none\",\n      x: right,\n      y: top,\n      width: \"1\",\n      height: Math.max(0, bottom - top),\n      fill: \"rgb(151,151,151)\",\n      stroke: \"none\",\n      onMouseLeave: e => e.preventDefault()\n    }), /*#__PURE__*/React.createElement(\"line\", {\n      pointerEvents: \"none\",\n      x1: left,\n      x2: right,\n      stroke: \"rgb(151,151,151)\",\n      strokeWidth: 2,\n      onMouseLeave: e => e.preventDefault()\n    })));\n  }\n\n}\n\nHighlight.displayName = 'HighlightOverlay';\nHighlight.defaultProps = {\n  color: 'rgb(77, 182, 172)',\n  className: '',\n  enableX: true,\n  enableY: true,\n  highlightRef: null,\n  opacity: 0.3\n};\nHighlight.propTypes = { ...AbstractSeries.propTypes,\n  enableX: PropTypes.bool,\n  enableY: PropTypes.bool,\n  highlightHeight: PropTypes.number,\n  highlightWidth: PropTypes.number,\n  highlightX: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  highlightY: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  highlightRef: PropTypes.func,\n  onBrushStart: PropTypes.func,\n  onDragStart: PropTypes.func,\n  onBrush: PropTypes.func,\n  onDrag: PropTypes.func,\n  onBrushEnd: PropTypes.func,\n  onDragEnd: PropTypes.func\n};\nexport default Highlight;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFlexGroup, EuiFlexItem, EuiHorizontalRule, EuiPanel, EuiTitle } from '@elastic/eui';\n\nconst ContentPanel = ({\n  title = '',\n  titleSize = 'l',\n  bodyStyles = {},\n  panelStyles = {},\n  horizontalRuleClassName = '',\n  actions,\n  children\n}) => /*#__PURE__*/React.createElement(EuiPanel, {\n  style: {\n    paddingLeft: '0px',\n    paddingRight: '0px',\n    ...panelStyles\n  }\n}, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  style: {\n    padding: '0px 10px'\n  },\n  justifyContent: \"spaceBetween\",\n  alignItems: \"center\"\n}, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiTitle, {\n  size: titleSize\n}, /*#__PURE__*/React.createElement(\"h3\", null, title))), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false\n}, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  justifyContent: \"spaceBetween\",\n  alignItems: \"center\"\n}, Array.isArray(actions) ? actions.map((action, idx) => /*#__PURE__*/React.createElement(EuiFlexItem, {\n  key: idx\n}, action)) : /*#__PURE__*/React.createElement(EuiFlexItem, null, actions)))), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n  margin: \"xs\",\n  className: horizontalRuleClassName\n}), /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    padding: '0px 10px',\n    ...bodyStyles\n  }\n}, children));\n\nContentPanel.propTypes = {\n  title: PropTypes.string,\n  titleSize: PropTypes.string,\n  bodyStyles: PropTypes.object,\n  panelStyles: PropTypes.object,\n  horizontalRuleClassName: PropTypes.string,\n  actions: PropTypes.oneOfType([PropTypes.node, PropTypes.arrayOf([PropTypes.node])]),\n  children: PropTypes.oneOfType([PropTypes.node, PropTypes.arrayOf([PropTypes.node])]).isRequired\n};\nexport default ContentPanel;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ContentPanel from './ContentPanel';\nexport default ContentPanel;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nclass DelayedLoader extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"clearTimer\", () => {\n      if (this.timer) {\n        clearTimeout(this.timer);\n        this.timer = null;\n      }\n    });\n\n    _defineProperty(this, \"setTimer\", () => {\n      this.timer = setTimeout(this.handleDisplayLoader, 1000);\n    });\n\n    _defineProperty(this, \"handleDisplayLoader\", () => this.setState({\n      displayLoader: true\n    }));\n\n    this.state = {\n      displayLoader: false\n    };\n\n    if (typeof props.children !== 'function') {\n      throw new Error('Children should be function');\n    }\n  }\n\n  componentDidMount() {\n    if (this.props.isLoading) {\n      this.setTimer();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      isLoading\n    } = this.props; // Setting up the loader to be visible only when network is too slow\n\n    if (isLoading !== prevProps.isLoading) {\n      if (isLoading) {\n        this.setTimer();\n      } else {\n        this.clearTimer();\n        this.setState({\n          displayLoader: false\n        });\n      }\n    }\n  }\n\n  componentWillUnmount() {\n    this.clearTimer();\n  }\n\n  render() {\n    const {\n      displayLoader\n    } = this.state;\n    return this.props.children(displayLoader);\n  }\n\n}\n\nDelayedLoader.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  children: PropTypes.func.isRequired\n};\nexport default DelayedLoader;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DelayedLoader from './DelayedLoader';\nexport default DelayedLoader;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFlyout, EuiFlyoutBody, EuiFlyoutHeader, EuiFlyoutFooter } from '@elastic/eui';\nimport Flyouts from './flyouts';\n\nconst getFlyoutData = ({\n  type,\n  payload\n}) => {\n  const flyout = Flyouts[type];\n  if (!flyout || typeof flyout !== 'function') return null;\n  return flyout(payload);\n};\n\nconst propTypes = {\n  flyout: PropTypes.object,\n  onClose: PropTypes.func.isRequired\n};\n\nconst Flyout = ({\n  flyout,\n  onClose\n}) => {\n  if (!flyout) return null;\n  const flyoutData = getFlyoutData(flyout);\n  if (!flyoutData) return null;\n  const {\n    flyoutProps = {},\n    headerProps = {},\n    bodyProps = {},\n    footerProps = {},\n    header = null,\n    body = null,\n    footer = null\n  } = flyoutData;\n  const flyoutHeader = header && /*#__PURE__*/React.createElement(EuiFlyoutHeader, headerProps, header);\n  const flyoutBody = body && /*#__PURE__*/React.createElement(EuiFlyoutBody, bodyProps, body);\n  const flyoutFooter = footer && /*#__PURE__*/React.createElement(EuiFlyoutFooter, footerProps, footer);\n  return /*#__PURE__*/React.createElement(EuiFlyout, _extends({\n    onClose: onClose\n  }, flyoutProps), flyoutHeader, flyoutBody, flyoutFooter);\n};\n\nFlyout.propTypes = propTypes;\nexport default Flyout;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport message from './message';\nimport messageFrequency from './messageFrequency';\nimport triggerCondition from './triggerCondition';\nconst Flyouts = {\n  messageFrequency,\n  message,\n  triggerCondition\n};\nexport default Flyouts;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiLink, EuiText, EuiTitle } from '@elastic/eui';\nimport { URL } from '../../../../utils/constants';\n\nconst message = () => ({\n  flyoutProps: {\n    'aria-labelledby': 'messageFlyout',\n    maxWidth: 500,\n    size: 'm'\n  },\n  headerProps: {\n    hasBorder: true\n  },\n  header: /*#__PURE__*/React.createElement(EuiTitle, {\n    size: \"m\",\n    style: {\n      fontSize: '25px'\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Message\"))),\n  body: /*#__PURE__*/React.createElement(EuiText, {\n    style: {\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", null, `You have access to a \"ctx\" variable in your painless scripts and action mustache templates.`), /*#__PURE__*/React.createElement(\"h3\", null, \"Learn More\"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, /*#__PURE__*/React.createElement(EuiLink, {\n    target: \"_blank\",\n    href: URL.MUSTACHE\n  }, \"HTML Templates with Mustache.js\"))))\n});\n\nexport default message;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiText, EuiTitle } from '@elastic/eui';\n\nconst messageFrequency = () => ({\n  flyoutProps: {\n    'aria-labelledby': 'messageFrequencyFlyout',\n    maxWidth: 500,\n    size: 'm'\n  },\n  headerProps: {\n    hasBorder: true\n  },\n  header: /*#__PURE__*/React.createElement(EuiTitle, {\n    size: \"m\",\n    style: {\n      fontSize: '25px'\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Message frequency\"))),\n  body: /*#__PURE__*/React.createElement(EuiText, {\n    style: {\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"Specify message frequency to limit the number of notifications you receive within a given span of time. This setting is especially useful for low severity trigger conditions.\"), /*#__PURE__*/React.createElement(\"p\", null, \"Consider the following example:\"), /*#__PURE__*/React.createElement(\"ul\", null, /*#__PURE__*/React.createElement(\"li\", null, \"A trigger condition is met.\"), /*#__PURE__*/React.createElement(\"li\", null, \"The monitor sends a message\"), /*#__PURE__*/React.createElement(\"li\", null, \"Message frequency is set to 10 minutes.\")), /*#__PURE__*/React.createElement(\"p\", null, \"For the next 10 minutes, even if a trigger condition is met dozens of times, the monitor sends no additional messages. If the trigger condition is met 11 minutes later, the monitor sends another message.\"))\n});\n\nexport default messageFrequency;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiCodeBlock, EuiCodeEditor, EuiSpacer, EuiText, EuiTitle } from '@elastic/eui';\nconst CONTEXT_VARIABLES = JSON.stringify({\n  monitor: '...',\n  trigger: '...',\n  results: '...',\n  periodStart: '...',\n  periodEnd: '...',\n  alert: '...',\n  error: '...'\n}, null, 4);\n\nconst triggerCondition = context => ({\n  flyoutProps: {\n    'aria-labelledby': 'triggerConditionFlyout',\n    maxWidth: 500,\n    size: 'm'\n  },\n  headerProps: {\n    hasBorder: true\n  },\n  header: /*#__PURE__*/React.createElement(EuiTitle, {\n    size: \"m\",\n    style: {\n      fontSize: '25px'\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", null, /*#__PURE__*/React.createElement(\"strong\", null, \"Trigger condition\"))),\n  body: /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(EuiText, {\n    style: {\n      fontSize: '14px'\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", null, \"You have access to a \\\"ctx\\\" variable in your painless scripts\"), /*#__PURE__*/React.createElement(\"p\", null, \"Below shows a quick JSON example of what's available under the \\\"ctx\\\" variable along with the actual results (where possible) for you to reference.\")), /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"m\"\n  }), /*#__PURE__*/React.createElement(EuiCodeBlock, {\n    language: \"json\"\n  }, CONTEXT_VARIABLES), /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"m\"\n  }), /*#__PURE__*/React.createElement(EuiCodeEditor, {\n    mode: \"json\",\n    theme: \"github\",\n    width: \"100%\",\n    height: \"700px\",\n    readOnly: true,\n    value: JSON.stringify(context, null, 4),\n    setOptions: {\n      fontSize: '12px'\n    }\n  }))\n});\n\nexport default triggerCondition;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Flyout from './Flyout';\nexport default Flyout;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiCheckbox } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikCheckbox = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(FieldCheckbox, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(FieldCheckbox, {\n    name: name,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst FieldCheckbox = ({\n  name,\n  field: {\n    value,\n    ...rest\n  },\n  inputProps\n}) => /*#__PURE__*/React.createElement(EuiCheckbox, _extends({\n  name: name,\n  id: name,\n  checked: value\n}, inputProps, rest));\n\nFormikCheckbox.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nFieldCheckbox.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikCheckbox;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikCheckbox from './FormikCheckbox';\nexport default FormikCheckbox;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiCodeEditor } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikCodeEditor = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(CodeEditor, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(CodeEditor, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst CodeEditor = ({\n  name,\n  form,\n  field,\n  inputProps: {\n    onBlur,\n    onChange,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiCodeEditor, _extends({\n  id: name,\n  onChange: string => {\n    onChange(string, field, form);\n  },\n  onBlur: e => {\n    onBlur(e, field, form);\n  },\n  value: field.value\n}, rest));\n\nFormikCodeEditor.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nCodeEditor.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikCodeEditor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikCodeEditor from './FormikCodeEditor';\nexport default FormikCodeEditor;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiComboBox } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikComboBox = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(ComboBox, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(ComboBox, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst ComboBox = ({\n  name,\n  form,\n  field,\n  inputProps: {\n    onBlur,\n    onChange,\n    onCreateOption,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiComboBox, _extends({\n  name: name,\n  id: name,\n  onChange: typeof onChange === 'function' ? options => {\n    onChange(options, field, form);\n  } : onChange,\n  onCreateOption: typeof onCreateOption === 'function' ? value => {\n    onCreateOption(value, field, form);\n  } : onCreateOption,\n  onBlur: typeof onBlur === 'function' ? e => {\n    onBlur(e, field, form);\n  } : onBlur,\n  selectedOptions: field.value\n}, rest));\n\nFormikComboBox.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nComboBox.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikComboBox;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikComboBox from './FormikComboBox';\nexport default FormikComboBox;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFieldNumber } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikFieldNumber = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(FieldNumber, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(FieldNumber, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst FieldNumber = ({\n  name,\n  form,\n  field,\n  inputProps: {\n    onChange,\n    isInvalid,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiFieldNumber, _extends({}, field, rest, {\n  onChange: e => typeof onChange === 'function' ? onChange(e, field, form) : field.onChange(e),\n  isInvalid: typeof isInvalid === 'function' ? isInvalid(name, form) : isInvalid\n}));\n\nFormikFieldNumber.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nFieldNumber.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikFieldNumber;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikFieldNumber from './FormikFieldNumber';\nexport default FormikFieldNumber;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFieldPassword } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikFieldPassword = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(FieldPassword, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(FieldPassword, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst FieldPassword = ({\n  name,\n  form,\n  field,\n  inputProps: {\n    onChange,\n    isInvalid,\n    onFocus,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiFieldPassword, _extends({}, field, rest, {\n  onChange: e => typeof onChange === 'function' ? onChange(e, field, form) : field.onChange(e),\n  onFocus: typeof onFocus === 'function' ? e => onFocus(e, field, form) : onFocus,\n  isInvalid: typeof isInvalid === 'function' ? isInvalid(name, form) : isInvalid\n}));\n\nFormikFieldPassword.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nFieldPassword.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikFieldPassword;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikFieldPassword from './FormikFieldPassword';\nexport default FormikFieldPassword;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiRadio } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikFieldRadio = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(FieldRadio, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(FieldRadio, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst FieldRadio = ({\n  name,\n  form,\n  field,\n  inputProps: {\n    onChange,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiRadio, _extends({}, field, rest, {\n  onChange: e => typeof onChange === 'function' ? onChange(e, field, form) : field.onChange(e)\n}));\n\nFormikFieldRadio.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nFieldRadio.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikFieldRadio;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikFieldRadio from './FormikFieldRadio';\nexport default FormikFieldRadio;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFieldText } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikFieldText = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(FieldText, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(FieldText, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst FieldText = ({\n  name,\n  form,\n  field,\n  inputProps: {\n    onChange,\n    isInvalid,\n    onFocus,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiFieldText, _extends({}, field, rest, {\n  onChange: e => typeof onChange === 'function' ? onChange(e, field, form) : field.onChange(e),\n  onFocus: typeof onFocus === 'function' ? e => onFocus(e, field, form) : onFocus,\n  isInvalid: typeof isInvalid === 'function' ? isInvalid(name, form) : isInvalid\n}));\n\nFormikFieldText.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nFieldText.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikFieldText;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikFieldText from './FormikFieldText';\nexport default FormikFieldText;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFormRow } from '@elastic/eui';\n\nconst FormikFormRow = ({\n  children,\n  form,\n  name,\n  rowProps: {\n    isInvalid,\n    error,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiFormRow, _extends({\n  id: `${name}-form-row`,\n  isInvalid: typeof isInvalid === 'function' ? isInvalid(name, form) : isInvalid,\n  error: typeof error === 'function' ? error(name, form) : error\n}, rest), children);\n\nFormikFormRow.propTypes = {\n  name: PropTypes.string.isRequired,\n  rowProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  children: PropTypes.node.isRequired\n};\nexport default FormikFormRow;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikFormRow from './FormikFormRow';\nexport default FormikFormRow;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Field } from 'formik';\n\nconst FormikInputWrapper = ({\n  name,\n  fieldProps,\n  render\n}) => /*#__PURE__*/React.createElement(Field, _extends({\n  name: name\n}, fieldProps, {\n  render: ({\n    field,\n    form\n  }) => render({\n    field,\n    form\n  })\n}));\n\nFormikInputWrapper.propTypes = {\n  name: PropTypes.string.isRequired,\n  fieldProps: PropTypes.object.isRequired,\n  render: PropTypes.func.isRequired\n};\nexport default FormikInputWrapper;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikInputWrapper from './FormikInputWrapper';\nexport default FormikInputWrapper;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiSelect } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikSelect = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(FieldSelect, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(FieldSelect, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst FieldSelect = ({\n  name,\n  field,\n  form,\n  inputProps: {\n    onChange,\n    isInvalid,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiSelect, _extends({\n  name: name,\n  id: name\n}, field, rest, {\n  onChange: e => typeof onChange === 'function' ? onChange(e, field, form) : field.onChange(e),\n  isInvalid: typeof isInvalid === 'function' ? isInvalid(name, form) : isInvalid\n}));\n\nFormikSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nFieldSelect.propTypes = {\n  name: PropTypes.string.isRequired,\n  form: PropTypes.object.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikSelect;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikSelect from './FormikSelect';\nexport default FormikSelect;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiSwitch } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikSwitch = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(FieldSwitch, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(FieldSwitch, {\n    name: name,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst FieldSwitch = ({\n  name,\n  field: {\n    value,\n    ...rest\n  },\n  inputProps\n}) => /*#__PURE__*/React.createElement(EuiSwitch, _extends({\n  name: name,\n  id: name,\n  checked: value\n}, inputProps, rest));\n\nFormikSwitch.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nFieldSwitch.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikSwitch;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikSwitch from './FormikSwitch';\nexport default FormikSwitch;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiTextArea } from '@elastic/eui';\nimport FormikInputWrapper from '../FormikInputWrapper';\nimport FormikFormRow from '../FormikFormRow';\n\nconst FormikTextArea = ({\n  name,\n  formRow = false,\n  fieldProps = {},\n  rowProps = {},\n  inputProps = {}\n}) => /*#__PURE__*/React.createElement(FormikInputWrapper, {\n  name: name,\n  fieldProps: fieldProps,\n  render: ({\n    field,\n    form\n  }) => formRow ? /*#__PURE__*/React.createElement(FormikFormRow, {\n    name: name,\n    form: form,\n    rowProps: rowProps\n  }, /*#__PURE__*/React.createElement(TextArea, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })) : /*#__PURE__*/React.createElement(TextArea, {\n    name: name,\n    form: form,\n    field: field,\n    inputProps: inputProps\n  })\n});\n\nconst TextArea = ({\n  name,\n  form,\n  field,\n  inputProps: {\n    isInvalid,\n    ...rest\n  }\n}) => /*#__PURE__*/React.createElement(EuiTextArea, _extends({\n  isInvalid: typeof isInvalid === 'function' ? isInvalid(name, form) : isInvalid\n}, field, rest));\n\nFormikTextArea.propTypes = {\n  name: PropTypes.string.isRequired,\n  formRow: PropTypes.bool,\n  fieldProps: PropTypes.object,\n  rowProps: PropTypes.object,\n  inputProps: PropTypes.object\n};\nTextArea.propTypes = {\n  name: PropTypes.string.isRequired,\n  inputProps: PropTypes.object.isRequired,\n  form: PropTypes.object.isRequired,\n  field: PropTypes.object.isRequired\n};\nexport default FormikTextArea;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikTextArea from './FormikTextArea';\nexport default FormikTextArea;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport FormikFieldText from './FormikFieldText';\nimport FormikFormRow from './FormikFormRow';\nimport FormikInputWrapper from './FormikInputWrapper';\nimport FormikTextArea from './FormikTextArea';\nimport FormikSwitch from './FormikSwitch';\nimport FormikCheckbox from './FormikCheckbox';\nimport FormikSelect from './FormikSelect';\nimport FormikFieldNumber from './FormikFieldNumber';\nimport FormikCodeEditor from './FormikCodeEditor';\nimport FormikComboBox from './FormikComboBox';\nimport FormikFieldPassword from './FormikFieldPassword';\nimport FormikFieldRadio from './FormikFieldRadio';\nexport { FormikComboBox, FormikSwitch, FormikCheckbox, FormikSelect, FormikFieldNumber, FormikFieldText, FormikFormRow, FormikInputWrapper, FormikTextArea, FormikCodeEditor, FormikFieldPassword, FormikFieldRadio };","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiHorizontalRule, EuiText, EuiTitle } from '@elastic/eui';\nconst DEFAULT_PROPS = {\n  size: 'xs',\n  style: {\n    paddingLeft: '10px'\n  }\n};\n\nconst SubHeader = ({\n  description,\n  descriptionProps = DEFAULT_PROPS,\n  horizontalRuleMargin = 'xs',\n  title,\n  titleProps = DEFAULT_PROPS\n}) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiTitle, titleProps, title), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n  margin: horizontalRuleMargin\n}), /*#__PURE__*/React.createElement(EuiText, descriptionProps, description));\n\nSubHeader.propTypes = {\n  description: PropTypes.node.isRequired,\n  descriptionProps: PropTypes.object,\n  horizontalRuleMargin: PropTypes.string,\n  title: PropTypes.node.isRequired,\n  titleProps: PropTypes.object\n};\nexport default SubHeader;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport SubHeader from './SubHeader';\nexport default SubHeader;","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiText, EuiSpacer } from '@elastic/eui';\nimport { Chart, Axis, LineSeries, niceTimeFormatter, Settings, Position, LineAnnotation } from '@elastic/charts';\nimport { ChartContainer } from '../../../../../components/ChartContainer/ChartContainer';\nimport DelayedLoader from '../../../../../components/DelayedLoader';\n\nconst getAxisTitle = (displayGrade, displayConfidence) => {\n  if (displayGrade && displayConfidence) {\n    return 'Anomaly grade / confidence';\n  }\n\n  return displayGrade ? 'Anomaly grade' : 'Anomaly confidence';\n};\n\nconst AnomaliesChart = props => {\n  const timeFormatter = niceTimeFormatter([props.startDateTime, props.endDateTime]);\n  return /*#__PURE__*/React.createElement(DelayedLoader, {\n    isLoading: props.isLoading\n  }, showLoader => /*#__PURE__*/React.createElement(React.Fragment, null, props.showTitle ? /*#__PURE__*/React.createElement(EuiText, {\n    size: \"xs\"\n  }, /*#__PURE__*/React.createElement(\"strong\", null, props.title)) : null, /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  }), /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(ChartContainer, {\n    style: {\n      height: '300px',\n      width: '100%',\n      opacity: showLoader ? 0.2 : 1\n    }\n  }, /*#__PURE__*/React.createElement(Chart, null, props.showSettings ? /*#__PURE__*/React.createElement(Settings, {\n    showLegend: true,\n    legendPosition: Position.Bottom,\n    showLegendDisplayValue: false\n  }) : null, /*#__PURE__*/React.createElement(Axis, {\n    id: \"bottom\",\n    position: \"bottom\",\n    tickFormat: timeFormatter\n  }), /*#__PURE__*/React.createElement(Axis, {\n    id: \"left\",\n    title: getAxisTitle(props.displayGrade, props.displayConfidence),\n    position: \"left\",\n    domain: {\n      min: 0,\n      max: 1\n    }\n  }), props.annotationData ? /*#__PURE__*/React.createElement(LineAnnotation, {\n    annotationId: \"anomalyAnnotation\",\n    domainType: \"yDomain\",\n    dataValues: props.annotationData,\n    style: {\n      line: {\n        strokeWidth: 1.5,\n        stroke: '#f00'\n      }\n    }\n  }) : null, props.displayGrade ? /*#__PURE__*/React.createElement(LineSeries, {\n    id: \"Anomaly grade\",\n    xScaleType: \"time\",\n    yScaleType: \"linear\",\n    xAccessor: 'plotTime',\n    yAccessors: ['anomalyGrade'],\n    data: props.anomalies\n  }) : null, props.displayConfidence ? /*#__PURE__*/React.createElement(LineSeries, {\n    id: \"Confidence\",\n    xScaleType: \"time\",\n    yScaleType: \"linear\",\n    xAccessor: 'plotTime',\n    yAccessors: ['confidence'],\n    data: props.anomalies\n  }) : null)))));\n};\n\nAnomaliesChart.propTypes = {\n  startDateTime: PropTypes.number,\n  endDateTime: PropTypes.number,\n  endDate: PropTypes.number,\n  isLoading: PropTypes.bool,\n  showTitle: PropTypes.bool,\n  showSettings: PropTypes.bool,\n  annotationData: PropTypes.array,\n  anomalies: PropTypes.array.isRequired,\n  title: PropTypes.string\n};\nAnomaliesChart.defaultProps = {\n  isLoading: false,\n  showTitle: true,\n  showSettings: true,\n  anomalies: undefined,\n  title: 'Sample preview for anomaly score'\n};\nexport { AnomaliesChart };","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport { AnomaliesChart } from './AnomaliesChart';","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiEmptyPrompt, EuiButton, EuiText, EuiLoadingChart } from '@elastic/eui';\nimport { KIBANA_AD_PLUGIN } from '../../../../../utils/constants';\n\nconst EmptyFeaturesMessage = props => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    borderRadius: '5px',\n    padding: '10px',\n    border: '1px solid #D9D9D9',\n    height: '250px',\n    width: '100%',\n    ...props.containerStyle\n  }\n}, props.isLoading ? /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiLoadingChart, {\n    size: \"xl\"\n  })\n}) : /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiText, null, \"No features have been added to this anomaly detector. A feature is a metric that is used for anomaly detection. A detector can discover anomalies across one or more features.\"),\n  actions: [/*#__PURE__*/React.createElement(EuiButton, {\n    \"data-test-subj\": \"createButton\",\n    href: `${KIBANA_AD_PLUGIN}#/detectors/${props.detectorId}/features`,\n    target: \"_blank\"\n  }, \"Add Feature\")]\n}));\n\nEmptyFeaturesMessage.propTypes = {\n  detectorId: PropTypes.string,\n  isLoading: PropTypes.bool.isRequired,\n  containerStyle: PropTypes.object\n};\nEmptyFeaturesMessage.defaultProps = {\n  detectorId: '',\n  containerStyle: {}\n};\nexport { EmptyFeaturesMessage };","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Chart, Axis, LineSeries, RectAnnotation, niceTimeFormatter } from '@elastic/charts';\nimport { EuiPagination, EuiText, EuiFlexGroup, EuiFlexItem, EuiSpacer } from '@elastic/eui';\nimport DelayedLoader from '../../../../../components/DelayedLoader';\nimport { ChartContainer } from '../../../../../components/ChartContainer/ChartContainer';\n\nclass FeatureChart extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activePage: 0\n    };\n    this.goToPage = this.goToPage.bind(this);\n  }\n\n  goToPage(pageNumber) {\n    this.setState({\n      activePage: pageNumber\n    });\n  }\n\n  render() {\n    const {\n      isLoading,\n      startDateTime,\n      endDateTime,\n      featureData,\n      annotations,\n      title\n    } = this.props;\n    const currentFeature = featureData[this.state.activePage];\n    const timeFormatter = niceTimeFormatter([startDateTime, endDateTime]);\n    return /*#__PURE__*/React.createElement(DelayedLoader, {\n      isLoading: isLoading\n    }, showLoader => {\n      return currentFeature ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        justifyContent: \"spaceBetween\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiText, {\n        size: \"xs\"\n      }, /*#__PURE__*/React.createElement(\"strong\", null, title))), /*#__PURE__*/React.createElement(EuiSpacer, {\n        size: \"s\"\n      }), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiPagination, {\n        pageCount: featureData.length,\n        activePage: this.state.activePage,\n        onPageClick: this.goToPage\n      }))), /*#__PURE__*/React.createElement(ChartContainer, {\n        style: showLoader ? {\n          opacity: 0.2\n        } : {}\n      }, /*#__PURE__*/React.createElement(Chart, null, /*#__PURE__*/React.createElement(RectAnnotation, {\n        dataValues: annotations || [],\n        annotationId: \"react\",\n        style: {\n          stroke: '#FCAAAA',\n          strokeWidth: 1.5,\n          fill: '#FCAAAA'\n        }\n      }), /*#__PURE__*/React.createElement(Axis, {\n        id: \"left\",\n        title: currentFeature.featureName,\n        position: \"left\"\n      }), /*#__PURE__*/React.createElement(Axis, {\n        id: \"bottom\",\n        position: \"bottom\",\n        tickFormat: timeFormatter\n      }), /*#__PURE__*/React.createElement(LineSeries, {\n        id: \"lines\",\n        xScaleType: \"time\",\n        yScaleType: \"linear\",\n        xAccessor: 'startTime',\n        yAccessors: ['data'],\n        data: currentFeature.data\n      })))) : null;\n    });\n  }\n\n}\n\nFeatureChart.propTypes = {\n  isLoading: PropTypes.bool.isRequired,\n  startDateTime: PropTypes.number.isRequired,\n  endDateTime: PropTypes.number.isRequired,\n  featureData: PropTypes.array.isRequired,\n  annotations: PropTypes.array,\n  title: PropTypes.string\n};\nFeatureChart.defaultProps = {\n  title: 'Sample feature data'\n};\nexport { FeatureChart };","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiCodeEditor, EuiFlexGroup, EuiFlexItem, EuiFormRow } from '@elastic/eui';\nimport 'brace/mode/json';\nimport 'brace/mode/plain_text';\nimport 'brace/snippets/javascript';\nimport 'brace/ext/language_tools';\nimport { FormikCodeEditor } from '../../../../components/FormControls';\nimport { isInvalid, hasError, validateExtractionQuery } from '../../../../utils/validate';\n\nconst ExtractionQuery = ({\n  isDarkMode,\n  response\n}) => /*#__PURE__*/React.createElement(EuiFlexGroup, null, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(FormikCodeEditor, {\n  name: \"query\",\n  formRow: true,\n  fieldProps: {\n    validate: validateExtractionQuery\n  },\n  rowProps: {\n    label: 'Define extraction query',\n    fullWidth: true,\n    isInvalid,\n    error: hasError\n  },\n  inputProps: {\n    mode: 'json',\n    width: '100%',\n    height: '500px',\n    theme: isDarkMode ? 'sense-dark' : 'github',\n    onChange: (query, field, form) => {\n      form.setFieldValue('query', query);\n    },\n    onBlur: (e, field, form) => {\n      form.setFieldTouched('query', true);\n    }\n  }\n})), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiFormRow, {\n  label: \"Extraction query response\",\n  fullWidth: true\n}, /*#__PURE__*/React.createElement(EuiCodeEditor, {\n  mode: \"json\",\n  theme: isDarkMode ? 'sense-dark' : 'github',\n  width: \"100%\",\n  height: \"500px\",\n  value: response,\n  readOnly: true\n}))));\n\nexport default ExtractionQuery;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ExtractionQuery from './ExtractionQuery';\nexport default ExtractionQuery;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport FormikSelect from '../../../../components/FormControls/FormikSelect/FormikSelect';\nimport { ES_AD_PLUGIN } from '../../../../utils/constants';\nconst defaultSelectDefinitions = [{\n  value: 'graph',\n  text: 'Define using visual graph'\n}, {\n  value: 'query',\n  text: 'Define using extraction query'\n}];\n\nconst onChangeDefinition = (e, form, resetResponse) => {\n  const type = e.target.value;\n  resetResponse();\n  form.setFieldValue('searchType', type);\n};\n\nconst selectDefinitions = plugins => {\n  return plugins === undefined || plugins.indexOf(ES_AD_PLUGIN) == -1 ? defaultSelectDefinitions : [...defaultSelectDefinitions, {\n    value: 'ad',\n    text: 'Define using anomaly detector'\n  }];\n};\n\nconst MonitorDefinition = ({\n  resetResponse,\n  plugins\n}) => /*#__PURE__*/React.createElement(FormikSelect, {\n  name: \"searchType\",\n  formRow: true,\n  rowProps: {\n    label: 'Method of definition',\n    style: {\n      paddingLeft: '10px'\n    }\n  },\n  inputProps: {\n    options: selectDefinitions(plugins),\n    onChange: (e, field, form) => {\n      onChangeDefinition(e, form, resetResponse);\n    }\n  }\n});\n\nexport default MonitorDefinition;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorDefinition from './MonitorDefinition';\nexport default MonitorDefinition;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { EuiFlexGroup, EuiFlexItem } from '@elastic/eui';\nimport { ForExpression, OfExpression, OverExpression, WhenExpression, WhereExpression } from './expressions';\nexport const DEFAULT_CLOSED_STATES = {\n  WHEN: false,\n  OF_FIELD: false,\n  THRESHOLD: false,\n  OVER: false,\n  FOR_THE_LAST: false,\n  WHERE: false\n};\nexport default class MonitorExpressions extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      openedStates: DEFAULT_CLOSED_STATES,\n      madeChanges: false\n    });\n\n    _defineProperty(this, \"openExpression\", expression => {\n      this.setState({\n        openedStates: { ...DEFAULT_CLOSED_STATES,\n          [expression]: true\n        }\n      });\n    });\n\n    _defineProperty(this, \"closeExpression\", expression => {\n      const {\n        madeChanges,\n        openedStates\n      } = this.state;\n\n      if (madeChanges && openedStates[expression]) {\n        // if made changes and close expression that was currently open => run query\n        this.props.onRunQuery();\n        this.setState({\n          madeChanges: false\n        });\n      }\n\n      this.setState({\n        openedStates: { ...openedStates,\n          [expression]: false\n        }\n      });\n    });\n\n    _defineProperty(this, \"onMadeChanges\", () => {\n      this.setState({\n        madeChanges: true\n      });\n    });\n\n    _defineProperty(this, \"getExpressionProps\", () => ({\n      openedStates: this.state.openedStates,\n      closeExpression: this.closeExpression,\n      openExpression: this.openExpression,\n      onMadeChanges: this.onMadeChanges\n    }));\n  }\n\n  render() {\n    const {\n      dataTypes,\n      ofEnabled\n    } = this.props;\n    return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(WhenExpression, this.getExpressionProps())), ofEnabled && /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(OfExpression, _extends({}, this.getExpressionProps(), {\n      dataTypes: dataTypes\n    }))), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(OverExpression, this.getExpressionProps())), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(ForExpression, this.getExpressionProps())), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(WhereExpression, _extends({}, this.getExpressionProps(), {\n      dataTypes: dataTypes\n    }))));\n  }\n\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'formik';\nimport { EuiFlexGroup, EuiFlexItem, EuiPopover, EuiExpression } from '@elastic/eui';\nimport { Expressions, POPOVER_STYLE, UNITS_OF_TIME, EXPRESSION_STYLE } from './utils/constants';\nimport { selectOptionValueToText } from './utils/helpers';\nimport { FormikFieldNumber, FormikSelect } from '../../../../../components/FormControls';\n\nclass ForExpression extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onChangeWrapper\", (e, field) => {\n      this.props.onMadeChanges();\n      field.onChange(e);\n    });\n\n    _defineProperty(this, \"renderPopover\", () => /*#__PURE__*/React.createElement(\"div\", {\n      style: POPOVER_STYLE\n    }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      style: {\n        maxWidth: 600,\n        ...EXPRESSION_STYLE\n      }\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 100\n      }\n    }, /*#__PURE__*/React.createElement(FormikFieldNumber, {\n      name: \"bucketValue\",\n      inputProps: {\n        onChange: this.onChangeWrapper\n      }\n    })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 150\n      }\n    }, /*#__PURE__*/React.createElement(FormikSelect, {\n      name: \"bucketUnitOfTime\",\n      inputProps: {\n        onChange: this.onChangeWrapper,\n        options: UNITS_OF_TIME\n      }\n    })))));\n  }\n\n  render() {\n    const {\n      formik: {\n        values\n      },\n      openedStates,\n      closeExpression,\n      openExpression\n    } = this.props;\n    return /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"for-popover\",\n      button: /*#__PURE__*/React.createElement(EuiExpression, {\n        description: \"for the last\",\n        value: `${values.bucketValue.toLocaleString()} ${selectOptionValueToText(values.bucketUnitOfTime, UNITS_OF_TIME)}`,\n        isActive: openedStates.FOR_THE_LAST,\n        onClick: () => openExpression(Expressions.FOR_THE_LAST)\n      }),\n      isOpen: openedStates.FOR_THE_LAST,\n      closePopover: () => closeExpression(Expressions.FOR_THE_LAST),\n      panelPaddingSize: \"none\",\n      ownFocus: true,\n      withTitle: true,\n      anchorPosition: \"downLeft\"\n    }, this.renderPopover());\n  }\n\n}\n\nForExpression.propTypes = {\n  formik: PropTypes.object.isRequired,\n  openedStates: PropTypes.object.isRequired,\n  openExpression: PropTypes.func.isRequired,\n  closeExpression: PropTypes.func.isRequired\n};\nexport default connect(ForExpression);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { connect } from 'formik';\nimport _ from 'lodash';\nimport { EuiPopover, EuiExpression } from '@elastic/eui';\nimport { FormikComboBox } from '../../../../../components/FormControls';\nimport { POPOVER_STYLE, EXPRESSION_STYLE, Expressions } from './utils/constants';\nimport { getOfExpressionAllowedTypes } from './utils/helpers';\nimport { getIndexFields } from './utils/dataTypes'; // TODO: EuiComboBox has an internal setState issue, waiting for EUI to fix it, remove this TODO when it is fixed\n\nclass OfExpression extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onChangeWrapper\", (options, field, form) => {\n      this.props.onMadeChanges();\n      form.setFieldValue('fieldName', options);\n    });\n\n    _defineProperty(this, \"renderPopover\", (options, expressionWidth) => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: Math.max(expressionWidth, 180),\n        ...POPOVER_STYLE,\n        ...EXPRESSION_STYLE\n      }\n    }, /*#__PURE__*/React.createElement(FormikComboBox, {\n      name: \"fieldName\",\n      inputProps: {\n        placeholder: 'Select a field',\n        options,\n        onChange: this.onChangeWrapper,\n        isClearable: false,\n        singleSelection: {\n          asPlainText: true\n        },\n        'data-test-subj': 'ofFieldComboBox'\n      }\n    })));\n  }\n\n  render() {\n    const {\n      formik: {\n        values\n      },\n      openedStates,\n      closeExpression,\n      openExpression,\n      dataTypes\n    } = this.props;\n    const options = getIndexFields(dataTypes, getOfExpressionAllowedTypes(values));\n    const expressionWidth = Math.max(...options.map(({\n      options\n    }) => options.reduce((accu, curr) => Math.max(accu, curr.label.length), 0))) * 8 + 60;\n\n    const fieldName = _.get(values, 'fieldName[0].label', 'Select a field');\n\n    return /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"of-popover\",\n      button: /*#__PURE__*/React.createElement(EuiExpression, {\n        description: \"of\",\n        value: fieldName,\n        isActive: openedStates.OF_FIELD,\n        onClick: () => openExpression(Expressions.OF_FIELD)\n      }),\n      isOpen: openedStates.OF_FIELD,\n      closePopover: () => closeExpression(Expressions.OF_FIELD),\n      panelPaddingSize: \"none\",\n      ownFocus: true,\n      withTitle: true,\n      anchorPosition: \"downLeft\"\n    }, this.renderPopover(options, expressionWidth));\n  }\n\n}\n\nexport default connect(OfExpression);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { connect } from 'formik';\nimport { EuiPopover, EuiExpression, EuiFlexGroup, EuiFlexItem } from '@elastic/eui';\nimport { POPOVER_STYLE, Expressions, OVER_TYPES, EXPRESSION_STYLE } from './utils/constants';\nimport { FormikSelect, FormikFieldNumber } from '../../../../../components/FormControls';\n\nclass OverExpression extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onChangeWrapper\", (e, field) => {\n      this.props.onMadeChanges();\n      field.onChange(e);\n    });\n\n    _defineProperty(this, \"renderTypeSelect\", () => /*#__PURE__*/React.createElement(FormikSelect, {\n      name: \"overDocuments\",\n      inputProps: {\n        onChange: this.onChangeWrapper,\n        options: OVER_TYPES\n      }\n    }));\n\n    _defineProperty(this, \"renderTopFieldNumber\", () => /*#__PURE__*/React.createElement(FormikFieldNumber, {\n      name: \"groupedOverTop\",\n      inputProps: {\n        onChange: this.onChangeWrapper\n      }\n    }));\n\n    _defineProperty(this, \"renderTermField\", (fields = []) => /*#__PURE__*/React.createElement(FormikSelect, {\n      name: \"groupedOverFieldName\",\n      inputProps: {\n        onChange: this.onChangeWrapper,\n        options: fields\n      }\n    }));\n\n    _defineProperty(this, \"renderOverPopover\", () => /*#__PURE__*/React.createElement(\"div\", {\n      style: { ...POPOVER_STYLE,\n        ...EXPRESSION_STYLE\n      }\n    }, this.renderTypeSelect()));\n\n    _defineProperty(this, \"renderGroupedPopover\", () => /*#__PURE__*/React.createElement(\"div\", {\n      style: POPOVER_STYLE\n    }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      style: {\n        maxWidth: 600,\n        width: Math.max(expressionWidth, 180),\n        ...EXPRESSION_STYLE\n      }\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 100\n      }\n    }, this.renderTypeSelect()), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 100\n      }\n    }, this.renderTopFieldNumber()), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 180\n      }\n    }, this.renderTermField()))));\n  }\n\n  render() {\n    const {\n      formik: {\n        values\n      },\n      openedStates,\n      closeExpression,\n      openExpression\n    } = this.props;\n    const isGroupedOver = values.overDocuments === 'top';\n    const buttonValue = isGroupedOver ? `${values.overDocuments} ${values.groupedOverTop} ${values.groupedOverFieldName}` : values.overDocuments;\n    return /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"over-popover\",\n      button: /*#__PURE__*/React.createElement(EuiExpression, {\n        description: isGroupedOver ? 'grouped over' : 'over',\n        value: buttonValue,\n        isActive: openedStates.OVER,\n        onClick: () => openExpression(Expressions.OVER)\n      }),\n      isOpen: openedStates.OVER,\n      closePopover: () => closeExpression(Expressions.OVER),\n      panelPaddingSize: \"none\",\n      ownFocus: true,\n      withTitle: true,\n      anchorPosition: \"downLeft\"\n    }, this.renderOverPopover());\n  }\n\n}\n\nexport default connect(OverExpression);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { connect } from 'formik';\nimport { EuiPopover, EuiExpression } from '@elastic/eui';\nimport { Expressions, POPOVER_STYLE, AGGREGATION_TYPES, EXPRESSION_STYLE } from './utils/constants';\nimport { selectOptionValueToText } from './utils/helpers';\nimport { FormikSelect } from '../../../../../components/FormControls';\n\nclass WhenExpression extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"onChangeWrapper\", (e, field) => {\n      this.props.onMadeChanges();\n      field.onChange(e);\n    });\n\n    _defineProperty(this, \"renderPopover\", () => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        width: 180,\n        ...POPOVER_STYLE,\n        ...EXPRESSION_STYLE\n      }\n    }, /*#__PURE__*/React.createElement(FormikSelect, {\n      name: \"aggregationType\",\n      inputProps: {\n        onChange: this.onChangeWrapper,\n        options: AGGREGATION_TYPES\n      }\n    })));\n  }\n\n  render() {\n    const {\n      formik: {\n        values\n      },\n      openedStates,\n      closeExpression,\n      openExpression\n    } = this.props;\n    return /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"when-popover\",\n      button: /*#__PURE__*/React.createElement(EuiExpression, {\n        description: \"when\",\n        value: selectOptionValueToText(values.aggregationType, AGGREGATION_TYPES),\n        isActive: openedStates.WHEN,\n        onClick: () => openExpression(Expressions.WHEN)\n      }),\n      isOpen: openedStates.WHEN,\n      closePopover: () => closeExpression(Expressions.WHEN),\n      panelPaddingSize: \"none\",\n      ownFocus: true,\n      withTitle: true,\n      anchorPosition: \"downLeft\"\n    }, this.renderPopover());\n  }\n\n}\n\nexport default connect(WhenExpression);","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'formik';\nimport { EuiFlexGroup, EuiFlexItem, EuiPopover, EuiExpression, EuiText } from '@elastic/eui';\nimport _ from 'lodash';\nimport { Expressions, POPOVER_STYLE, EXPRESSION_STYLE, WHERE_BOOLEAN_FILTERS } from './utils/constants';\nimport { getOperators, displayText, validateRange, isNullOperator, isRangeOperator } from './utils/whereHelpers';\nimport { isInvalid, required } from '../../../../../utils/validate';\nimport { FormikComboBox, FormikSelect, FormikFieldNumber, FormikFieldText } from '../../../../../components/FormControls';\nimport { getIndexFields } from './utils/dataTypes';\nimport { FORMIK_INITIAL_VALUES } from '../../../containers/CreateMonitor/utils/constants';\nimport { DATA_TYPES } from '../../../../../utils/constants';\nconst propTypes = {\n  formik: PropTypes.object.isRequired,\n  dataTypes: PropTypes.object.isRequired,\n  onMadeChanges: PropTypes.func.isRequired,\n  openedStates: PropTypes.object.isRequired,\n  openExpression: PropTypes.func.isRequired\n};\n\nclass WhereExpression extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleFieldChange\", (option, field, form) => {\n      this.props.onMadeChanges();\n      this.resetValues();\n      form.setFieldValue(field.name, option); // User can remove where condition\n\n      if (option.length === 0) {\n        this.resetValues();\n        form.setFieldError('where', undefined);\n      }\n    });\n\n    _defineProperty(this, \"handleOperatorChange\", (e, field) => {\n      this.props.onMadeChanges();\n      field.onChange(e);\n    });\n\n    _defineProperty(this, \"handleChangeWrapper\", (e, field) => {\n      this.props.onMadeChanges();\n      field.onChange(e);\n    });\n\n    _defineProperty(this, \"handleClosePopOver\", async () => {\n      const {\n        formik: {\n          values\n        },\n        closeExpression\n      } = this.props; // Explicitly invoking validation, this component unmount after it closes.\n\n      if (values.where.fieldName.length > 0) {\n        await this.props.formik.validateForm();\n      }\n\n      closeExpression(Expressions.WHERE);\n    });\n\n    _defineProperty(this, \"resetValues\", () => {\n      const {\n        formik\n      } = this.props;\n      formik.setValues({ ...formik.values,\n        where: { ...FORMIK_INITIAL_VALUES.where\n        }\n      });\n    });\n\n    _defineProperty(this, \"renderBetweenAnd\", () => {\n      const {\n        formik: {\n          values\n        }\n      } = this.props;\n      return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(FormikFieldNumber, {\n        name: \"where.fieldRangeStart\",\n        fieldProps: {\n          validate: value => validateRange(value, values.where)\n        },\n        inputProps: {\n          onChange: this.handleChangeWrapper,\n          isInvalid\n        }\n      })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiText, {\n        textAlign: \"center\"\n      }, \"TO\")), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(FormikFieldNumber, {\n        name: \"where.fieldRangeEnd\",\n        fieldProps: {\n          validate: value => validateRange(value, values.where)\n        },\n        inputProps: {\n          onChange: this.handleChangeWrapper,\n          isInvalid\n        }\n      })));\n    });\n\n    _defineProperty(this, \"renderValueField\", (fieldType, fieldOperator) => {\n      if (fieldType == DATA_TYPES.NUMBER) {\n        return isRangeOperator(fieldOperator) ? this.renderBetweenAnd() : /*#__PURE__*/React.createElement(FormikFieldNumber, {\n          name: \"where.fieldValue\",\n          fieldProps: {\n            validate: required\n          },\n          inputProps: {\n            onChange: this.handleChangeWrapper,\n            isInvalid\n          }\n        });\n      } else if (fieldType == DATA_TYPES.BOOLEAN) {\n        return /*#__PURE__*/React.createElement(FormikSelect, {\n          name: \"where.fieldValue\",\n          fieldProps: {\n            validate: required\n          },\n          inputProps: {\n            onChange: this.handleChangeWrapper,\n            options: WHERE_BOOLEAN_FILTERS,\n            isInvalid\n          }\n        });\n      } else {\n        return /*#__PURE__*/React.createElement(FormikFieldText, {\n          name: \"where.fieldValue\",\n          fieldProps: {\n            validate: required\n          },\n          inputProps: {\n            onChange: this.handleChangeWrapper,\n            isInvalid\n          }\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      formik: {\n        values\n      },\n      openedStates,\n      openExpression,\n      dataTypes\n    } = this.props;\n    const indexFields = getIndexFields(dataTypes, ['number', 'text', 'keyword', 'boolean']);\n\n    const fieldType = _.get(values, 'where.fieldName[0].type', 'number');\n\n    const fieldOperator = _.get(values, 'where.operator', 'is');\n\n    return /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"where-popover\",\n      button: /*#__PURE__*/React.createElement(EuiExpression, {\n        description: \"where\",\n        value: displayText(values.where),\n        isActive: openedStates.WHERE,\n        onClick: () => openExpression(Expressions.WHERE)\n      }),\n      isOpen: openedStates.WHERE,\n      closePopover: this.handleClosePopOver,\n      panelPaddingSize: \"none\",\n      ownFocus: true,\n      withTitle: true,\n      anchorPosition: \"downLeft\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: POPOVER_STYLE\n    }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      style: { ...EXPRESSION_STYLE\n      }\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 200\n      }\n    }, /*#__PURE__*/React.createElement(FormikComboBox, {\n      name: \"where.fieldName\",\n      inputProps: {\n        placeholder: 'Select a field',\n        options: indexFields,\n        onChange: this.handleFieldChange,\n        isClearable: false,\n        singleSelection: {\n          asPlainText: true\n        }\n      }\n    })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(FormikSelect, {\n      name: \"where.operator\",\n      inputProps: {\n        onChange: this.handleOperatorChange,\n        options: getOperators(fieldType)\n      }\n    })), !isNullOperator(fieldOperator) && /*#__PURE__*/React.createElement(EuiFlexItem, null, this.renderValueField(fieldType, fieldOperator)))));\n  }\n\n}\n\nWhereExpression.propTypes = propTypes;\nexport default connect(WhereExpression);","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ForExpression from './ForExpression';\nimport OfExpression from './OfExpression';\nimport OverExpression from './OverExpression';\nimport WhenExpression from './WhenExpression';\nimport WhereExpression from './WhereExpression';\nexport { ForExpression, OfExpression, OverExpression, WhenExpression, WhereExpression };","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const POPOVER_STYLE = {\n  zIndex: '200'\n};\nexport const EXPRESSION_STYLE = {\n  padding: '20px',\n  whiteSpace: 'nowrap'\n};\nexport const Expressions = {\n  THRESHOLD: 'THRESHOLD',\n  WHEN: 'WHEN',\n  OF_FIELD: 'OF_FIELD',\n  OVER: 'OVER',\n  FOR_THE_LAST: 'FOR_THE_LAST',\n  WHERE: 'WHERE'\n};\nexport const NUMBER_TYPES = ['long', 'integer', 'short', 'byte', 'double', 'float', 'half_float', 'scaled_float'];\nexport const UNITS_OF_TIME = [{\n  value: 'm',\n  text: 'minute(s)'\n}, {\n  value: 'h',\n  text: 'hour(s)'\n}, {\n  value: 'd',\n  text: 'day(s)'\n}];\nexport const WHERE_BOOLEAN_FILTERS = [{\n  text: 'Select value',\n  value: ''\n}, {\n  text: 'True',\n  value: true\n}, {\n  text: 'False',\n  value: false\n}];\nexport const OPERATORS_MAP = {\n  IS: 'is',\n  IS_NOT: 'is_not',\n  IS_NULL: 'is_null',\n  IS_NOT_NULL: 'is_not_null',\n  IS_GREATER: 'is_greater',\n  IS_GREATER_EQUAL: 'is_greater_equal',\n  IS_LESS: 'is_less',\n  IS_LESS_EQUAL: 'is_less_equal',\n  STARTS_WITH: 'starts_with',\n  ENDS_WITH: 'ends_with',\n  CONTAINS: 'contains',\n  NOT_CONTAINS: 'does_not_contains',\n  IN_RANGE: 'in_range',\n  NOT_IN_RANGE: 'not_in_range'\n};\nexport const COMPARISON_OPERATORS = [{\n  text: 'is',\n  value: OPERATORS_MAP.IS,\n  dataTypes: ['number', 'text', 'keyword', 'boolean']\n}, {\n  text: 'is not',\n  value: OPERATORS_MAP.IS_NOT,\n  dataTypes: ['number', 'text', 'keyword', 'boolean']\n}, {\n  text: 'is null',\n  value: OPERATORS_MAP.IS_NULL,\n  dataTypes: ['number', 'text', 'keyword', 'boolean']\n}, {\n  text: 'is not null',\n  value: OPERATORS_MAP.IS_NOT_NULL,\n  dataTypes: ['number', 'text', 'keyword']\n}, {\n  text: 'is greater than',\n  value: OPERATORS_MAP.IS_GREATER,\n  dataTypes: ['number']\n}, {\n  text: 'is greater than equal',\n  value: OPERATORS_MAP.IS_GREATER_EQUAL,\n  dataTypes: ['number']\n}, {\n  text: 'is less than',\n  value: OPERATORS_MAP.IS_LESS,\n  dataTypes: ['number']\n}, {\n  text: 'is less than equal',\n  value: OPERATORS_MAP.IS_LESS_EQUAL,\n  dataTypes: ['number']\n}, {\n  text: 'is in range',\n  value: OPERATORS_MAP.IN_RANGE,\n  dataTypes: ['number']\n}, {\n  text: 'is not in range',\n  value: OPERATORS_MAP.NOT_IN_RANGE,\n  dataTypes: ['number']\n}, {\n  text: 'starts with',\n  value: OPERATORS_MAP.STARTS_WITH,\n  dataTypes: ['text', 'keyword']\n}, {\n  text: 'ends with',\n  value: OPERATORS_MAP.ENDS_WITH,\n  dataTypes: ['text', 'keyword']\n}, {\n  text: 'contains',\n  value: OPERATORS_MAP.CONTAINS,\n  dataTypes: ['text', 'keyword']\n}, {\n  text: 'does not contains',\n  value: OPERATORS_MAP.NOT_CONTAINS,\n  dataTypes: ['text']\n}];\nexport const OVER_TYPES = [{\n  value: 'all documents',\n  text: 'all documents'\n}];\nexport const AGGREGATION_TYPES = [{\n  value: 'avg',\n  text: 'average()'\n}, {\n  value: 'count',\n  text: 'count()'\n}, {\n  value: 'sum',\n  text: 'sum()'\n}, {\n  value: 'min',\n  text: 'min()'\n}, {\n  value: 'max',\n  text: 'max()'\n}];","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { NUMBER_TYPES } from './constants';\nexport function getFieldsForType(dataTypes, type) {\n  if (type === 'number') {\n    return NUMBER_TYPES.reduce((options, type) => options.concat(getFieldsForType(dataTypes, type)), []);\n  }\n\n  if (dataTypes[type]) {\n    return [...dataTypes[type].values()];\n  }\n\n  return [];\n}\nexport const getIndexFields = (dataTypes, allowedTypes) => allowedTypes.map(type => ({\n  label: type,\n  options: getFieldsForType(dataTypes, type).map(field => ({\n    label: field,\n    type\n  }))\n}));","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport function selectOptionValueToText(optionValue, options) {\n  return options.find(opt => opt.value === optionValue).text;\n}\nexport function getOfExpressionAllowedTypes(values) {\n  const types = ['number'];\n  if (['min', 'max'].includes(values.aggregationType)) types.push('date');\n  return types;\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { COMPARISON_OPERATORS, OPERATORS_MAP } from './constants';\nexport const getOperators = fieldType => COMPARISON_OPERATORS.reduce((acc, currentOperator) => currentOperator.dataTypes.includes(fieldType) ? [...acc, {\n  text: currentOperator.text,\n  value: currentOperator.value\n}] : acc, []);\nexport const isRangeOperator = selectedOperator => [OPERATORS_MAP.IN_RANGE, OPERATORS_MAP.NOT_IN_RANGE].includes(selectedOperator);\nexport const isNullOperator = selectedOperator => [OPERATORS_MAP.IS_NULL, OPERATORS_MAP.IS_NOT_NULL].includes(selectedOperator);\nexport const displayText = whereValues => {\n  const whereFieldName = _.get(whereValues, 'fieldName[0].label', undefined);\n\n  if (!whereFieldName) {\n    return 'all fields are included';\n  }\n\n  const selectedOperator = _.get(whereValues, 'operator', 'is');\n\n  const operatorObj = COMPARISON_OPERATORS.find(operator => operator.value === selectedOperator) || {};\n  const initialText = `${whereFieldName} ${operatorObj.text || ''}`;\n\n  if (isRangeOperator(selectedOperator)) {\n    const startRange = _.get(whereValues, 'fieldRangeStart', 0);\n\n    const endRange = _.get(whereValues, 'fieldRangeEnd', 0);\n\n    return `${initialText} from ${startRange} to ${endRange}`;\n  } else if (isNullOperator(selectedOperator)) {\n    return `${initialText}`;\n  } else {\n    const value = _.get(whereValues, 'fieldValue', '');\n\n    return `${initialText} ${value}`;\n  }\n};\nexport const validateRange = (value, whereFilters) => {\n  if (value === '') return 'Required';\n\n  if (whereFilters.fieldRangeEnd < value) {\n    return 'Start should be less than end range';\n  }\n\n  if (value < whereFilters.fieldRangeStart) {\n    return 'End should be greater than start range';\n  }\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorExpressions from './MonitorExpressions';\nexport default MonitorExpressions;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport { EuiSpacer } from '@elastic/eui';\nimport SubHeader from '../../../../components/SubHeader';\nimport { FormikCheckbox } from '../../../../components/FormControls';\n\nconst MonitorState = () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SubHeader, {\n  title: /*#__PURE__*/React.createElement(\"h4\", null, \"Monitor state\"),\n  description: /*#__PURE__*/React.createElement(\"span\", null, \"Disabled monitors do not run.\")\n}), /*#__PURE__*/React.createElement(EuiSpacer, {\n  size: \"s\"\n}), /*#__PURE__*/React.createElement(FormikCheckbox, {\n  name: \"disabled\",\n  formRow: true,\n  rowProps: {\n    style: {\n      paddingLeft: '10px'\n    }\n  },\n  inputProps: {\n    label: 'Disable monitor'\n  }\n}));\n\nexport default MonitorState;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorState from './MonitorState';\nexport default MonitorState;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport FormikSelect from '../../../../components/FormControls/FormikSelect/FormikSelect';\nimport { hasError, isInvalid } from '../../../../utils/validate';\nimport { validateTimeField } from './utils/validation';\n\nconst MonitorTimeField = ({\n  dataTypes\n}) => {\n  // Default empty option + options from index mappings mapped to ui select form\n  const dateFields = Array.from(dataTypes.date || []);\n  const options = [''].concat(dateFields).map(option => ({\n    value: option,\n    text: option\n  }));\n  return /*#__PURE__*/React.createElement(FormikSelect, {\n    name: \"timeField\",\n    formRow: true,\n    fieldProps: {\n      validate: validateTimeField(dateFields)\n    },\n    rowProps: {\n      label: 'Time field',\n      style: {\n        paddingLeft: '10px'\n      },\n      helpText: 'Choose the time field you want to use for your x-axis',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      options\n    }\n  });\n};\n\nexport default MonitorTimeField;\nMonitorTimeField.propTypes = {\n  dataTypes: PropTypes.object.isRequired\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorTimeField from './MonitorTimeField';\nexport default MonitorTimeField;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const validateTimeField = dateFields => value => {\n  if (!value) return 'Select a time field';\n  if (!dateFields.filter(opt => opt === value).length) return `The field \"${value}\" does not exist in the selected index mappings, please choose a new time field`;\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport _ from 'lodash';\nimport { EuiFlexGroup, EuiFlexItem, EuiSpacer, EuiText } from '@elastic/eui';\nimport SubHeader from '../../../../components/SubHeader';\nimport { DEFAULT_EMPTY_DATA } from '../../../../utils/constants';\nimport { URL } from '../../../../../utils/constants';\n\nconst QueryPerformance = ({\n  response\n}) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SubHeader, {\n  title: /*#__PURE__*/React.createElement(\"h4\", null, \"Query performance\"),\n  description: /*#__PURE__*/React.createElement(\"span\", null, \"Check the performance of your query and make sure to follow best practices.\", ' ', /*#__PURE__*/React.createElement(\"a\", {\n    href: URL.DOCUMENTATION\n  }, \"Learn more\"))\n}), /*#__PURE__*/React.createElement(EuiSpacer, {\n  size: \"s\"\n}), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  style: {\n    padding: '0px 10px'\n  },\n  justifyContent: \"spaceBetween\",\n  alignItems: \"center\",\n  gutterSize: \"none\"\n}, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\"\n}, /*#__PURE__*/React.createElement(\"strong\", null, \"Query duration\"), /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    display: 'block'\n  }\n}, `${_.get(response, 'took', DEFAULT_EMPTY_DATA)} ms`))), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\"\n}, /*#__PURE__*/React.createElement(\"strong\", null, \"Request duration\"), /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    display: 'block'\n  }\n}, _.get(response, 'invalid.path', DEFAULT_EMPTY_DATA)))), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\"\n}, /*#__PURE__*/React.createElement(\"strong\", null, \"Hits\"), /*#__PURE__*/React.createElement(\"span\", {\n  style: {\n    display: 'block'\n  }\n}, _.get(response, 'hits.total.value', DEFAULT_EMPTY_DATA))))));\n\nexport default QueryPerformance;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport QueryPerformance from './QueryPerformance';\nexport default QueryPerformance;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiText, EuiLink, EuiFlexGroup, EuiFlexItem } from '@elastic/eui';\nimport FormikTextArea from '../../../../../components/FormControls/FormikTextArea/FormikTextArea';\nimport TimezoneComboBox from './TimezoneComboBox';\nimport { isInvalid, hasError } from '../../../../../utils/validate';\nimport { URL } from '../../../../../../utils/constants';\nconst cronHelpLink = /*#__PURE__*/React.createElement(EuiLink, {\n  target: \"_blank\",\n  href: URL.DOCUMENTATION\n}, \"cron expressions\");\nconst cronHelpText = /*#__PURE__*/React.createElement(EuiText, {\n  size: \"s\"\n}, \"Use \", cronHelpLink, \" for complex schedules\");\n\nconst CustomCron = () => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  direction: \"column\",\n  style: {\n    paddingLeft: '10px',\n    marginTop: '5px'\n  }\n}, /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    marginTop: '0px'\n  }\n}, /*#__PURE__*/React.createElement(FormikTextArea, {\n  name: \"cronExpression\",\n  formRow: true,\n  rowProps: {\n    label: 'Every',\n    helpText: cronHelpText,\n    isInvalid,\n    error: hasError,\n    style: {\n      marginTop: '0px'\n    }\n  }\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    marginTop: '0px'\n  }\n}, /*#__PURE__*/React.createElement(TimezoneComboBox, null)));\n\nexport default CustomCron;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { Field } from 'formik';\nimport moment from 'moment';\nimport { EuiFormRow, EuiDatePicker, EuiFlexGroup, EuiFlexItem } from '@elastic/eui';\nimport TimezoneComboBox from './TimezoneComboBox';\n\nconst Daily = () => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  direction: \"column\",\n  style: {\n    paddingLeft: '10px',\n    marginTop: '5px'\n  }\n}, /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    marginTop: '0px'\n  }\n}, /*#__PURE__*/React.createElement(Field, {\n  name: \"daily\",\n  render: ({\n    field: {\n      value,\n      onChange,\n      onBlur,\n      ...rest\n    },\n    form: {\n      touched,\n      errors,\n      setFieldValue\n    }\n  }) => /*#__PURE__*/React.createElement(EuiFormRow, {\n    label: \"Around\",\n    style: {\n      marginTop: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(EuiDatePicker, _extends({\n    showTimeSelect: true,\n    showTimeSelectOnly: true,\n    selected: moment().hours(value).minutes(0),\n    onChange: date => {\n      setFieldValue('daily', date.hours());\n    },\n    dateFormat: \"hh:mm A\",\n    timeIntervals: 60\n  }, rest)))\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    marginTop: '0px'\n  }\n}, /*#__PURE__*/React.createElement(TimezoneComboBox, null)));\n\nexport default Daily;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { FormikSelect } from '../../../../../components/FormControls';\nimport { isInvalid, hasError } from '../../../../../utils/validate';\nconst frequencies = [{\n  value: 'interval',\n  text: 'By interval'\n}, {\n  value: 'daily',\n  text: 'Daily'\n}, {\n  value: 'weekly',\n  text: 'Weekly'\n}, {\n  value: 'monthly',\n  text: 'Monthly'\n}, {\n  value: 'cronExpression',\n  text: 'Custom cron expression'\n}];\n\nconst Frequency = () => /*#__PURE__*/React.createElement(FormikSelect, {\n  name: \"frequency\",\n  formRow: true,\n  rowProps: {\n    label: 'Frequency',\n    style: {\n      paddingLeft: '10px'\n    },\n    isInvalid,\n    error: hasError\n  },\n  inputProps: {\n    options: frequencies,\n    isInvalid\n  }\n});\n\nexport default Frequency;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { connect } from 'formik';\nimport CustomCron from './CustomCron';\nimport Daily from './Daily';\nimport Interval from './Interval';\nimport Monthly from './Monthly';\nimport Weekly from './Weekly';\nconst components = {\n  daily: Daily,\n  weekly: Weekly,\n  monthly: Monthly,\n  cronExpression: CustomCron,\n  interval: Interval\n};\n\nconst FrequencyPicker = props => {\n  const type = props.formik.values.frequency;\n  const Component = components[type];\n  return /*#__PURE__*/React.createElement(Component, null);\n};\n\nexport default connect(FrequencyPicker);","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiFlexItem, EuiFlexGroup } from '@elastic/eui';\nimport { FormikFieldNumber, FormikSelect } from '../../../../../components/FormControls';\nimport { isInvalid, hasError, validatePositiveInteger, validateUnit } from '../../../../../utils/validate';\nconst unitOptions = [{\n  value: 'MINUTES',\n  text: 'Minutes'\n}, {\n  value: 'HOURS',\n  text: 'Hours'\n}, {\n  value: 'DAYS',\n  text: 'Days'\n}];\n\nconst Interval = () => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  alignItems: \"flexStart\",\n  style: {\n    paddingLeft: '10px',\n    marginTop: '5px'\n  },\n  gutterSize: \"none\"\n}, /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    margin: '0px 10px 0px 0px'\n  }\n}, /*#__PURE__*/React.createElement(FormikFieldNumber, {\n  name: \"period.interval\",\n  formRow: true,\n  fieldProps: {\n    validate: validatePositiveInteger\n  },\n  rowProps: {\n    label: 'Every',\n    isInvalid,\n    error: hasError\n  },\n  inputProps: {\n    icon: 'clock',\n    min: 1\n  }\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    margin: '2px'\n  }\n}, /*#__PURE__*/React.createElement(FormikSelect, {\n  name: \"period.unit\",\n  formRow: true,\n  fieldProps: {\n    validate: validateUnit\n  },\n  rowProps: {\n    hasEmptyLabelSpace: true,\n    isInvalid,\n    error: hasError\n  },\n  inputProps: {\n    options: unitOptions\n  }\n})));\n\nexport default Interval;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport { EuiFlexItem, EuiFlexGroup } from '@elastic/eui';\nimport Daily from './Daily';\nimport { FormikFieldNumber, FormikSelect } from '../../../../../components/FormControls';\nimport { isInvalid, hasError, validateMonthlyDay } from '../../../../../utils/validate';\nimport { monthlyTypes } from './utils/constants';\n\nconst Monthly = () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  alignItems: \"flexEnd\",\n  style: {\n    paddingLeft: '10px',\n    marginTop: '5px'\n  }\n}, /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    marginTop: '0px'\n  }\n}, /*#__PURE__*/React.createElement(FormikSelect, {\n  name: \"monthly.type\",\n  formRow: true,\n  rowProps: {\n    label: 'On the',\n    isInvalid,\n    error: hasError,\n    style: {\n      marginTop: '0px'\n    }\n  },\n  inputProps: {\n    options: monthlyTypes,\n    onChange: (e, field, form) => {\n      form.setFieldValue('monthly.type', e.target.value);\n    }\n  }\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    marginTop: '0px'\n  }\n}, /*#__PURE__*/React.createElement(FormikFieldNumber, {\n  name: \"monthly.day\",\n  formRow: true,\n  fieldProps: {\n    validate: validateMonthlyDay\n  },\n  rowProps: {\n    isInvalid,\n    error: hasError,\n    style: {\n      marginTop: '0px'\n    }\n  }\n}))), /*#__PURE__*/React.createElement(Daily, null));\n\nexport default Monthly;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport moment from 'moment-timezone';\nimport { FormikComboBox } from '../../../../../components/FormControls';\nimport { hasError, isInvalid, validateTimezone } from '../../../../../utils/validate';\nconst timezones = moment.tz.names().map(tz => ({\n  label: tz\n}));\n\nconst TimezoneComboBox = () => /*#__PURE__*/React.createElement(FormikComboBox, {\n  name: \"timezone\",\n  formRow: true,\n  fieldProps: {\n    validate: validateTimezone\n  },\n  rowProps: {\n    isInvalid,\n    error: hasError,\n    style: {\n      marginTop: '0px'\n    }\n  },\n  inputProps: {\n    placeholder: 'Select a timezone',\n    options: timezones,\n    renderOption: ({\n      label: tz\n    }) => `${tz} (${moment.tz(tz).format('Z')})`,\n    onChange: (options, field, form) => {\n      // EuiComboBox calls onBlur before onChange which causes the validation to happen before\n      // the timezone field is set, so we do an extra validation here\n      const error = validateTimezone(options);\n      form.setFieldError('timezone', error);\n      form.setFieldValue('timezone', options);\n    },\n    onBlur: (e, field, form) => {\n      form.setFieldTouched('timezone', true);\n    },\n    singleSelection: {\n      asPlainText: true\n    },\n    'data-test-subj': 'timezoneComboBox'\n  }\n});\n\nexport default TimezoneComboBox;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport { Field } from 'formik';\nimport _ from 'lodash';\nimport { EuiFormRow, EuiFlexGroup, EuiFlexItem, EuiCheckbox } from '@elastic/eui';\nimport Daily from './Daily';\nconst days = ['mon', 'tue', 'wed', 'thu', 'fri', 'sat', 'sun'];\n\nconst checkboxFlexItem = (day, checked, setFieldValue, setFieldTouched) => /*#__PURE__*/React.createElement(EuiFlexItem, {\n  key: day,\n  grow: false,\n  style: {\n    marginRight: '0px'\n  }\n}, /*#__PURE__*/React.createElement(EuiCheckbox, {\n  id: day,\n  label: _.startCase(day),\n  checked: checked,\n  onChange: e => {\n    setFieldValue(`weekly.${day}`, e.target.checked);\n  },\n  onBlur: () => setFieldTouched('weekly'),\n  compressed: true\n}));\n\nconst validate = value => {\n  const booleans = Object.values(value);\n  if (!booleans.some(bool => bool)) return 'Must select at least one weekday';\n};\n\nconst Weekly = () => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(Field, {\n  name: \"weekly\",\n  validate: validate,\n  render: ({\n    field: {\n      value\n    },\n    form: {\n      touched,\n      errors,\n      setFieldValue,\n      setFieldTouched\n    }\n  }) => /*#__PURE__*/React.createElement(EuiFormRow, {\n    label: \"Every\",\n    isInvalid: touched.weekly && !!errors.weekly,\n    error: errors.weekly,\n    style: {\n      paddingLeft: '10px',\n      marginTop: '5px'\n    }\n  }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    alignItems: \"center\"\n  }, days.map(day => checkboxFlexItem(day, value[day], setFieldValue, setFieldTouched))))\n}), /*#__PURE__*/React.createElement(Daily, null));\n\nexport default Weekly;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Frequency from './Frequency';\nimport FrequencyPicker from './FrequencyPicker';\nexport { Frequency, FrequencyPicker };","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const monthlyTypes = [{\n  value: 'day',\n  text: 'Day'\n}];","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport { EuiSpacer, EuiText } from '@elastic/eui';\nimport { Frequency, FrequencyPicker } from './Frequencies';\nimport Interval from './Frequencies/Interval';\n\nconst Schedule = ({\n  isAd\n}) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\",\n  style: {\n    paddingLeft: '10px',\n    maxWidth: '400px'\n  }\n}, isAd ? /*#__PURE__*/React.createElement(\"p\", null, \"Define how often the monitor collects data and determines how often you may receive alerts. We recommend two times of detector interval to avoid missing anomaly results due to any potential delay of processing time.\") : 'When do you want this monitor to run?'), /*#__PURE__*/React.createElement(EuiSpacer, {\n  size: \"s\"\n}), /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    maxWidth: '400px'\n  }\n}, isAd ? /*#__PURE__*/React.createElement(Interval, null) : /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(Frequency, null), /*#__PURE__*/React.createElement(FrequencyPicker, null))));\n\nexport default Schedule;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Schedule from './Schedule';\nexport default Schedule;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Hint, XAxis, YAxis, MarkSeries, LineSeries, FlexibleXYPlot } from 'react-vis';\nimport { SIZE_RANGE, ANNOTATION_STYLES, HINT_STYLES, LINE_STYLES } from './utils/constants';\nimport { getLeftPadding, getYTitle, getXDomain, getYDomain, formatYAxisTick, getAnnotationData, getDataFromResponse, getMarkData, getAggregationTitle } from './utils/helpers';\nexport default class VisualGraph extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      hint: null\n    });\n\n    _defineProperty(this, \"onNearestX\", value => {\n      this.setState({\n        hint: value\n      });\n    });\n\n    _defineProperty(this, \"resetHint\", () => {\n      this.setState({\n        hint: null\n      });\n    });\n\n    _defineProperty(this, \"renderXYPlot\", data => {\n      const {\n        annotation,\n        thresholdValue,\n        values\n      } = this.props;\n      const {\n        hint\n      } = this.state;\n      const xDomain = getXDomain(data);\n      const yDomain = getYDomain(data);\n      const annotations = getAnnotationData(xDomain, yDomain, thresholdValue);\n      const xTitle = values.timeField;\n      const yTitle = getYTitle(values);\n      const leftPadding = getLeftPadding(yDomain);\n      const markData = getMarkData(data);\n      const aggregationTitle = getAggregationTitle(values);\n      return /*#__PURE__*/React.createElement(FlexibleXYPlot, {\n        height: 400,\n        xType: \"time\",\n        margin: {\n          top: 20,\n          right: 20,\n          bottom: 70,\n          left: leftPadding\n        },\n        xDomain: xDomain,\n        yDomain: yDomain,\n        onMouseLeave: this.resetHint\n      }, /*#__PURE__*/React.createElement(XAxis, {\n        title: xTitle\n      }), /*#__PURE__*/React.createElement(XAxis, {\n        title: aggregationTitle,\n        position: \"middle\",\n        orientation: \"top\",\n        tickTotal: 0,\n        top: -25,\n        style: {\n          strokeWidth: '0px'\n        }\n      }), /*#__PURE__*/React.createElement(YAxis, {\n        title: yTitle,\n        tickFormat: formatYAxisTick\n      }), /*#__PURE__*/React.createElement(LineSeries, {\n        data: data,\n        style: LINE_STYLES\n      }), /*#__PURE__*/React.createElement(MarkSeries, {\n        data: markData,\n        sizeRange: SIZE_RANGE,\n        onNearestX: this.onNearestX\n      }), annotation && /*#__PURE__*/React.createElement(LineSeries, {\n        data: annotations,\n        style: ANNOTATION_STYLES\n      }), hint && /*#__PURE__*/React.createElement(Hint, {\n        value: hint\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: HINT_STYLES\n      }, \"(\", hint.y.toLocaleString(), \")\")));\n    });\n\n    _defineProperty(this, \"renderEmptyData\", () => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        height: '450px'\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", null, \"There is no data for the current selections.\")));\n  }\n\n  render() {\n    const {\n      response\n    } = this.props;\n    const data = getDataFromResponse(response);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '20px',\n        border: '1px solid #D9D9D9',\n        borderRadius: '5px'\n      }\n    }, data.length ? this.renderXYPlot(data) : this.renderEmptyData());\n  }\n\n}\n\n_defineProperty(VisualGraph, \"defaultProps\", {\n  annotation: false\n});\n\nVisualGraph.propTypes = {\n  response: PropTypes.object,\n  annotation: PropTypes.bool.isRequired,\n  thresholdValue: PropTypes.number,\n  values: PropTypes.object.isRequired\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport VisualGraph from './VisualGraph';\nexport default VisualGraph;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const SIZE_RANGE = [3, 3];\nexport const LINE_STYLES = {\n  strokeWidth: 1\n};\nexport const ANNOTATION_STYLES = {\n  strokeWidth: 1,\n  stroke: 'red'\n};\nexport const HINT_STYLES = {\n  background: '#3a3a48',\n  borderRadius: '5px',\n  padding: '7px 10px',\n  fontSize: '12px',\n  fontWeight: 'bold',\n  color: '#fff',\n  textAlign: 'left',\n  whiteSpace: 'nowrap',\n  boxShadow: '0 2px 4px rgba(0,0,0,.5)'\n}; // Don't want values to reach top of graph so increase by a buffer % so we always have a yDomain with a slightly higher max\n\nexport const Y_DOMAIN_BUFFER = 1.4; // 40%\n// Size of circle for each point on graph\n\nexport const DEFAULT_MARK_SIZE = 3;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { selectOptionValueToText } from '../../MonitorExpressions/expressions/utils/helpers';\nimport { AGGREGATION_TYPES, UNITS_OF_TIME } from '../../MonitorExpressions/expressions/utils/constants';\nimport { Y_DOMAIN_BUFFER, DEFAULT_MARK_SIZE } from './constants';\nexport function getYTitle(values) {\n  return _.get(values, 'fieldName[0].label', 'count');\n}\nexport function getLeftPadding(yDomain) {\n  const [min, max] = yDomain;\n  const maxLength = Math.max(min.toString().length, max.toString().length); // These are MAGIC numbers..\n  // 80 is the default left padding\n  // 9 is the length when we start adding to base\n  // 10 is the number we multiply to add left padding for each digit\n\n  const multiplier = Math.max(maxLength - 9, 0);\n  return 80 + multiplier * 10;\n}\nexport function getXDomain(data) {\n  const minDate = data[0];\n  const maxDate = data[data.length - 1];\n  return [minDate.x, maxDate.x];\n}\nexport function getYDomain(data) {\n  if (!data.length) return [0, 10];\n  const max = data.reduce((accu, {\n    y\n  }) => Math.max(accu, y), 0);\n  const min = data.reduce((accu, {\n    y\n  }) => Math.min(accu, y), 0);\n  if (max === min) return [0, 10];\n  const maxBuffer = Math.ceil(max * Y_DOMAIN_BUFFER);\n  const minBuffer = Math.floor(min * Y_DOMAIN_BUFFER);\n  return [minBuffer, maxBuffer];\n}\nexport function formatYAxisTick(value) {\n  return value.toLocaleString();\n}\nexport function getAnnotationData(xDomain, yDomain, thresholdValue) {\n  const [xMin, xMax] = xDomain;\n  const [yMin, yMax] = yDomain;\n  let yValue = thresholdValue;\n  if (thresholdValue > yMax) yValue = yMax;\n  if (thresholdValue < yMin) yValue = yMin;\n  return [{\n    x: xMin,\n    y: yValue\n  }, {\n    x: xMax,\n    y: yValue\n  }];\n}\nexport function getDataFromResponse(response) {\n  if (!response) return [];\n\n  const buckets = _.get(response, 'aggregations.over.buckets', []);\n\n  return buckets.map(getXYValues).filter(filterInvalidYValues);\n}\nexport function getXYValues(bucket) {\n  const x = new Date(bucket.key_as_string);\n  const path = bucket.when ? 'when.value' : 'doc_count';\n\n  const y = _.get(bucket, path, null);\n\n  return {\n    x,\n    y\n  };\n}\nexport function filterInvalidYValues({\n  y\n}) {\n  return !isNaN(parseFloat(y));\n}\nexport function getMarkData(data) {\n  return data.map(d => ({ ...d,\n    size: DEFAULT_MARK_SIZE\n  }));\n}\nexport function getAggregationTitle(values) {\n  const aggregationType = selectOptionValueToText(values.aggregationType, AGGREGATION_TYPES);\n  const when = `WHEN ${aggregationType}`;\n\n  const fieldName = _.get(values, 'fieldName[0].label');\n\n  const of = `OF ${fieldName}`;\n  const overDocuments = values.overDocuments;\n  const over = `OVER ${overDocuments}`;\n  const value = values.bucketValue;\n  const unit = selectOptionValueToText(values.bucketUnitOfTime, UNITS_OF_TIME);\n  const forTheLast = `FOR THE LAST ${value} ${unit}`;\n\n  if (aggregationType === 'count()') {\n    return `${when} ${over} ${forTheLast}`;\n  }\n\n  return `${when} ${of} ${over} ${forTheLast}`;\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { AppContext } from '../../../../utils/AppContext';\nimport { AD_PREVIEW_DAYS } from '../../../../utils/constants';\n\nclass AnomalyDetectorData extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      anomalyResult: {\n        anomalies: [],\n        featureData: {}\n      },\n      detector: {\n        featureAttributes: []\n      },\n      previewStartTime: 0,\n      previewEndTime: 0,\n      isLoading: false\n    };\n    this.getPreviewData = this.getPreviewData.bind(this);\n  }\n\n  async componentDidMount() {\n    await this.getPreviewData();\n  }\n\n  async getPreviewData() {\n    const {\n      detectorId,\n      startTime,\n      endTime\n    } = this.props;\n    const {\n      httpClient\n    } = this.context;\n    this.setState({\n      isLoading: true\n    });\n    if (!detectorId) return;\n    const requestParams = {\n      startTime: moment().subtract(AD_PREVIEW_DAYS, 'd').valueOf(),\n      startTime: startTime,\n      endTime: endTime,\n      preview: this.props.preview\n    };\n\n    try {\n      const response = await httpClient.get(`../api/alerting/detectors/${detectorId}/results`, {\n        params: requestParams\n      });\n\n      if (response.ok) {\n        const {\n          anomalyResult,\n          detector\n        } = response.response;\n        this.setState({ ...this.state,\n          anomalyResult,\n          detector,\n          previewStartTime: requestParams.startTime,\n          previewEndTime: requestParams.endTime,\n          isLoading: false\n        });\n      } else {\n        this.setState({\n          isLoading: false\n        });\n      }\n    } catch (err) {\n      console.error('Unable to get detectorResults', err);\n      this.setState({\n        isLoading: false\n      });\n    }\n  }\n\n  render() {\n    const {\n      render\n    } = this.props;\n    return render({ ...this.state\n    });\n  }\n\n}\n\n_defineProperty(AnomalyDetectorData, \"contextType\", AppContext);\n\nAnomalyDetectorData.propTypes = {\n  detectorId: PropTypes.string.isRequired,\n  preview: PropTypes.bool\n};\nAnomalyDetectorData.defaultProps = {\n  preview: true,\n  startTime: moment().subtract(5, 'd').valueOf(),\n  endTime: moment().valueOf()\n};\nexport { AnomalyDetectorData };","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { get } from 'lodash';\nimport { FormikComboBox } from '../../../../components/FormControls';\nimport { hasError, isInvalid, validateDetector } from '../../../../utils/validate';\nimport { AppContext } from '../../../../utils/AppContext';\n\nclass AnomalyDetectors extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      detectorOptions: [],\n      isLoading: false\n    };\n    this.searchDetectors = this.searchDetectors.bind(this);\n  }\n\n  async componentDidMount() {\n    await this.searchDetectors();\n  }\n\n  async searchDetectors() {\n    const {\n      httpClient\n    } = this.context;\n\n    try {\n      const response = await httpClient.post('../api/alerting/detectors/_search');\n\n      if (response.data.ok) {\n        const detectorOptions = response.data.detectors.map(detector => ({\n          label: detector.name,\n          value: detector.id,\n          features: detector.featureAttributes,\n          interval: detector.detectionInterval\n        }));\n        this.setState({\n          detectorOptions\n        });\n      }\n    } catch (err) {\n      console.error(err);\n    }\n  }\n\n  render() {\n    const {\n      detectorOptions\n    } = this.state;\n    const {\n      values,\n      detectorId\n    } = this.props; //Default to empty\n\n    let selectedOptions = [];\n\n    if (detectorOptions.length > 0) {\n      const adId = values.detectorId ? values.detectorId : detectorId;\n      const selectedValue = detectorOptions.find(detector => adId === detector.value);\n\n      if (selectedValue) {\n        selectedOptions = [selectedValue];\n      }\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        maxWidth: '390px'\n      }\n    }, /*#__PURE__*/React.createElement(FormikComboBox, {\n      name: 'detectorId',\n      formRow: true,\n      rowProps: {\n        label: 'Detector',\n        isInvalid,\n        error: hasError\n      },\n      fieldProps: {\n        validate: value => validateDetector(value, selectedOptions[0])\n      },\n      inputProps: {\n        placeholder: 'Select a detector',\n        options: detectorOptions,\n        onBlur: (e, field, form) => {\n          form.setFieldTouched('detectorId', true);\n        },\n        onChange: (options, field, form) => {\n          form.setFieldError('detectorId', undefined);\n          form.setFieldValue('detectorId', get(options, '0.value', ''));\n          form.setFieldValue('period', {\n            interval: 2 * get(options, '0.interval.period.interval'),\n            unit: get(options, '0.interval.period.unit', 'MINUTES').toUpperCase()\n          });\n        },\n        singleSelection: {\n          asPlaintext: true\n        },\n        isClearable: false,\n        selectedOptions\n      }\n    }));\n  }\n\n}\n\n_defineProperty(AnomalyDetectors, \"contextType\", AppContext);\n\nAnomalyDetectors.propTypes = {\n  values: PropTypes.object.isRequired,\n  renderEmptyMessage: PropTypes.func.isRequired\n};\nexport default AnomalyDetectors;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiSpacer } from '@elastic/eui';\nimport ContentPanel from '../../../../components/ContentPanel';\nimport MonitorState from '../../components/MonitorState';\nimport { hasError, isInvalid, required, validateMonitorName } from '../../../../utils/validate';\nimport FormikFieldText from '../../../../components/FormControls/FormikFieldText';\n\nconst ConfigureMonitor = ({\n  httpClient,\n  monitorToEdit\n}) => /*#__PURE__*/React.createElement(ContentPanel, {\n  title: \"Configure monitor\",\n  titleSize: \"s\",\n  bodyStyles: {\n    padding: 'initial'\n  }\n}, /*#__PURE__*/React.createElement(FormikFieldText, {\n  name: \"name\",\n  formRow: true,\n  fieldProps: {\n    validate: validateMonitorName(httpClient, monitorToEdit)\n  },\n  rowProps: {\n    label: 'Monitor name',\n    style: {\n      paddingLeft: '10px'\n    },\n    isInvalid,\n    error: hasError\n  },\n  inputProps: {\n    isInvalid,\n\n    /* To reduce the frequency of search request,\n    the comprehensive 'validationMonitorName()' is only called onBlur,\n    but we enable the basic 'required()' validation onChange for good user experience.*/\n    onChange: (e, field, form) => {\n      field.onChange(e);\n      form.setFieldError('name', required(e.target.value));\n    }\n  }\n}), /*#__PURE__*/React.createElement(EuiSpacer, {\n  size: \"s\"\n}), /*#__PURE__*/React.createElement(MonitorState, null));\n\nexport default ConfigureMonitor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ConfigureMonitor from './ConfigureMonitor';\nexport default ConfigureMonitor;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component, Fragment } from 'react';\nimport _ from 'lodash';\nimport queryString from 'query-string';\nimport { Formik } from 'formik';\nimport { EuiSpacer, EuiTitle, EuiFlexGroup, EuiFlexItem, EuiButton, EuiButtonEmpty } from '@elastic/eui'; //import { toastNotifications } from 'ui/notify';\n\nimport ConfigureMonitor from '../ConfigureMonitor';\nimport DefineMonitor from '../DefineMonitor';\nimport { FORMIK_INITIAL_VALUES } from './utils/constants';\nimport monitorToFormik from './utils/monitorToFormik';\nimport { formikToMonitor } from './utils/formikToMonitor';\nimport { DefineSchedule } from '../DefineSchedule';\nimport { TRIGGER_ACTIONS, SEARCH_TYPE } from '../../../../utils/constants';\nimport { initializeFromQueryParams } from './utils/monitorQueryParams';\nimport { SubmitErrorHandler } from '../../../../utils/SubmitErrorHandler';\nexport default class CreateMonitor extends Component {\n  constructor(props) {\n    super(props); //pre-populate some of values if query params exists.\n\n    let initialValues = _.mergeWith({}, _.cloneDeep(FORMIK_INITIAL_VALUES), initializeFromQueryParams(queryString.parse(this.props.location.search)), (initialValue, queryValue) => _.isEmpty(queryValue) ? initialValue : queryValue);\n\n    if (this.props.edit && this.props.monitorToEdit) {\n      initialValues = monitorToFormik(this.props.monitorToEdit);\n    }\n\n    this.state = {\n      initialValues\n    };\n    this.onCancel = this.onCancel.bind(this);\n    this.onCreate = this.onCreate.bind(this);\n    this.onSubmit = this.onSubmit.bind(this);\n    this.onUpdate = this.onUpdate.bind(this);\n  }\n\n  onCancel() {\n    if (this.props.edit) this.props.history.goBack();else this.props.history.push('/monitors');\n  }\n\n  async onCreate(monitor, {\n    setSubmitting,\n    setErrors\n  }) {\n    const {\n      httpClient\n    } = this.props;\n\n    try {\n      const resp = await httpClient.post('../api/alerting/monitors', {\n        body: JSON.stringify(monitor)\n      });\n      setSubmitting(false);\n      const {\n        ok,\n        resp: {\n          _id\n        }\n      } = resp;\n\n      if (ok) {\n        this.props.history.push(`/monitors/${_id}?action=${TRIGGER_ACTIONS.CREATE_TRIGGER}&success=true`);\n      } else {\n        console.log('Failed to create:', resp);\n        this.backendErrorHandler('create', resp);\n      }\n    } catch (err) {\n      console.error(err);\n      setSubmitting(false); // TODO: setErrors\n    }\n  }\n\n  async onUpdate(monitor, {\n    setSubmitting,\n    setErrors\n  }) {\n    const {\n      updateMonitor\n    } = this.props; // Since we are creating a monitor from formik values, we do not want to override the current existing triggers\n    // delete the triggers key so when merging original monitor with updated monitor we are keeping the original triggers\n\n    const updatedMonitor = _.cloneDeep(monitor);\n\n    delete updatedMonitor.triggers;\n\n    try {\n      const resp = await updateMonitor(updatedMonitor);\n      setSubmitting(false);\n      const {\n        ok,\n        id\n      } = resp;\n\n      if (ok) {\n        this.props.history.push(`/monitors/${id}`);\n      } else {\n        console.log('Failed to update:', resp);\n        this.backendErrorHandler('update', resp);\n      }\n    } catch (err) {\n      console.error(err);\n      setSubmitting(false); // TODO: setErrors\n    }\n  }\n\n  onSubmit(values, formikBag) {\n    const {\n      edit\n    } = this.props;\n    const monitor = formikToMonitor(values);\n    if (edit) this.onUpdate(monitor, formikBag);else this.onCreate(monitor, formikBag);\n  }\n\n  backendErrorHandler(actionName, resp) {\n    this.props.core.toastNotifications.addDanger({\n      title: `Failed to ${actionName} the monitor`,\n      text: resp,\n      toastLifeTimeMs: 20000 // the default lifetime for toasts is 10 sec\n\n    });\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n\n  render() {\n    const {\n      initialValues\n    } = this.state;\n    const {\n      edit,\n      httpClient,\n      monitorToEdit\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '25px 50px'\n      }\n    }, /*#__PURE__*/React.createElement(Formik, {\n      initialValues: initialValues,\n      onSubmit: this.onSubmit,\n      validateOnChange: false,\n      render: ({\n        values,\n        errors,\n        handleSubmit,\n        isSubmitting,\n        isValid\n      }) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiTitle, {\n        size: \"l\"\n      }, /*#__PURE__*/React.createElement(\"h1\", null, edit ? 'Edit' : 'Create', \" monitor\")), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(ConfigureMonitor, {\n        httpClient: httpClient,\n        monitorToEdit: monitorToEdit\n      }), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(DefineMonitor, {\n        values: values,\n        errors: errors,\n        httpClient: httpClient,\n        detectorId: this.props.detectorId,\n        core: this.props.core\n      }), /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(DefineSchedule, {\n        isAd: values.searchType === SEARCH_TYPE.AD\n      })), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\",\n        justifyContent: \"flexEnd\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        onClick: this.onCancel\n      }, \"Cancel\")), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButton, {\n        fill: true,\n        onClick: handleSubmit,\n        isLoading: isSubmitting\n      }, edit ? 'Update' : 'Create'))), /*#__PURE__*/React.createElement(SubmitErrorHandler, {\n        errors: errors,\n        isSubmitting: isSubmitting,\n        isValid: isValid,\n        onSubmitError: () => this.props.core.toastNotifications.addDanger({\n          title: `Failed to ${edit ? 'update' : 'create'} the monitor`,\n          text: 'Fix all highlighted error(s) before continuing.'\n        })\n      }))\n    }));\n  }\n\n}\n\n_defineProperty(CreateMonitor, \"defaultProps\", {\n  edit: false,\n  monitorToEdit: null,\n  detectorId: null,\n  updateMonitor: () => {}\n});","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport CreateMonitor from './CreateMonitor';\nexport default CreateMonitor;","import { OPERATORS_MAP } from '../../../components/MonitorExpressions/expressions/utils/constants';\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\n\nexport const BUCKET_COUNT = 5;\nexport const MATCH_ALL_QUERY = JSON.stringify({\n  size: 0,\n  query: {\n    match_all: {}\n  }\n}, null, 4);\nexport const FORMIK_INITIAL_VALUES = {\n  /* CONFIGURE MONITOR */\n  name: '',\n  disabled: false,\n  frequency: 'interval',\n  timezone: [],\n  daily: 0,\n  period: {\n    interval: 1,\n    unit: 'MINUTES'\n  },\n  weekly: {\n    mon: false,\n    tue: false,\n    wed: false,\n    thur: false,\n    fri: false,\n    sat: false,\n    sun: false\n  },\n  monthly: {\n    type: 'day',\n    day: 1\n  },\n  cronExpression: '0 */1 * * *',\n\n  /* DEFINE MONITOR */\n  searchType: 'graph',\n  index: [],\n  timeField: '',\n  query: MATCH_ALL_QUERY,\n  aggregationType: 'count',\n  fieldName: [],\n  overDocuments: 'all documents',\n  groupedOverTop: 5,\n  groupedOverFieldName: 'bytes',\n  bucketValue: 1,\n  bucketUnitOfTime: 'h',\n  // m = minute, h = hour, d = day\n  where: {\n    fieldName: [],\n    operator: OPERATORS_MAP.IS,\n    fieldValue: '',\n    fieldRangeStart: 0,\n    fieldRangeEnd: 0\n  },\n  detectorId: ''\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport moment from 'moment-timezone';\nimport { BUCKET_COUNT } from './constants';\nimport { SEARCH_TYPE } from '../../../../../utils/constants';\nimport { OPERATORS_QUERY_MAP } from './whereFilters';\nexport function formikToMonitor(values) {\n  const uiSchedule = formikToUiSchedule(values);\n  const schedule = buildSchedule(values.frequency, uiSchedule);\n  const uiSearch = formikToUiSearch(values);\n  return {\n    name: values.name,\n    type: 'monitor',\n    enabled: !values.disabled,\n    schedule,\n    inputs: [formikToSearch(values)],\n    triggers: [],\n    ui_metadata: {\n      schedule: uiSchedule,\n      search: uiSearch\n    }\n  };\n}\nexport function formikToInputs(values) {\n  const isAD = values.searchType === SEARCH_TYPE.AD;\n  return [isAD ? formikToAd(values) : formikToSearch(values)];\n}\nexport function formikToSearch(values) {\n  const isAD = values.searchType === SEARCH_TYPE.AD;\n  let query = isAD ? formikToAdQuery(values) : formikToQuery(values);\n  const indices = isAD ? ['.opendistro-anomaly-results*'] : formikToIndices(values);\n  return {\n    search: {\n      indices,\n      query\n    }\n  };\n}\nexport function formikToAdQuery(values) {\n  return {\n    size: 1,\n    sort: [{\n      anomaly_grade: 'desc'\n    }, {\n      confidence: 'desc'\n    }],\n    query: {\n      bool: {\n        filter: [{\n          range: {\n            data_end_time: {\n              from: '{{period_end}}||-' + values.period.interval + 'm',\n              to: '{{period_end}}',\n              include_lower: true,\n              include_upper: true\n            }\n          }\n        }, {\n          term: {\n            detector_id: {\n              value: values.detectorId\n            }\n          }\n        }]\n      }\n    },\n    aggregations: {\n      max_anomaly_grade: {\n        max: {\n          field: 'anomaly_grade'\n        }\n      }\n    }\n  };\n}\nexport function formikToAd(values) {\n  return {\n    anomaly_detector: {\n      detector_id: values.detectorId\n    }\n  };\n}\nexport function formikToUiSearch(values) {\n  const {\n    searchType,\n    aggregationType,\n    timeField,\n    fieldName: [{\n      label: fieldName = ''\n    } = {}],\n    overDocuments,\n    groupedOverTop,\n    groupedOverFieldName,\n    bucketValue,\n    bucketUnitOfTime,\n    where\n  } = values;\n  return {\n    searchType,\n    aggregationType,\n    timeField,\n    fieldName,\n    overDocuments,\n    groupedOverTop,\n    groupedOverFieldName,\n    bucketValue,\n    bucketUnitOfTime,\n    where\n  };\n}\nexport function formikToIndices(values) {\n  return values.index.map(({\n    label\n  }) => label);\n}\nexport function formikToQuery(values) {\n  const isGraph = values.searchType === SEARCH_TYPE.GRAPH;\n  return isGraph ? formikToGraphQuery(values) : formikToExtractionQuery(values);\n}\nexport function formikToExtractionQuery(values) {\n  return JSON.parse(values.query);\n}\nexport function formikToGraphQuery(values) {\n  const {\n    bucketValue,\n    bucketUnitOfTime\n  } = values;\n  const whenAggregation = formikToWhenAggregation(values);\n  const timeField = values.timeField;\n  const filters = [{\n    range: {\n      [timeField]: {\n        gte: `{{period_end}}||-${Math.round(bucketValue)}${bucketUnitOfTime}`,\n        lte: '{{period_end}}',\n        format: 'epoch_millis'\n      }\n    }\n  }];\n  const whereClause = formikToWhereClause(values);\n\n  if (whereClause) {\n    filters.push({ ...whereClause\n    });\n  }\n\n  return {\n    size: 0,\n    aggregations: whenAggregation,\n    query: {\n      bool: {\n        filter: filters\n      }\n    }\n  };\n}\nexport function formikToUiGraphQuery(values) {\n  const {\n    bucketValue,\n    bucketUnitOfTime\n  } = values;\n  const overAggregation = formikToUiOverAggregation(values);\n  const timeField = values.timeField;\n  const filters = [{\n    range: {\n      [timeField]: {\n        // default range window to [BUCKET_COUNT] * the date histogram interval\n        gte: `now-${bucketValue * BUCKET_COUNT}${bucketUnitOfTime}`,\n        lte: 'now'\n      }\n    }\n  }];\n  const whereClause = formikToWhereClause(values);\n\n  if (whereClause) {\n    filters.push({ ...whereClause\n    });\n  }\n\n  return {\n    size: 0,\n    aggregations: overAggregation,\n    query: {\n      bool: {\n        filter: filters\n      }\n    }\n  };\n}\nexport function formikToUiOverAggregation(values) {\n  const whenAggregation = formikToWhenAggregation(values);\n  const {\n    bucketValue,\n    bucketUnitOfTime\n  } = values;\n  const timeField = values.timeField;\n  return {\n    over: {\n      date_histogram: {\n        field: timeField,\n        interval: `${bucketValue}${bucketUnitOfTime}`,\n        time_zone: moment.tz.guess(),\n        min_doc_count: 0,\n        extended_bounds: {\n          min: `now-${bucketValue * BUCKET_COUNT}${bucketUnitOfTime}`,\n          max: 'now'\n        }\n      },\n      aggregations: whenAggregation\n    }\n  };\n}\nexport function formikToWhereClause({\n  where\n}) {\n  if (where.fieldName.length > 0) {\n    return OPERATORS_QUERY_MAP[where.operator].query(where);\n  }\n}\nexport function formikToWhenAggregation(values) {\n  const {\n    aggregationType,\n    fieldName: [{\n      label: field\n    } = {}]\n  } = values;\n  if (aggregationType === 'count' || !field) return {};\n  return {\n    when: {\n      [aggregationType]: {\n        field\n      }\n    }\n  };\n}\nexport function formikToUiSchedule(values) {\n  return {\n    timezone: _.get(values, 'timezone[0].label', null),\n    frequency: values.frequency,\n    period: values.period,\n    daily: values.daily,\n    weekly: values.weekly,\n    monthly: values.monthly,\n    cronExpression: values.cronExpression\n  };\n}\nexport function buildSchedule(scheduleType, values) {\n  const {\n    period,\n    daily,\n    weekly,\n    monthly: {\n      type,\n      day\n    },\n    cronExpression,\n    timezone\n  } = values;\n\n  switch (scheduleType) {\n    case 'interval':\n      {\n        return {\n          period\n        };\n      }\n\n    case 'daily':\n      {\n        return {\n          cron: {\n            expression: `0 ${daily} * * *`,\n            timezone\n          }\n        };\n      }\n\n    case 'weekly':\n      {\n        const daysOfWeek = Object.entries(weekly).filter(([day, checked]) => checked).map(([day]) => day.toUpperCase()).join(',');\n        return {\n          cron: {\n            expression: `0 ${daily} * * ${daysOfWeek}`,\n            timezone\n          }\n        };\n      }\n\n    case 'monthly':\n      {\n        let dayOfMonth = '?';\n\n        if (type === 'day') {\n          dayOfMonth = day;\n        }\n\n        return {\n          cron: {\n            expression: `0 ${daily} ${dayOfMonth} */1 *`,\n            timezone\n          }\n        };\n      }\n\n    case 'cronExpression':\n      return {\n        cron: {\n          expression: cronExpression,\n          timezone\n        }\n      };\n  }\n}","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { SEARCH_TYPE } from '../../../../../utils/constants';\nexport const initializeFromQueryParams = queryParams => {\n  return {\n    searchType: queryParams.searchType || undefined,\n    name: queryParams.name ? `${queryParams.name}-Monitor` : undefined,\n    detectorId: queryParams.adId || undefined,\n    period: queryParams.interval && queryParams.unit ? {\n      interval: parseInt(queryParams.interval),\n      unit: queryParams.unit\n    } : undefined\n  };\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { FORMIK_INITIAL_VALUES } from './constants';\nimport { SEARCH_TYPE, INPUTS_DETECTOR_ID } from '../../../../../utils/constants'; // Convert Monitor JSON to Formik values used in UI forms\n\nexport default function monitorToFormik(monitor) {\n  const formikValues = _.cloneDeep(FORMIK_INITIAL_VALUES);\n\n  if (!monitor) return formikValues;\n  const {\n    name,\n    enabled,\n    schedule: {\n      cron: {\n        expression: cronExpression = formikValues.cronExpression,\n        timezone\n      } = {}\n    },\n    inputs,\n    ui_metadata: {\n      schedule = {},\n      search = {}\n    } = {}\n  } = monitor; // Default searchType to query, because if there is no ui_metadata or search then it was created through API or overwritten by API\n  // In that case we don't want to guess on the UI what selections a user made, so we will default to just showing the extraction query\n\n  const {\n    searchType = 'query',\n    fieldName\n  } = search;\n  const isAD = searchType === SEARCH_TYPE.AD;\n  return {\n    /* INITIALIZE WITH DEFAULTS */\n    ...formikValues,\n\n    /* CONFIGURE MONITOR */\n    name,\n    disabled: !enabled,\n\n    /* This will overwrite the fields in use by Monitor from ui_metadata */\n    ...schedule,\n    cronExpression,\n\n    /* DEFINE MONITOR */\n    ...search,\n    searchType,\n    fieldName: fieldName ? [{\n      label: fieldName\n    }] : [],\n    timezone: timezone ? [{\n      label: timezone\n    }] : [],\n    detectorId: isAD ? _.get(inputs, INPUTS_DETECTOR_ID) : undefined,\n    index: inputs[0].search.indices.map(index => ({\n      label: index\n    })),\n    query: JSON.stringify(inputs[0].search.query, null, 4)\n  };\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { OPERATORS_MAP } from '../../../components/MonitorExpressions/expressions/utils/constants';\nimport { DATA_TYPES } from '../../../../../utils/constants'; //TODO:: Breakdown to factory pattern for rules in-case we support multiple filters. This is just ease for the single one\n\nexport const OPERATORS_QUERY_MAP = {\n  [OPERATORS_MAP.IS]: {\n    query: ({\n      fieldName: [{\n        label,\n        type\n      }],\n      fieldValue\n    }) => type === DATA_TYPES.TEXT ? {\n      match_phrase: {\n        [label]: fieldValue\n      }\n    } : {\n      term: {\n        [label]: fieldValue\n      }\n    }\n  },\n  [OPERATORS_MAP.IS_NOT]: {\n    query: ({\n      fieldName: [{\n        label,\n        type\n      }],\n      fieldValue\n    }) => type === DATA_TYPES.TEXT ? {\n      bool: {\n        must_not: {\n          match_phrase: {\n            [label]: fieldValue\n          }\n        }\n      }\n    } : {\n      bool: {\n        must_not: {\n          term: {\n            [label]: fieldValue\n          }\n        }\n      }\n    }\n  },\n  [OPERATORS_MAP.IS_NULL]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }]\n    }) => ({\n      bool: {\n        must_not: {\n          exists: {\n            field: fieldKey\n          }\n        }\n      }\n    })\n  },\n  [OPERATORS_MAP.IS_NOT_NULL]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }]\n    }) => ({\n      exists: {\n        field: fieldKey\n      }\n    })\n  },\n  [OPERATORS_MAP.IS_GREATER]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldValue\n    }) => ({\n      range: {\n        [fieldKey]: {\n          gt: fieldValue\n        }\n      }\n    })\n  },\n  [OPERATORS_MAP.IS_GREATER_EQUAL]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldValue\n    }) => ({\n      range: {\n        [fieldKey]: {\n          gte: fieldValue\n        }\n      }\n    })\n  },\n  [OPERATORS_MAP.IS_LESS]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldValue\n    }) => ({\n      range: {\n        [fieldKey]: {\n          lt: fieldValue\n        }\n      }\n    })\n  },\n  [OPERATORS_MAP.IS_LESS_EQUAL]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldValue\n    }) => ({\n      range: {\n        [fieldKey]: {\n          lte: fieldValue\n        }\n      }\n    })\n  },\n  [OPERATORS_MAP.IN_RANGE]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldRangeStart,\n      fieldRangeEnd\n    }) => ({\n      range: {\n        [fieldKey]: {\n          gte: fieldRangeStart,\n          lte: fieldRangeEnd\n        }\n      }\n    })\n  },\n  [OPERATORS_MAP.NOT_IN_RANGE]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldRangeStart,\n      fieldRangeEnd\n    }) => ({\n      bool: {\n        must_not: {\n          range: {\n            [fieldKey]: {\n              gte: fieldRangeStart,\n              lte: fieldRangeEnd\n            }\n          }\n        }\n      }\n    })\n  },\n  [OPERATORS_MAP.STARTS_WITH]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldValue\n    }) => ({\n      prefix: {\n        [fieldKey]: fieldValue\n      }\n    })\n  },\n  [OPERATORS_MAP.ENDS_WITH]: {\n    query: ({\n      fieldName: [{\n        label: fieldKey\n      }],\n      fieldValue\n    }) => ({\n      wildcard: {\n        [fieldKey]: `*${fieldValue}`\n      }\n    })\n  },\n  [OPERATORS_MAP.CONTAINS]: {\n    query: ({\n      fieldName: [{\n        label,\n        type\n      }],\n      fieldValue\n    }) => type === DATA_TYPES.TEXT ? {\n      query_string: {\n        query: `*${fieldValue}*`,\n        default_field: label\n      }\n    } : {\n      wildcard: {\n        [label]: `*${fieldValue}*`\n      }\n    }\n  },\n  [OPERATORS_MAP.NOT_CONTAINS]: {\n    query: ({\n      fieldName: [{\n        label,\n        type\n      }],\n      fieldValue\n    }) => type === DATA_TYPES.TEXT ? {\n      bool: {\n        must_not: {\n          query_string: {\n            query: `*${fieldValue}*`,\n            default_field: label\n          }\n        }\n      }\n    } : {\n      bool: {\n        must_not: {\n          wildcard: {\n            [label]: `*${fieldValue}*`\n          }\n        }\n      }\n    }\n  }\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component, Fragment } from 'react';\nimport _ from 'lodash'; // import chrome from 'ui/chrome';\n\nimport PropTypes from 'prop-types';\nimport { EuiSpacer, EuiButton, EuiText, EuiCallOut } from '@elastic/eui'; // import { toastNotifications } from 'ui/notify';\n\nimport ContentPanel from '../../../../components/ContentPanel';\nimport VisualGraph from '../../components/VisualGraph';\nimport ExtractionQuery from '../../components/ExtractionQuery';\nimport MonitorExpressions from '../../components/MonitorExpressions';\nimport QueryPerformance from '../../components/QueryPerformance';\nimport MonitorDefinition from '../../components/MonitorDefinition';\nimport MonitorIndex from '../MonitorIndex';\nimport MonitorTimeField from '../../components/MonitorTimeField';\nimport { formikToMonitor } from '../CreateMonitor/utils/formikToMonitor';\nimport { getPathsPerDataType } from './utils/mappings';\nimport { buildSearchRequest } from './utils/searchRequests';\nimport { SEARCH_TYPE, ES_AD_PLUGIN } from '../../../../utils/constants';\nimport AnomalyDetectors from '../AnomalyDetectors/AnomalyDetectors';\n\nfunction renderEmptyMessage(message) {\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '20px',\n      border: '1px solid #D9D9D9',\n      borderRadius: '5px'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      height: '450px'\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", null, message)));\n}\n\nconst propTypes = {\n  values: PropTypes.object.isRequired,\n  httpClient: PropTypes.func.isRequired,\n  errors: PropTypes.object\n};\nconst defaultProps = {\n  errors: {}\n};\n\nclass DefineMonitor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      dataTypes: {},\n      performanceResponse: null,\n      response: null,\n      formikSnapshot: this.props.values,\n      plugins: []\n    };\n    this.renderGraph = this.renderGraph.bind(this);\n    this.onRunQuery = this.onRunQuery.bind(this);\n    this.resetResponse = this.resetResponse.bind(this);\n    this.onQueryMappings = this.onQueryMappings.bind(this);\n    this.queryMappings = this.queryMappings.bind(this);\n    this.renderVisualMonitor = this.renderVisualMonitor.bind(this);\n    this.renderExtractionQuery = this.renderExtractionQuery.bind(this);\n    this.renderAnomalyDetector = this.renderAnomalyDetector.bind(this);\n    this.getMonitorContent = this.getMonitorContent.bind(this);\n    this.getPlugins = this.getPlugins.bind(this);\n    this.showPluginWarning = this.showPluginWarning.bind(this);\n    this.isDarkMode = this.props.core.uiSettings.get('theme:darkMode') || false;\n  }\n\n  componentDidMount() {\n    this.getPlugins();\n    const {\n      searchType,\n      index,\n      timeField\n    } = this.props.values;\n    const isGraph = searchType === SEARCH_TYPE.GRAPH;\n    const hasIndices = !!index.length;\n    const hasTimeField = !!timeField;\n\n    if (isGraph && hasIndices) {\n      this.onQueryMappings();\n      if (hasTimeField) this.onRunQuery();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      searchType: prevSearchType,\n      index: prevIndex,\n      timeField: prevTimeField\n    } = prevProps.values;\n    const {\n      searchType,\n      index,\n      timeField\n    } = this.props.values;\n    const isGraph = searchType === SEARCH_TYPE.GRAPH;\n    const hasIndices = !!index.length; // If customer is defining query through extraction query, then they are manually running their own queries\n    // Below logic is for customers defining queries through graph/visual way.\n\n    if (isGraph && hasIndices) {\n      // If current query type is graph and there are indices selected, then we want to query new index mappings if\n      // a) previous query type was query (to get the first load of mappings)\n      // b) different indices, to get new mappings\n      const wasQuery = prevSearchType === SEARCH_TYPE.QUERY;\n      const diffIndices = prevIndex !== index;\n\n      if (wasQuery || diffIndices) {\n        this.onQueryMappings();\n      } // If there is a timeField selected, then we want to run the query if\n      // a) previous query type was query (to get first run executed)\n      // b) different indices, to get new data\n      // c) different time fields, to aggregate on new data/axis\n\n\n      const diffTimeFields = prevTimeField !== timeField;\n      const hasTimeField = !!timeField;\n\n      if (hasTimeField) {\n        if (wasQuery || diffIndices || diffTimeFields) this.onRunQuery();\n      }\n    }\n  }\n\n  async getPlugins() {\n    const {\n      httpClient\n    } = this.props;\n\n    try {\n      const pluginsResponse = await httpClient.get('../api/alerting/_plugins');\n\n      if (pluginsResponse.ok) {\n        this.setState({\n          plugins: pluginsResponse.resp.map(plugin => plugin.component)\n        });\n      } else {\n        console.error('There was a problem getting plugins list');\n      }\n    } catch (e) {\n      console.error('There was a problem getting plugins list', e);\n    }\n  }\n\n  renderGraph() {\n    const {\n      errors\n    } = this.props;\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiText, {\n      size: \"xs\"\n    }, /*#__PURE__*/React.createElement(\"strong\", null, \"Create a monitor for\")), /*#__PURE__*/React.createElement(EuiSpacer, {\n      size: \"s\"\n    }), /*#__PURE__*/React.createElement(MonitorExpressions, {\n      onRunQuery: this.onRunQuery,\n      dataTypes: this.state.dataTypes,\n      ofEnabled: this.props.values.aggregationType !== 'count'\n    }), /*#__PURE__*/React.createElement(EuiSpacer, {\n      size: \"s\"\n    }), errors.where ? renderEmptyMessage('Invalid input in WHERE filter. Remove WHERE filter or adjust filter ') : /*#__PURE__*/React.createElement(VisualGraph, {\n      values: this.state.formikSnapshot,\n      fieldName: _.get(this.props.values, 'fieldName[0].label', 'Select a field'),\n      response: this.state.response\n    }));\n  }\n\n  async onRunQuery() {\n    const {\n      httpClient,\n      values\n    } = this.props;\n\n    const formikSnapshot = _.cloneDeep(values); // If we are running a visual graph query, then we need to run two separate queries\n    // 1. The actual query that will be saved on the monitor, to get accurate query performance stats\n    // 2. The UI generated query that gets [BUCKET_COUNT] times the aggregated buckets to show past history of query\n    // If the query is an extraction query, we can use the same query for results and query performance\n\n\n    const searchRequests = [buildSearchRequest(values)];\n\n    if (values.searchType === SEARCH_TYPE.GRAPH) {\n      searchRequests.push(buildSearchRequest(values, false));\n    }\n\n    try {\n      const promises = searchRequests.map(searchRequest => {\n        // Fill in monitor name in case it's empty (in create workflow)\n        // Set triggers to empty array so they are not executed (if in edit workflow)\n        // Set input search to query/graph query and then use execute API to fill in period_start/period_end\n        const monitor = formikToMonitor(values);\n\n        _.set(monitor, 'name', 'TEMP_MONITOR');\n\n        _.set(monitor, 'triggers', []);\n\n        _.set(monitor, 'inputs[0].search', searchRequest);\n\n        return httpClient.post('../api/alerting/monitors/_execute', monitor);\n      });\n      const [queryResponse, optionalResponse] = await Promise.all(promises);\n\n      if (queryResponse.ok) {\n        const response = _.get(queryResponse.resp, 'input_results.results[0]'); // If there is an optionalResponse use it's results, otherwise use the original response\n\n\n        const performanceResponse = optionalResponse ? _.get(optionalResponse, 'resp.input_results.results[0]', null) : response;\n        this.setState({\n          response,\n          formikSnapshot,\n          performanceResponse\n        });\n      } else {\n        console.error('There was an error running the query', queryResponse.resp);\n        this.backendErrorHandler('run', queryResponse.resp);\n        this.setState({\n          response: null,\n          formikSnapshot: null,\n          performanceResponse: null\n        });\n      }\n    } catch (err) {\n      console.error('There was an error running the query', err);\n    }\n  }\n\n  resetResponse() {\n    this.setState({\n      response: null,\n      performanceResponse: null\n    });\n  }\n\n  async onQueryMappings() {\n    const index = this.props.values.index.map(({\n      label\n    }) => label);\n\n    try {\n      const mappings = await this.queryMappings(index);\n      const dataTypes = getPathsPerDataType(mappings);\n      this.setState({\n        dataTypes\n      });\n    } catch (err) {\n      console.error('There was an error getting mappings for query', err);\n    }\n  }\n\n  async queryMappings(index) {\n    if (!index.length) {\n      return {};\n    }\n\n    try {\n      const response = await this.props.httpClient.post('../api/alerting/_mappings', {\n        index\n      });\n\n      if (response.ok) {\n        return response.resp;\n      }\n\n      return {};\n    } catch (err) {\n      throw err;\n    }\n  }\n\n  renderVisualMonitor() {\n    const {\n      httpClient,\n      values\n    } = this.props;\n    const {\n      index,\n      timeField\n    } = values;\n    const {\n      dataTypes,\n      performanceResponse\n    } = this.state;\n    let content = null;\n\n    if (index.length) {\n      content = timeField ? this.renderGraph() : renderEmptyMessage('You must specify a time field.');\n    } else {\n      content = renderEmptyMessage('You must specify an index.');\n    }\n\n    return {\n      actions: [],\n      content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MonitorIndex, {\n        httpClient: httpClient\n      }), /*#__PURE__*/React.createElement(MonitorTimeField, {\n        dataTypes: dataTypes\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: '0px 10px'\n        }\n      }, content), /*#__PURE__*/React.createElement(EuiSpacer, {\n        size: \"m\"\n      }), /*#__PURE__*/React.createElement(QueryPerformance, {\n        response: performanceResponse\n      }))\n    };\n  }\n\n  renderExtractionQuery() {\n    const {\n      httpClient,\n      values\n    } = this.props;\n    const {\n      response,\n      performanceResponse\n    } = this.state;\n    let invalidJSON = false;\n\n    try {\n      JSON.parse(values.query);\n    } catch (e) {\n      invalidJSON = true;\n    }\n\n    const runIsDisabled = invalidJSON || !values.index.length;\n    let content = renderEmptyMessage('You must specify an index.');\n\n    if (values.index.length) {\n      content = /*#__PURE__*/React.createElement(ExtractionQuery, {\n        response: JSON.stringify(response || '', null, 4),\n        isDarkMode: this.isDarkMode\n      });\n    }\n\n    return {\n      actions: [/*#__PURE__*/React.createElement(EuiButton, {\n        disabled: runIsDisabled,\n        onClick: this.onRunQuery\n      }, \"Run\")],\n      content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MonitorIndex, {\n        httpClient: httpClient\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: '0px 10px'\n        }\n      }, content), /*#__PURE__*/React.createElement(EuiSpacer, {\n        size: \"m\"\n      }), /*#__PURE__*/React.createElement(QueryPerformance, {\n        response: performanceResponse\n      }))\n    };\n  }\n\n  renderAnomalyDetector() {\n    const {\n      httpClient,\n      values,\n      detectorId\n    } = this.props;\n    return {\n      actions: [],\n      content: /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: '0px 10px'\n        }\n      }, /*#__PURE__*/React.createElement(AnomalyDetectors, {\n        httpClient: httpClient,\n        values: values,\n        renderEmptyMessage: renderEmptyMessage,\n        detectorId: detectorId\n      })))\n    };\n  }\n\n  getMonitorContent() {\n    const {\n      values\n    } = this.props;\n\n    switch (values.searchType) {\n      case SEARCH_TYPE.AD:\n        return this.renderAnomalyDetector();\n\n      case SEARCH_TYPE.GRAPH:\n        return this.renderVisualMonitor();\n\n      default:\n        return this.renderExtractionQuery();\n    }\n  }\n\n  showPluginWarning() {\n    const {\n      values\n    } = this.props;\n    const {\n      plugins\n    } = this.state;\n    return values.searchType == SEARCH_TYPE.AD && plugins.indexOf(ES_AD_PLUGIN) == -1;\n  }\n\n  backendErrorHandler(actionName, resp) {\n    this.props.core.toastNotifications.addDanger({\n      title: `Failed to ${actionName} the query`,\n      text: resp,\n      toastLifeTimeMs: 20000\n    });\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n\n  render() {\n    const monitorContent = this.getMonitorContent();\n    return /*#__PURE__*/React.createElement(ContentPanel, {\n      title: \"Define monitor\",\n      titleSize: \"s\",\n      bodyStyles: {\n        padding: 'initial'\n      },\n      actions: monitorContent.actions\n    }, this.showPluginWarning() ? [/*#__PURE__*/React.createElement(EuiCallOut, {\n      color: \"warning\",\n      title: \"Anomaly detector plugin is not installed on Elasticsearch, This monitor will not functional properly.\",\n      iconType: \"help\",\n      size: \"s\"\n    }), /*#__PURE__*/React.createElement(EuiSpacer, {\n      size: \"s\"\n    })] : null, /*#__PURE__*/React.createElement(MonitorDefinition, {\n      resetResponse: this.resetResponse,\n      plugins: this.state.plugins\n    }), monitorContent.content);\n  }\n\n}\n\nDefineMonitor.propTypes = propTypes;\nDefineMonitor.defaultProps = defaultProps;\nexport default DefineMonitor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DefineMonitor from './DefineMonitor';\nexport default DefineMonitor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport function shouldSkip(mapping) {\n  const isDisabled = mapping.enabled === false;\n  const hasIndexDisabled = mapping.index === false;\n  const isNestedDataType = mapping.type === 'nested';\n  return isDisabled || hasIndexDisabled || isNestedDataType;\n}\nexport function resolvePath(path, field) {\n  if (path) return `${path}.${field}`;\n  return field;\n}\nexport function getFieldsFromProperties(properties, dataTypes, path) {\n  Object.entries(properties).forEach(([field, value]) => {\n    getTypeFromMappings(value, dataTypes, resolvePath(path, field));\n  });\n}\nexport function getTypeFromMappings(mappings, dataTypes, path = '') {\n  if (shouldSkip(mappings)) return dataTypes; // if there are properties then type is inherently an object\n\n  if (mappings.properties) {\n    getFieldsFromProperties(mappings.properties, dataTypes, path);\n    return dataTypes;\n  }\n\n  const type = mappings.type;\n  if (dataTypes[type]) dataTypes[type].add(path);else dataTypes[type] = new Set([path]);\n  return dataTypes;\n}\nexport function getPathsPerDataType(mappings) {\n  const dataTypes = {};\n  Object.entries(mappings).forEach(([index, {\n    mappings: docMappings\n  }]) => getTypeFromMappings(docMappings, dataTypes));\n  return dataTypes;\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { formikToGraphQuery, formikToUiGraphQuery, formikToIndices } from '../../CreateMonitor/utils/formikToMonitor';\nimport { SEARCH_TYPE } from '../../../../../utils/constants';\nexport const buildSearchRequest = (values, uiGraphQuery = true) => values.searchType === SEARCH_TYPE.GRAPH ? buildGraphSearchRequest(values, uiGraphQuery) : buildQuerySearchRequest(values);\n\nfunction buildQuerySearchRequest(values) {\n  const indices = formikToIndices(values);\n  const query = JSON.parse(values.query);\n  return {\n    query,\n    indices\n  };\n}\n\nfunction buildGraphSearchRequest(values, uiGraphQuery) {\n  const query = uiGraphQuery ? formikToUiGraphQuery(values) : formikToGraphQuery(values);\n  const indices = formikToIndices(values);\n  return {\n    query,\n    indices\n  };\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport ContentPanel from '../../../../components/ContentPanel';\nimport Schedule from '../../components/Schedule';\n\nconst MonitorSchedule = ({\n  httpClient,\n  monitorToEdit,\n  isAd\n}) => /*#__PURE__*/React.createElement(ContentPanel, {\n  title: \"Monitor schedule\",\n  titleSize: \"s\",\n  bodyStyles: {\n    padding: 'initial'\n  }\n}, /*#__PURE__*/React.createElement(Schedule, {\n  isAd: isAd\n}));\n\nexport default MonitorSchedule;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DefineSchedule from './DefineSchedule';\nexport { DefineSchedule };","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { EuiHealth, EuiHighlight } from '@elastic/eui';\nimport { FormikComboBox } from '../../../../components/FormControls';\nimport { validateIndex, hasError, isInvalid } from '../../../../utils/validate';\nimport { canAppendWildcard, createReasonableWait, getMatchedOptions } from './utils/helpers';\n\nconst CustomOption = ({\n  option,\n  searchValue,\n  contentClassName\n}) => {\n  const {\n    health,\n    label,\n    index\n  } = option;\n  const isAlias = !!index;\n  const healthToColor = {\n    green: 'success',\n    yellow: 'warning',\n    red: 'danger',\n    undefined: 'subdued'\n  };\n  const color = healthToColor[health];\n  return /*#__PURE__*/React.createElement(EuiHealth, {\n    color: color\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: contentClassName\n  }, /*#__PURE__*/React.createElement(EuiHighlight, {\n    search: searchValue\n  }, label), isAlias && /*#__PURE__*/React.createElement(\"span\", null, \"\\xA0(\", index, \")\")));\n};\n\nconst propTypes = {\n  httpClient: PropTypes.func.isRequired\n};\n\nclass MonitorIndex extends React.Component {\n  constructor(props) {\n    super(props);\n    this.lastQuery = null;\n    this.state = {\n      isLoading: false,\n      appendedWildcard: false,\n      showingIndexPatternQueryErrors: false,\n      options: [],\n      allIndices: [],\n      partialMatchedIndices: [],\n      exactMatchedIndices: [],\n      allAliases: [],\n      partialMatchedAliases: [],\n      exactMatchedAliases: []\n    };\n    this.onCreateOption = this.onCreateOption.bind(this);\n    this.onSearchChange = this.onSearchChange.bind(this);\n    this.handleQueryIndices = this.handleQueryIndices.bind(this);\n    this.handleQueryAliases = this.handleQueryAliases.bind(this);\n    this.onFetch = this.onFetch.bind(this);\n  }\n\n  componentDidMount() {\n    // Simulate initial load.\n    this.onSearchChange('');\n  }\n\n  onCreateOption(searchValue, selectedOptions, setFieldValue) {\n    const normalizedSearchValue = searchValue.trim().toLowerCase();\n    if (!normalizedSearchValue) return;\n    const newOption = {\n      label: searchValue\n    };\n    setFieldValue('index', selectedOptions.concat(newOption));\n  }\n\n  async onSearchChange(searchValue) {\n    const {\n      appendedWildcard\n    } = this.state;\n    let query = searchValue;\n\n    if (query.length === 1 && canAppendWildcard(query)) {\n      query += '*';\n      this.setState({\n        appendedWildcard: true\n      });\n    } else {\n      if (query === '*' && appendedWildcard) {\n        query = '';\n        this.setState({\n          appendedWildcard: false\n        });\n      }\n    }\n\n    this.lastQuery = query;\n    this.setState({\n      query,\n      showingIndexPatternQueryErrors: !!query.length\n    });\n    await this.onFetch(query);\n  }\n\n  async handleQueryIndices(rawIndex) {\n    const index = rawIndex.trim(); // Searching for `*:` fails for CCS environments. The search request\n    // is worthless anyways as the we should only send a request\n    // for a specific query (where we do not append *) if there is at\n    // least a single character being searched for.\n\n    if (index === '*:') {\n      return [];\n    } // This should never match anything so do not bother\n\n\n    if (index === '') {\n      return [];\n    }\n\n    try {\n      const response = await this.props.httpClient.post('../api/alerting/_indices', {\n        body: JSON.stringify(index)\n      });\n\n      if (response.ok) {\n        const indices = response.resp.map(({\n          health,\n          index,\n          status\n        }) => ({\n          label: index,\n          health,\n          status\n        }));\n        return _.sortBy(indices, 'label');\n      }\n\n      return [];\n    } catch (err) {\n      console.error(err);\n      return [];\n    }\n  }\n\n  async handleQueryAliases(rawAlias) {\n    const alias = rawAlias.trim();\n\n    if (alias === '*:') {\n      return [];\n    }\n\n    if (alias === '') {\n      return [];\n    }\n\n    try {\n      const response = await this.props.httpClient.post('../api/alerting/_aliases', {\n        body: JSON.stringify(alias)\n      });\n\n      if (response.ok) {\n        const indices = response.resp.map(({\n          alias,\n          index\n        }) => ({\n          label: alias,\n          index\n        }));\n        return _.sortBy(indices, 'label');\n      }\n\n      return [];\n    } catch (err) {\n      console.error(err);\n      return [];\n    }\n  }\n\n  async onFetch(query) {\n    this.setState({\n      isLoading: true,\n      indexPatternExists: false\n    });\n\n    if (query.endsWith('*')) {\n      const exactMatchedIndices = await this.handleQueryIndices(query);\n      const exactMatchedAliases = await this.handleQueryAliases(query);\n      createReasonableWait(() => {\n        // If the search changed, discard this state\n        if (query !== this.lastQuery) {\n          return;\n        }\n\n        this.setState({\n          exactMatchedIndices,\n          exactMatchedAliases,\n          isLoading: false\n        });\n      });\n    } else {\n      const partialMatchedIndices = await this.handleQueryIndices(`${query}*`);\n      const exactMatchedIndices = await this.handleQueryIndices(query);\n      const partialMatchedAliases = await this.handleQueryAliases(`${query}*`);\n      const exactMatchedAliases = await this.handleQueryAliases(query);\n      createReasonableWait(() => {\n        // If the search changed, discard this state\n        if (query !== this.lastQuery) {\n          return;\n        }\n\n        this.setState({\n          partialMatchedIndices,\n          exactMatchedIndices,\n          partialMatchedAliases,\n          exactMatchedAliases,\n          isLoading: false\n        });\n      });\n    }\n  }\n\n  renderOption(option, searchValue, contentClassName) {\n    return /*#__PURE__*/React.createElement(CustomOption, {\n      option: option,\n      searchValue: searchValue,\n      contentClassName: contentClassName\n    });\n  }\n\n  render() {\n    const {\n      isLoading,\n      allIndices,\n      partialMatchedIndices,\n      exactMatchedIndices,\n      allAliases,\n      partialMatchedAliases,\n      exactMatchedAliases\n    } = this.state;\n    const {\n      visibleOptions\n    } = getMatchedOptions(allIndices, //all indices\n    partialMatchedIndices, exactMatchedIndices, allAliases, partialMatchedAliases, exactMatchedAliases, false //isIncludingSystemIndices\n    );\n    return /*#__PURE__*/React.createElement(FormikComboBox, {\n      name: \"index\",\n      formRow: true,\n      fieldProps: {\n        validate: validateIndex\n      },\n      rowProps: {\n        label: 'Index',\n        helpText: 'You can use a * as a wildcard in your index pattern',\n        isInvalid,\n        error: hasError,\n        style: {\n          paddingLeft: '10px'\n        }\n      },\n      inputProps: {\n        placeholder: 'Select indices',\n        async: true,\n        isLoading,\n        options: visibleOptions,\n        onBlur: (e, field, form) => {\n          form.setFieldTouched('index', true);\n        },\n        onChange: (options, field, form) => {\n          form.setFieldValue('index', options);\n        },\n        onCreateOption: (value, field, form) => {\n          this.onCreateOption(value, field.value, form.setFieldValue);\n        },\n        onSearchChange: this.onSearchChange,\n        renderOption: this.renderOption,\n        isClearable: true,\n        'data-test-subj': 'indicesComboBox'\n      }\n    });\n  }\n\n}\n\nMonitorIndex.propTypes = propTypes;\nexport default MonitorIndex;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorIndex from './MonitorIndex';\nexport default MonitorIndex;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport function canAppendWildcard(keyPressed) {\n  // If it's not a letter, number or is something longer, reject it\n  if (!keyPressed || !/[a-z0-9]/i.test(keyPressed) || keyPressed.length !== 1) {\n    return false;\n  }\n\n  return true;\n}\nexport function createReasonableWait(cb) {\n  return setTimeout(cb, 100);\n}\nconst MAX_NUMBER_OF_MATCHING_INDICES = 100;\nexport function filterSystemIndices(indices, isIncludingSystemIndices) {\n  if (!indices) {\n    return indices;\n  }\n\n  const acceptableIndices = isIncludingSystemIndices ? indices : // All system indices begin with a period.\n  indices.filter(index => !index.label.startsWith('.'));\n  return acceptableIndices.slice(0, MAX_NUMBER_OF_MATCHING_INDICES);\n}\n/**\n This utility is designed to do a couple of things:\n\n 1) Take in list of indices and filter out system indices if necessary\n 2) Return a `visible` list based on a priority order.\n\n We are passing in three separate lists because they each represent\n something slightly different.\n\n - `unfilteredAllIndices`\n This is the result of the initial `*` query and represents all known indices\n - `unfilteredPartialMatchedIndices`\n This is the result of searching against the query with an added `*`. This is only\n used when the query does not end in an `*` and represents potential matches in the UI\n - `unfilteredExactMatchedIndices\n This is the result of searching against a query that already ends in `*`.\n We call this `exact` matches because ES is telling us exactly what it matches\n */\n\nexport function getMatchedOptions(unfilteredAllIndices, unfilteredPartialMatchedIndices, unfilteredExactMatchedIndices, unfilteredAllAliases, unfilteredPartialMatchedAliases, unfilteredExactMatchedAliases, isIncludingSystemIndices) {\n  const allIndices = filterSystemIndices(unfilteredAllIndices, isIncludingSystemIndices);\n  const partialMatchedIndices = filterSystemIndices(unfilteredPartialMatchedIndices, isIncludingSystemIndices);\n  const exactMatchedIndices = filterSystemIndices(unfilteredExactMatchedIndices, isIncludingSystemIndices);\n  const allAliases = filterSystemIndices(unfilteredAllAliases, isIncludingSystemIndices);\n  const partialMatchedAliases = filterSystemIndices(unfilteredPartialMatchedAliases, isIncludingSystemIndices);\n  const exactMatchedAliases = filterSystemIndices(unfilteredExactMatchedAliases, isIncludingSystemIndices); // We need to pick one to show in the UI and there is a priority here\n  // 1) If there are exact matches, show those as the query is good to go\n  // 2) If there are no exact matches, but there are partial matches,\n  // show the partial matches\n  // 3) If there are no exact or partial matches, just show all indices\n\n  let visibleOptions = [];\n\n  if (exactMatchedAliases.length || exactMatchedIndices.length) {\n    visibleOptions = [{\n      label: 'Aliases',\n      options: exactMatchedAliases\n    }, {\n      label: 'Indices',\n      options: exactMatchedIndices\n    }]; // visibleOptions = exactMatchedAliases.concat(exactMatchedIndices);\n  } else if (partialMatchedAliases.length || partialMatchedIndices.length) {\n    visibleOptions = [{\n      label: 'Aliases',\n      options: partialMatchedAliases\n    }, {\n      label: 'Indices',\n      options: partialMatchedIndices\n    }]; // visibleOptions = partialMatchedAliases.concat(partialMatchedIndices);\n  } else {\n    visibleOptions = [{\n      label: 'Aliases',\n      options: allAliases\n    }, {\n      label: 'Indices',\n      options: allIndices\n    }]; // visibleOptions = allAliases.concat(allIndices);\n  }\n\n  return {\n    visibleOptions\n  };\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport CreateMonitor from './containers/CreateMonitor';\nexport default CreateMonitor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport { EuiAccordion, EuiButton, EuiHorizontalRule, EuiSpacer } from '@elastic/eui';\nimport { FormikFieldText, FormikComboBox } from '../../../../components/FormControls';\nimport { isInvalid, hasError, validateActionName } from '../../../../utils/validate';\nimport { ActionsMap } from './utils/constants';\nimport { validateDestination } from './utils/validate';\nimport { DEFAULT_ACTION_TYPE } from '../../utils/constants';\n\nconst Action = ({\n  action,\n  arrayHelpers,\n  context,\n  destinations,\n  index,\n  onDelete,\n  sendTestMessage,\n  setFlyout\n}) => {\n  const selectedDestination = destinations.filter(item => item.value === action.destination_id);\n\n  const type = _.get(selectedDestination, '0.type', DEFAULT_ACTION_TYPE);\n\n  const {\n    name\n  } = action;\n  const ActionComponent = ActionsMap[type].component;\n  const actionLabel = ActionsMap[type].label;\n  return /*#__PURE__*/React.createElement(EuiAccordion, {\n    id: name,\n    initialIsOpen: !name,\n    className: \"accordion-action\",\n    buttonContent: !_.get(selectedDestination, '0.type', undefined) ? 'Notification' : `${actionLabel}: ${name}`,\n    extraAction: /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        paddingRight: '10px'\n      }\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      onClick: onDelete\n    }, \"Delete\"))\n  }, /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n    margin: \"xs\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '0px 12px'\n    }\n  }, /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `actions.${index}.name`,\n    formRow: true,\n    fieldProps: {\n      validate: validateActionName(context.ctx.trigger)\n    },\n    rowProps: {\n      label: 'Action name',\n      helpText: 'Names can only contain letters, numbers, and special characters',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      isInvalid\n    }\n  }), /*#__PURE__*/React.createElement(FormikComboBox, {\n    name: `actions.${index}.destination_id`,\n    formRow: true,\n    fieldProps: {\n      validate: validateDestination(destinations)\n    },\n    rowProps: {\n      label: 'Destination',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: 'Select a destination',\n      options: destinations,\n      selectedOptions: selectedDestination,\n      onChange: options => {\n        // Just a swap correct fields.\n        arrayHelpers.replace(index, { ...action,\n          destination_id: options[0].value\n        });\n      },\n      onBlur: (e, field, form) => {\n        form.setFieldTouched(`actions.${index}.destination_id`, true);\n      },\n      singleSelection: {\n        asPlainText: true\n      },\n      isClearable: false\n    }\n  }), /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"m\"\n  }), /*#__PURE__*/React.createElement(ActionComponent, {\n    action: action,\n    context: context,\n    index: index,\n    sendTestMessage: sendTestMessage,\n    setFlyout: setFlyout\n  })), /*#__PURE__*/React.createElement(EuiSpacer, null));\n};\n\nexport default Action;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport Mustache from 'mustache';\nimport { EuiFlexGroup, EuiFlexItem, EuiFormRow, EuiSpacer, EuiText, EuiButtonEmpty, EuiTextArea } from '@elastic/eui';\nimport { FormikTextArea, FormikFieldText, FormikCheckbox, FormikFieldNumber } from '../../../../../components/FormControls';\nimport { isInvalid, isInvalidActionThrottle, validateActionThrottle, hasError, required } from '../../../../../utils/validate';\nimport { URL, MAX_THROTTLE_VALUE, WRONG_THROTTLE_WARNING } from '../../../../../../utils/constants';\n\nconst messageHelpText = (index, sendTestMessage) => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  justifyContent: \"spaceBetween\",\n  alignItems: \"center\"\n}, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\"\n}, \"Embed variables in your message using Mustache templates.\", ' ', /*#__PURE__*/React.createElement(\"a\", {\n  href: URL.MUSTACHE\n}, \"Learn more about Mustache\"))), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false\n}, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\"\n}, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n  onClick: () => {\n    sendTestMessage(index);\n  }\n}, \"Send test message\"))));\n\nconst Message = ({\n  action,\n  context,\n  index,\n  isSubjectDisabled = false,\n  sendTestMessage,\n  setFlyout\n}) => {\n  let preview = '';\n\n  try {\n    preview = Mustache.render(action.message_template.source, context);\n  } catch (err) {\n    preview = err.message;\n    console.error('There was an error rendering mustache template', err);\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", null, !isSubjectDisabled ? /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `actions.${index}.subject_template.source`,\n    formRow: true,\n    fieldProps: {\n      validate: required\n    },\n    rowProps: {\n      label: 'Message subject',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      isInvalid\n    }\n  }) : null, /*#__PURE__*/React.createElement(FormikTextArea, {\n    name: `actions.${index}.message_template.source`,\n    formRow: true,\n    fieldProps: {\n      validate: required\n    },\n    rowProps: {\n      label: /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", null, \"Message\"), /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        size: \"s\",\n        onClick: () => {\n          setFlyout({\n            type: 'message'\n          });\n        }\n      }, \"Info\")),\n      helpText: messageHelpText(index, sendTestMessage),\n      style: {\n        maxWidth: '100%'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: 'Can use mustache templates',\n      fullWidth: true,\n      isInvalid\n    }\n  }), /*#__PURE__*/React.createElement(EuiFormRow, {\n    label: \"Message preview\",\n    style: {\n      maxWidth: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(EuiTextArea, {\n    placeholder: \"Preview of mustache template\",\n    fullWidth: true,\n    value: preview,\n    readOnly: true,\n    className: \"read-only-text-area\"\n  })), /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  }), /*#__PURE__*/React.createElement(EuiFormRow, {\n    label: /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        color: '#343741'\n      }\n    }, \"Action throttling\"), /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n      size: \"s\",\n      onClick: () => {\n        setFlyout({\n          type: 'messageFrequency'\n        });\n      }\n    }, \"Info\")),\n    style: {\n      maxWidth: '100%'\n    }\n  }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    direction: \"column\"\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false,\n    style: {\n      marginBottom: _.get(action, `throttle_enabled`) ? '0px' : '12px'\n    }\n  }, /*#__PURE__*/React.createElement(FormikCheckbox, {\n    name: `actions.${index}.throttle_enabled`,\n    inputProps: {\n      label: 'Enable action throttling'\n    }\n  })), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    alignItems: \"center\",\n    style: {\n      margin: '0px',\n      display: _.get(action, `throttle_enabled`) ? '' : 'none'\n    }\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false,\n    style: {\n      marginRight: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(EuiFormRow, {\n    label: \"Throttle actions to only trigger every\"\n  }, /*#__PURE__*/React.createElement(FormikFieldNumber, {\n    name: `actions.${index}.throttle.value`,\n    fieldProps: {\n      validate: validateActionThrottle(action)\n    },\n    formRow: true,\n    rowProps: {\n      isInvalid: isInvalidActionThrottle(action),\n      helpText: !isInvalidActionThrottle(action) && WRONG_THROTTLE_WARNING,\n      error: [WRONG_THROTTLE_WARNING]\n    },\n    inputProps: {\n      style: {\n        width: '400px',\n        height: '40px'\n      },\n      min: 1,\n      max: MAX_THROTTLE_VALUE,\n      compressed: true,\n      append: /*#__PURE__*/React.createElement(EuiText, {\n        style: {\n          height: '40px',\n          lineHeight: '24px',\n          backgroundColor: 'transparent',\n          paddingLeft: '4px'\n        }\n      }, \"minutes\"),\n      className: 'euiFieldText',\n      disabled: !_.get(action, `throttle_enabled`) ? 'disabled' : ''\n    }\n  })))))));\n};\n\nexport default Message;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Message from './Message';\nexport default Message;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Action from './Action';\nexport default Action;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport Message from '../actions/index';\nexport const ActionsMap = {\n  slack: {\n    label: 'Slack notification',\n    component: props => /*#__PURE__*/React.createElement(Message, props)\n  },\n  chime: {\n    label: 'Amazon Chime notification',\n    component: props => /*#__PURE__*/React.createElement(Message, props)\n  },\n  custom_webhook: {\n    label: 'Custom webhook',\n    component: props => /*#__PURE__*/React.createElement(Message, _extends({\n      isSubjectDisabled: true\n    }, props))\n  },\n  email: {\n    label: 'Email notification',\n    component: props => /*#__PURE__*/React.createElement(Message, props)\n  }\n};","export const validateDestination = destinations => value => {\n  if (!value) return 'Required'; // In case existing destination doesn't exist in list , invalidate the field\n\n  const destinationMatches = destinations.filter(destination => destination.value === value);\n\n  if (destinationMatches.length === 0) {\n    return 'Required';\n  }\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiButton, EuiEmptyPrompt, EuiText } from '@elastic/eui';\nimport AddActionButton from '../AddActionButton';\nimport { PLUGIN_NAME } from '../../../../../utils/constants';\nconst actionEmptyText = 'Add an action to perform when this trigger is triggered.';\nconst destinationEmptyText = 'There are no existing destinations. Add a destinations to create an action';\nconst createDestinationButton = /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  href: `${PLUGIN_NAME}#/create-destination`\n}, \"Add destination\");\n\nconst addActionButton = arrayHelpers => /*#__PURE__*/React.createElement(AddActionButton, {\n  arrayHelpers: arrayHelpers\n});\n\nconst ActionEmptyPrompt = ({\n  arrayHelpers,\n  hasDestinations\n}) => /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiText, null, /*#__PURE__*/React.createElement(\"p\", null, hasDestinations ? actionEmptyText : destinationEmptyText)),\n  actions: hasDestinations ? addActionButton(arrayHelpers) : createDestinationButton\n});\n\nexport default ActionEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ActionEmptyPrompt from './ActionEmptyPrompt';\nexport default ActionEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport { EuiButton } from '@elastic/eui';\nimport { FORMIK_INITIAL_ACTION_VALUES } from '../../utils/constants';\n\nconst AddActionButton = ({\n  arrayHelpers,\n  type = 'slack'\n}) => /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  onClick: () => arrayHelpers.unshift(_.cloneDeep(FORMIK_INITIAL_ACTION_VALUES))\n}, \"Add action\");\n\nexport default AddActionButton;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport AddActionButton from './AddActionButton';\nexport default AddActionButton;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { Field } from 'formik';\nimport { EuiExpression, EuiFieldNumber, EuiFlexGroup, EuiFlexItem, EuiFormRow, EuiPopover, EuiSelect } from '@elastic/eui';\nconst DEFAULT_CLOSED_STATES = {\n  THRESHOLD: false\n};\nexport const Expressions = {\n  THRESHOLD: 'THRESHOLD'\n};\nconst POPOVER_STYLE = {\n  zIndex: '200'\n};\nconst THRESHOLD_ENUM_OPTIONS = [{\n  value: 'ABOVE',\n  text: 'IS ABOVE'\n}, {\n  value: 'BELOW',\n  text: 'IS BELOW'\n}, {\n  value: 'EXACTLY',\n  text: 'IS EXACTLY'\n}];\n\nclass TriggerExpressions extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      openedStates: { ...DEFAULT_CLOSED_STATES\n      }\n    };\n    this.openExpression = this.openExpression.bind(this);\n    this.closeExpression = this.closeExpression.bind(this);\n  }\n\n  openExpression(expression) {\n    this.setState({\n      openedStates: { ...DEFAULT_CLOSED_STATES,\n        [expression]: true\n      }\n    });\n  }\n\n  closeExpression(expression) {\n    const {\n      openedStates\n    } = this.state;\n    this.setState({\n      openedStates: { ...openedStates,\n        [expression]: false\n      }\n    });\n  }\n\n  renderPopover() {\n    const {\n      keyFieldName,\n      valueFieldName\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: POPOVER_STYLE\n    }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      style: {\n        maxWidth: 600,\n        padding: '20px',\n        whiteSpace: 'nowrap'\n      }\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 150\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      name: keyFieldName,\n      render: ({\n        field: {\n          onBlur,\n          ...rest\n        },\n        form: {\n          touched,\n          errors\n        }\n      }) => /*#__PURE__*/React.createElement(EuiFormRow, {\n        isInvalid: touched.thresholdEnum && !!errors.thresholdEnum,\n        error: errors.thresholdEnum\n      }, /*#__PURE__*/React.createElement(EuiSelect, _extends({\n        options: THRESHOLD_ENUM_OPTIONS\n      }, rest)))\n    })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        width: 100\n      }\n    }, /*#__PURE__*/React.createElement(Field, {\n      name: valueFieldName,\n      render: ({\n        field,\n        form: {\n          touched,\n          errors\n        }\n      }) => /*#__PURE__*/React.createElement(EuiFormRow, {\n        style: {\n          paddingLeft: '10px'\n        },\n        isInvalid: touched.thresholdValue && !!errors.thresholdValue,\n        error: errors.thresholdValue\n      }, /*#__PURE__*/React.createElement(EuiFieldNumber, field))\n    }))));\n  }\n\n  render() {\n    const {\n      openedStates\n    } = this.state;\n    const {\n      thresholdEnum,\n      thresholdValue,\n      label\n    } = this.props;\n    return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"trigger-popover\",\n      button: /*#__PURE__*/React.createElement(EuiFormRow, {\n        label: label\n      }, /*#__PURE__*/React.createElement(EuiExpression, {\n        description: `IS ${thresholdEnum}`,\n        value: `${thresholdValue.toLocaleString()}`,\n        isActive: openedStates.THRESHOLD,\n        onClick: () => this.openExpression(Expressions.THRESHOLD)\n      })),\n      isOpen: openedStates.THRESHOLD,\n      closePopover: () => this.closeExpression(Expressions.THRESHOLD),\n      panelPaddingSize: \"none\",\n      ownFocus: true,\n      withTitle: true,\n      anchorPosition: \"downLeft\"\n    }, this.renderPopover())));\n  }\n\n}\n\nexport default TriggerExpressions;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport TriggerExpressions from './TriggerExpressions';\nexport default TriggerExpressions;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiSpacer } from '@elastic/eui';\nimport VisualGraph from '../../CreateMonitor/components/VisualGraph';\nimport TriggerExpressions from './TriggerExpressions';\n\nconst TriggerGraph = ({\n  monitorValues,\n  response,\n  thresholdValue,\n  thresholdEnum\n}) => /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    padding: '0px 10px'\n  }\n}, /*#__PURE__*/React.createElement(TriggerExpressions, {\n  thresholdValue: thresholdValue,\n  thresholdEnum: thresholdEnum,\n  keyFieldName: \"thresholdEnum\",\n  valueFieldName: \"thresholdValue\",\n  label: \"Trigger condition\"\n}), /*#__PURE__*/React.createElement(EuiSpacer, {\n  size: \"s\"\n}), /*#__PURE__*/React.createElement(VisualGraph, {\n  annotation: true,\n  values: monitorValues,\n  thresholdValue: thresholdValue,\n  response: response\n}));\n\nexport default TriggerGraph;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { Field } from 'formik';\nimport _ from 'lodash';\nimport { EuiButton, EuiButtonEmpty, EuiCodeEditor, EuiFlexGroup, EuiFlexItem, EuiFormRow, EuiSpacer } from '@elastic/eui';\nimport 'brace/mode/json';\nimport 'brace/mode/plain_text';\nimport 'brace/snippets/javascript';\nimport 'brace/ext/language_tools';\nimport { formikToTrigger } from '../../containers/CreateTrigger/utils/formikToTrigger';\nexport const getExecuteMessage = response => {\n  if (!response) return 'No response';\n\n  const triggerResults = _.get(response, 'trigger_results');\n\n  if (!triggerResults) return 'No trigger results';\n  const triggerId = Object.keys(triggerResults)[0];\n  if (!triggerId) return 'No trigger results';\n\n  const executeResults = _.get(triggerResults, `${triggerId}`);\n\n  if (!executeResults) return 'No execute results';\n  const {\n    error,\n    triggered\n  } = executeResults;\n  return error || `${triggered}`;\n};\n\nconst TriggerQuery = ({\n  context,\n  error,\n  executeResponse,\n  onRun,\n  response,\n  triggerValues,\n  setFlyout,\n  isDarkMode\n}) => {\n  const trigger = { ...formikToTrigger(triggerValues),\n    actions: []\n  };\n  const formattedResponse = JSON.stringify(response, null, 4);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '0px 10px',\n      marginTop: '0px'\n    }\n  }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    direction: \"column\"\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiFormRow, {\n    label: \"Extraction query response\",\n    fullWidth: true\n  }, /*#__PURE__*/React.createElement(EuiCodeEditor, {\n    mode: \"json\",\n    theme: isDarkMode ? 'sense-dark' : 'github',\n    width: \"100%\",\n    value: error || formattedResponse,\n    readOnly: true\n  }))), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(Field, {\n    name: \"script.source\",\n    render: ({\n      field: {\n        value\n      },\n      form: {\n        errors,\n        touched,\n        setFieldValue,\n        setFieldTouched\n      }\n    }) => /*#__PURE__*/React.createElement(EuiFormRow, {\n      label: /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(\"span\", null, \"Trigger condition\"), /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        size: \"s\",\n        onClick: () => {\n          setFlyout({\n            type: 'triggerCondition',\n            payload: context\n          });\n        }\n      }, \"Info\")),\n      fullWidth: true,\n      isInvalid: _.get(touched, 'script.source', false) && !!_.get(errors, 'script.source'),\n      error: _.get(errors, 'script.source')\n    }, /*#__PURE__*/React.createElement(EuiCodeEditor, {\n      mode: \"plain_text\",\n      theme: isDarkMode ? 'sense-dark' : 'github',\n      height: \"200px\",\n      width: \"100%\",\n      onChange: source => {\n        setFieldValue('script.source', source);\n      },\n      onBlur: () => setFieldTouched('script.source', true),\n      value: value\n    }))\n  })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiFormRow, {\n    label: \"Trigger condition response:\",\n    fullWidth: true\n  }, /*#__PURE__*/React.createElement(EuiCodeEditor, {\n    mode: \"plain_text\",\n    theme: isDarkMode ? 'sense-dark' : 'github',\n    width: \"100%\",\n    height: \"200px\",\n    value: getExecuteMessage(executeResponse),\n    readOnly: true\n  })))), /*#__PURE__*/React.createElement(EuiSpacer, {\n    size: \"s\"\n  }), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    justifyContent: \"spaceBetween\",\n    alignItems: \"center\"\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiButton, {\n    onClick: () => onRun([trigger])\n  }, \"Run\"))));\n};\n\nexport default TriggerQuery;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport TriggerQuery from './TriggerQuery';\nexport default TriggerQuery;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport Action from '../../components/Action';\nimport ActionEmptyPrompt from '../../components/ActionEmptyPrompt';\nimport AddActionButton from '../../components/AddActionButton';\nimport ContentPanel from '../../../../components/ContentPanel';\nimport { FORMIK_INITIAL_ACTION_VALUES } from '../../utils/constants';\nimport { DESTINATION_OPTIONS, DESTINATION_TYPE } from '../../../Destinations/utils/constants';\nimport { getAllowList } from '../../../Destinations/utils/helpers';\n\nconst createActionContext = (context, action) => ({\n  ctx: { ...context,\n    action\n  }\n});\n\nclass ConfigureActions extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"loadDestinations\", async (searchText = '') => {\n      const {\n        httpClient,\n        values,\n        arrayHelpers\n      } = this.props;\n      const {\n        allowList,\n        actionDeleted\n      } = this.state;\n      this.setState({\n        loadingDestinations: true\n      });\n\n      const getDestinationLabel = destination => {\n        const foundDestination = DESTINATION_OPTIONS.find(({\n          value\n        }) => value === destination.type);\n        if (foundDestination) return foundDestination.text;\n        return destination.type;\n      };\n\n      try {\n        const response = await httpClient.get(`../api/alerting/destinations?search=${searchText}&size=200`);\n        const destinations = response.data.destinations.map(destination => ({\n          label: `${destination.name} - (${getDestinationLabel(destination)})`,\n          value: destination.id,\n          type: destination.type\n        })).filter(({\n          type\n        }) => allowList.includes(type));\n        this.setState({\n          destinations,\n          loadingDestinations: false\n        }); // If actions is not defined  If user choose to delete actions, it will not override customer's preferences.\n\n        if (destinations.length > 0 && !values.actions && !actionDeleted) {\n          arrayHelpers.insert(0, FORMIK_INITIAL_ACTION_VALUES);\n        }\n      } catch (err) {\n        console.error(err);\n        this.setState({\n          destinations: [],\n          loadingDestinations: false\n        });\n      }\n    });\n\n    _defineProperty(this, \"sendTestMessage\", async index => {\n      const {\n        context: {\n          monitor,\n          trigger\n        },\n        httpClient\n      } = this.props;\n      const action = trigger.actions[index];\n      const condition = {\n        script: {\n          lang: 'painless',\n          source: 'return true'\n        }\n      };\n      const testMonitor = { ...monitor,\n        triggers: [{ ...trigger,\n          actions: [action],\n          condition\n        }]\n      };\n\n      try {\n        const response = await httpClient.post('../api/alerting/monitors/_execute?dryrun=false', testMonitor);\n\n        if (!response.data.ok) {\n          console.error('There was an error trying to send test message', response.data.resp);\n        }\n      } catch (err) {\n        console.error('There was an error trying to send test message', err);\n      }\n    });\n\n    _defineProperty(this, \"renderActions\", arrayHelpers => {\n      const {\n        context,\n        setFlyout,\n        values\n      } = this.props;\n      const {\n        destinations\n      } = this.state;\n      const hasDestinations = !_.isEmpty(destinations);\n      const hasActions = !_.isEmpty(values.actions);\n      const shouldRenderActions = hasActions || hasDestinations && hasActions;\n      return shouldRenderActions ? values.actions.map((action, index) => /*#__PURE__*/React.createElement(Action, {\n        key: index,\n        action: action,\n        arrayHelpers: arrayHelpers,\n        context: createActionContext(context, action),\n        destinations: destinations,\n        index: index,\n        onDelete: () => {\n          this.setState({\n            actionDeleted: true\n          });\n          arrayHelpers.remove(index);\n        },\n        sendTestMessage: this.sendTestMessage,\n        setFlyout: setFlyout\n      })) : /*#__PURE__*/React.createElement(ActionEmptyPrompt, {\n        arrayHelpers: arrayHelpers,\n        hasDestinations: hasDestinations\n      });\n    });\n\n    this.state = {\n      destinations: [],\n      allowList: [],\n      loadingDestinations: true,\n      actionDeleted: false\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      httpClient\n    } = this.props;\n    const allowList = await getAllowList(httpClient);\n    this.setState({\n      allowList\n    });\n    this.loadDestinations();\n  }\n\n  render() {\n    const {\n      loadingDestinations\n    } = this.state;\n    const {\n      arrayHelpers\n    } = this.props; //TODO:: Handle loading Destinations inside the Action which will be more intuitive for customers.\n\n    return /*#__PURE__*/React.createElement(ContentPanel, {\n      title: \"Configure actions\",\n      titleSize: \"s\",\n      panelStyles: {\n        paddingBottom: '0px'\n      },\n      bodyStyles: {\n        padding: '10px'\n      },\n      horizontalRuleClassName: \"accordion-horizontal-rule\",\n      actions: /*#__PURE__*/React.createElement(AddActionButton, {\n        arrayHelpers: arrayHelpers\n      })\n    }, loadingDestinations ? /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        display: 'flex',\n        justifyContent: 'center'\n      }\n    }, \"Loading Destinations...\") : this.renderActions(arrayHelpers));\n  }\n\n}\n\nexport default ConfigureActions;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ConfigureActions from './ConfigureActions';\nexport default ConfigureActions;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component, Fragment } from 'react';\nimport _ from 'lodash'; // import chrome from 'ui/chrome';\n\nimport moment from 'moment';\nimport { Formik, FieldArray } from 'formik';\nimport { EuiButton, EuiButtonEmpty, EuiCallOut, EuiFlexGroup, EuiFlexItem, EuiLink, EuiSpacer, EuiTitle } from '@elastic/eui'; // import { toastNotifications } from 'ui/notify';\n\nimport 'brace/theme/github';\nimport 'brace/mode/json';\nimport 'brace/mode/plain_text';\nimport 'brace/snippets/javascript';\nimport 'brace/ext/language_tools';\nimport ConfigureActions from '../ConfigureActions';\nimport DefineTrigger from '../DefineTrigger';\nimport monitorToFormik from '../../../CreateMonitor/containers/CreateMonitor/utils/monitorToFormik';\nimport { buildSearchRequest } from '../../../CreateMonitor/containers/DefineMonitor/utils/searchRequests';\nimport { formikToTrigger, formikToTriggerUiMetadata } from './utils/formikToTrigger';\nimport { triggerToFormik } from './utils/triggerToFormik';\nimport { FORMIK_INITIAL_VALUES } from './utils/constants';\nimport { SEARCH_TYPE } from '../../../../utils/constants';\nimport { SubmitErrorHandler } from '../../../../utils/SubmitErrorHandler';\nexport default class CreateTrigger extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onCreate\", (trigger, triggerMetadata, {\n      setSubmitting,\n      setErrors\n    }) => {\n      const {\n        monitor,\n        updateMonitor,\n        onCloseTrigger\n      } = this.props;\n      const {\n        ui_metadata: uiMetadata,\n        triggers\n      } = monitor;\n      const updatedTriggers = [trigger].concat(triggers);\n      const updatedUiMetadata = { ...uiMetadata,\n        triggers: { ...uiMetadata.triggers,\n          ...triggerMetadata\n        }\n      };\n      updateMonitor({\n        triggers: updatedTriggers,\n        ui_metadata: updatedUiMetadata\n      }).then(res => {\n        setSubmitting(false);\n\n        if (res.data.ok) {\n          onCloseTrigger();\n        } else {\n          console.log('Failed to create the trigger:', res.data);\n          this.backendErrorHandler('create', res.data);\n        }\n      }).catch(err => {\n        console.error(err);\n        setSubmitting(false); // TODO: setErrors\n      });\n    });\n\n    _defineProperty(this, \"onEdit\", (trigger, triggerMetadata, {\n      setSubmitting,\n      setErrors\n    }) => {\n      const {\n        monitor,\n        updateMonitor,\n        onCloseTrigger,\n        triggerToEdit\n      } = this.props;\n      const {\n        ui_metadata: uiMetadata = {},\n        triggers\n      } = monitor;\n      const {\n        name\n      } = triggerToEdit;\n\n      const updatedTriggersMetadata = _.cloneDeep(uiMetadata.triggers || {});\n\n      delete updatedTriggersMetadata[name];\n      const updatedUiMetadata = { ...uiMetadata,\n        triggers: { ...updatedTriggersMetadata,\n          ...triggerMetadata\n        }\n      };\n\n      const indexToUpdate = _.findIndex(triggers, {\n        name\n      });\n\n      const updatedTriggers = triggers.slice();\n      updatedTriggers.splice(indexToUpdate, 1, trigger);\n      updateMonitor({\n        triggers: updatedTriggers,\n        ui_metadata: updatedUiMetadata\n      }).then(res => {\n        setSubmitting(false);\n\n        if (res.data.ok) {\n          onCloseTrigger();\n        } else {\n          console.log('Failed to update the trigger:', res.data);\n          this.backendErrorHandler('update', res.data);\n        }\n      }).catch(err => {\n        console.error(err);\n        setSubmitting(false); // TODO: setErrors\n      });\n    });\n\n    _defineProperty(this, \"onRunExecute\", (triggers = []) => {\n      const {\n        httpClient,\n        monitor\n      } = this.props;\n      const formikValues = monitorToFormik(monitor);\n\n      const monitorToExecute = _.cloneDeep(monitor);\n\n      _.set(monitorToExecute, 'triggers', triggers);\n\n      if (formikValues.searchType !== SEARCH_TYPE.AD) {\n        const searchRequest = buildSearchRequest(formikValues);\n\n        _.set(monitorToExecute, 'inputs[0].search', searchRequest);\n      }\n\n      httpClient.post('../api/alerting/monitors/_execute', monitorToExecute).then(resp => {\n        if (resp.data.ok) {\n          this.setState({\n            executeResponse: resp.data.resp\n          });\n        } else {\n          // TODO: need a notification system to show errors or banners at top\n          console.error('err:', resp);\n          this.backendErrorHandler('run', resp.data);\n        }\n      }).catch(err => {\n        console.log('err:', err);\n      });\n    });\n\n    _defineProperty(this, \"renderSuccessCallOut\", () => {\n      const {\n        monitor,\n        showSuccessCallOut,\n        onCloseTrigger\n      } = this.props;\n\n      if (showSuccessCallOut) {\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiCallOut, {\n          title: /*#__PURE__*/React.createElement(\"span\", null, \"Monitor \", /*#__PURE__*/React.createElement(\"strong\", null, monitor.name), \" has been created. Add a trigger to this monitor or\", ' ', /*#__PURE__*/React.createElement(EuiLink, {\n            style: {\n              textDecoration: 'underline'\n            },\n            onClick: onCloseTrigger\n          }, \"cancel\"), ' ', \"to view monitor.\"),\n          color: \"success\",\n          iconType: \"alert\",\n          size: \"s\"\n        }), /*#__PURE__*/React.createElement(EuiSpacer, {\n          size: \"s\"\n        }));\n      }\n\n      return null;\n    });\n\n    _defineProperty(this, \"onSubmit\", (values, formikBag) => {\n      const monitorUiMetadata = _.get(this.props.monitor, 'ui_metadata', {});\n\n      const trigger = formikToTrigger(values, monitorUiMetadata);\n      const triggerMetadata = formikToTriggerUiMetadata(values, monitorUiMetadata);\n      if (this.props.edit) this.onEdit(trigger, triggerMetadata, formikBag);else this.onCreate(trigger, triggerMetadata, formikBag);\n    });\n\n    _defineProperty(this, \"getTriggerContext\", (executeResponse, monitor, values) => ({\n      periodStart: moment.utc(_.get(executeResponse, 'period_start', Date.now())).format(),\n      periodEnd: moment.utc(_.get(executeResponse, 'period_end', Date.now())).format(),\n      results: [_.get(executeResponse, 'input_results.results[0]')].filter(result => !!result),\n      trigger: formikToTrigger(values, _.get(this.props.monitor, 'ui_metadata', {})),\n      alert: null,\n      error: null,\n      monitor: monitor\n    }));\n\n    const useTriggerToFormik = this.props.edit && this.props.triggerToEdit;\n    const initialValues = useTriggerToFormik ? triggerToFormik(this.props.triggerToEdit, this.props.monitor) : _.cloneDeep(FORMIK_INITIAL_VALUES);\n    this.state = {\n      triggerResponse: null,\n      executeResponse: null,\n      initialValues\n    };\n    this.isDarkMode = this.props.core.uiSettings.get('theme:darkMode') || false;\n  }\n\n  componentDidMount() {\n    this.onRunExecute();\n  }\n\n  componentWillUnmount() {\n    this.props.setFlyout(null);\n  }\n\n  backendErrorHandler(actionName, data) {\n    this.props.core.toastNotifications.addDanger({\n      title: `Failed to ${actionName} the trigger`,\n      text: data.resp,\n      toastLifeTimeMs: 20000\n    });\n    window.scrollTo({\n      top: 0,\n      behavior: 'smooth'\n    });\n  }\n\n  render() {\n    const {\n      monitor,\n      onCloseTrigger,\n      setFlyout,\n      edit,\n      httpClient\n    } = this.props;\n    const {\n      initialValues,\n      executeResponse\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '25px 50px'\n      }\n    }, this.renderSuccessCallOut(), /*#__PURE__*/React.createElement(Formik, {\n      initialValues: initialValues,\n      onSubmit: this.onSubmit,\n      validateOnChange: false,\n      render: ({\n        values,\n        handleSubmit,\n        isSubmitting,\n        errors,\n        isValid\n      }) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiTitle, {\n        size: \"l\"\n      }, /*#__PURE__*/React.createElement(\"h1\", null, edit ? 'Edit' : 'Create', \" trigger\")), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(DefineTrigger, {\n        context: this.getTriggerContext(executeResponse, monitor, values),\n        executeResponse: executeResponse,\n        monitorValues: monitorToFormik(monitor),\n        onRun: this.onRunExecute,\n        setFlyout: setFlyout,\n        triggers: monitor.triggers,\n        triggerValues: values,\n        isDarkMode: this.isDarkMode\n      }), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(FieldArray, {\n        name: \"actions\",\n        validateOnChange: true,\n        render: arrayHelpers => /*#__PURE__*/React.createElement(ConfigureActions, {\n          arrayHelpers: arrayHelpers,\n          context: this.getTriggerContext(executeResponse, monitor, values),\n          httpClient: httpClient,\n          setFlyout: setFlyout,\n          values: values\n        })\n      }), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\",\n        justifyContent: \"flexEnd\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        onClick: onCloseTrigger\n      }, \"Cancel\")), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButton, {\n        onClick: handleSubmit,\n        isLoading: isSubmitting,\n        fill: true\n      }, edit ? 'Update' : 'Create'))), /*#__PURE__*/React.createElement(SubmitErrorHandler, {\n        errors: errors,\n        isSubmitting: isSubmitting,\n        isValid: isValid,\n        onSubmitError: () => this.props.core.toastNotifications.addDanger({\n          title: `Failed to ${edit ? 'update' : 'create'} the trigger`,\n          text: 'Fix all highlighted error(s) before continuing.'\n        })\n      }))\n    }));\n  }\n\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport CreateTrigger from './CreateTrigger';\nexport default CreateTrigger;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const TRIGGER_TYPE = {\n  AD: 'anomaly_detector_trigger',\n  ALERT_TRIGGER: 'alerting_trigger'\n};\nexport const FORMIK_INITIAL_VALUES = {\n  name: '',\n  severity: '1',\n  minTimeBetweenExecutions: null,\n  rollingWindowSize: null,\n  script: {\n    lang: 'painless',\n    source: `ctx.results[0].hits.total.value > 0`\n  },\n  thresholdValue: 10000,\n  thresholdEnum: 'ABOVE',\n  anomalyDetector: {\n    triggerType: TRIGGER_TYPE.AD,\n    anomalyGradeThresholdValue: 0.7,\n    anomalyGradeThresholdEnum: 'ABOVE',\n    anomalyConfidenceThresholdValue: 0.7,\n    anomalyConfidenceThresholdEnum: 'ABOVE'\n  },\n  actions: undefined\n};\nexport const HITS_TOTAL_RESULTS_PATH = 'ctx.results[0].hits.total.value';\nexport const AGGREGATION_RESULTS_PATH = 'ctx.results[0].aggregations.when.value';\nexport const ANOMALY_GRADE_RESULT_PATH = 'ctx.results[0].aggregations.max_anomaly_grade.value';\nexport const ANOMALY_CONFIDENCE_RESULT_PATH = 'ctx.results[0].hits.hits[0]._source.confidence';","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { AGGREGATION_RESULTS_PATH, HITS_TOTAL_RESULTS_PATH, TRIGGER_TYPE, ANOMALY_GRADE_RESULT_PATH, ANOMALY_CONFIDENCE_RESULT_PATH } from './constants';\nimport { SEARCH_TYPE } from '../../../../../utils/constants';\nexport function formikToTrigger(values, monitorUiMetadata = {}) {\n  const condition = formikToCondition(values, monitorUiMetadata);\n  const actions = formikToAction(values);\n  return {\n    id: values.id,\n    name: values.name,\n    severity: values.severity,\n    condition,\n    actions: actions,\n    min_time_between_executions: values.minTimeBetweenExecutions,\n    rolling_window_size: values.rollingWindowSize\n  };\n}\nexport function formikToAction(values) {\n  const actions = values.actions;\n\n  if (actions && actions.length > 0) {\n    return actions.map(action => {\n      if (!action.throttle_enabled) return _.omit(action, ['throttle']);\n      return action;\n    });\n  }\n\n  return actions;\n}\nexport function formikToTriggerUiMetadata(values, monitorUiMetadata) {\n  const {\n    anomalyDetector,\n    thresholdEnum,\n    thresholdValue\n  } = values;\n\n  const searchType = _.get(monitorUiMetadata, 'search.searchType', 'query');\n\n  let triggerMetadata = {\n    value: thresholdValue,\n    enum: thresholdEnum\n  }; //Store AD values only if AD trigger.\n\n  if (searchType === SEARCH_TYPE.AD && anomalyDetector.triggerType === TRIGGER_TYPE.AD) {\n    triggerMetadata.adTriggerMetadata = {\n      triggerType: anomalyDetector.triggerType,\n      anomalyGrade: {\n        value: anomalyDetector.anomalyGradeThresholdValue,\n        enum: anomalyDetector.anomalyGradeThresholdEnum\n      },\n      anomalyConfidence: {\n        value: anomalyDetector.anomalyConfidenceThresholdValue,\n        enum: anomalyDetector.anomalyConfidenceThresholdEnum\n      }\n    };\n  }\n\n  return {\n    [values.name]: triggerMetadata\n  };\n}\nexport function formikToCondition(values, monitorUiMetadata = {}) {\n  const {\n    thresholdValue,\n    thresholdEnum\n  } = values;\n\n  const searchType = _.get(monitorUiMetadata, 'search.searchType', 'query');\n\n  const aggregationType = _.get(monitorUiMetadata, 'search.aggregationType', 'count');\n\n  if (searchType === SEARCH_TYPE.QUERY) return {\n    script: values.script\n  };\n  if (searchType === SEARCH_TYPE.AD) return getADCondition(values);\n  const isCount = aggregationType === 'count';\n  const resultsPath = getResultsPath(isCount);\n  const operator = getOperator(thresholdEnum);\n  return getCondition(resultsPath, operator, thresholdValue, isCount);\n}\nexport function getADCondition(values) {\n  const {\n    anomalyDetector\n  } = values;\n\n  if (anomalyDetector.triggerType === TRIGGER_TYPE.AD) {\n    const anomalyGradeOperator = getOperator(anomalyDetector.anomalyGradeThresholdEnum);\n    const anomalyConfidenceOperator = getOperator(anomalyDetector.anomalyConfidenceThresholdEnum);\n    return {\n      script: {\n        lang: 'painless',\n        source: `return ${ANOMALY_GRADE_RESULT_PATH} != null && ${ANOMALY_GRADE_RESULT_PATH} ${anomalyGradeOperator} ${anomalyDetector.anomalyGradeThresholdValue} && ${ANOMALY_CONFIDENCE_RESULT_PATH} ${anomalyConfidenceOperator} ${anomalyDetector.anomalyConfidenceThresholdValue}`\n      }\n    };\n  } else {\n    return {\n      script: values.script\n    };\n  }\n}\nexport function getCondition(resultsPath, operator, value, isCount) {\n  const baseSource = `${resultsPath} ${operator} ${value}`;\n  return {\n    script: {\n      lang: 'painless',\n      source: isCount ? baseSource : `return ${resultsPath} == null ? false : ${baseSource}`\n    }\n  };\n}\nexport function getResultsPath(isCount) {\n  return isCount ? HITS_TOTAL_RESULTS_PATH : AGGREGATION_RESULTS_PATH;\n}\nexport function getOperator(thresholdEnum) {\n  return {\n    ABOVE: '>',\n    BELOW: '<',\n    EXACTLY: '=='\n  }[thresholdEnum];\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { FORMIK_INITIAL_VALUES, TRIGGER_TYPE } from './constants';\nexport function triggerToFormik(trigger, monitor) {\n  const {\n    id,\n    name,\n    severity,\n    condition: {\n      script\n    },\n    actions,\n    min_time_between_executions: minTimeBetweenExecutions,\n    rolling_window_size: rollingWindowSize\n  } = trigger;\n\n  const thresholdEnum = _.get(monitor, `ui_metadata.triggers[${name}].enum`, FORMIK_INITIAL_VALUES.thresholdEnum);\n\n  const thresholdValue = _.get(monitor, `ui_metadata.triggers[${name}].value`, FORMIK_INITIAL_VALUES.thresholdValue);\n\n  const anomalyConfidenceThresholdValue = _.get(monitor, `ui_metadata.triggers[${name}].adTriggerMetadata.anomalyConfidence.value`, FORMIK_INITIAL_VALUES.anomalyDetector.anomalyConfidenceThresholdValue);\n\n  const anomalyConfidenceThresholdEnum = _.get(monitor, `ui_metadata.triggers[${name}].adTriggerMetadata.anomalyConfidence.enum`, FORMIK_INITIAL_VALUES.anomalyDetector.anomalyConfidenceThresholdEnum);\n\n  const anomalyGradeThresholdValue = _.get(monitor, `ui_metadata.triggers[${name}].adTriggerMetadata.anomalyGrade.value`, FORMIK_INITIAL_VALUES.anomalyDetector.anomalyGradeThresholdValue);\n\n  const anomalyGradeThresholdEnum = _.get(monitor, `ui_metadata.triggers[${name}].adTriggerMetadata.anomalyGrade.enum`, FORMIK_INITIAL_VALUES.anomalyDetector.anomalyGradeThresholdEnum);\n\n  const triggerType = _.get(monitor, `ui_metadata.triggers[${name}].adTriggerMetadata.triggerType`);\n\n  return { ..._.cloneDeep(FORMIK_INITIAL_VALUES),\n    id,\n    name,\n    severity,\n    script,\n    actions,\n    minTimeBetweenExecutions,\n    rollingWindowSize,\n    thresholdEnum,\n    thresholdValue,\n    anomalyDetector: {\n      /*If trigger type doesn't exist fallback to query trigger with following reasons\n        1. User has changed monitory type from normal monitor to AD monitor.\n        2. User has created / updated from API and visiting Kibana to do other operations.\n      */\n      triggerType: triggerType ? triggerType : TRIGGER_TYPE.ALERT_TRIGGER,\n      anomalyGradeThresholdValue,\n      anomalyGradeThresholdEnum,\n      anomalyConfidenceThresholdValue,\n      anomalyConfidenceThresholdEnum\n    }\n  };\n}","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { get } from 'lodash';\nimport { EuiSpacer, EuiLoadingChart } from '@elastic/eui';\nimport { AnomalyDetectorData } from '../../../CreateMonitor/containers/AnomalyDetectors/AnomalyDetectorData';\nimport TriggerExpressions from '../../components/TriggerExpressions';\nimport { AnomaliesChart } from '../../../CreateMonitor/components/AnomalyDetectors/AnomaliesChart';\nimport { FeatureChart } from '../../../CreateMonitor/components/AnomalyDetectors/FeatureChart/FeatureChart';\nimport { EmptyFeaturesMessage } from '../../../CreateMonitor/components/AnomalyDetectors/EmptyFeaturesMessage/EmptyFeaturesMessage';\n\nclass AnomalyDetectorTrigger extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      adValues\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '0px 10px'\n      }\n    }, /*#__PURE__*/React.createElement(AnomalyDetectorData, {\n      detectorId: this.props.detectorId,\n      render: anomalyData => {\n        let featureData = []; //Skip disabled features showing from Alerting.\n\n        featureData = get(anomalyData, 'detector.featureAttributes', []).filter(feature => feature.featureEnabled).map((feature, index) => ({\n          featureName: feature.featureName,\n          data: anomalyData.anomalyResult.featureData[feature.featureId] || []\n        }));\n        const annotations = get(anomalyData, 'anomalyResult.anomalies', []).filter(anomaly => anomaly.anomalyGrade > 0).map(anomaly => ({\n          coordinates: {\n            x0: anomaly.startTime,\n            x1: anomaly.endTime\n          },\n          details: `There is an anomaly with confidence ${anomaly.confidence}`\n        }));\n\n        if (featureData.length > 0) {\n          return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TriggerExpressions, {\n            thresholdValue: adValues.anomalyGradeThresholdValue,\n            thresholdEnum: adValues.anomalyGradeThresholdEnum,\n            keyFieldName: \"anomalyDetector.anomalyGradeThresholdEnum\",\n            valueFieldName: \"anomalyDetector.anomalyGradeThresholdValue\",\n            label: \"Anomaly grade threshold\"\n          }), /*#__PURE__*/React.createElement(EuiSpacer, {\n            size: \"xs\"\n          }), /*#__PURE__*/React.createElement(AnomaliesChart, {\n            showTitle: false,\n            showSettings: false,\n            startDateTime: anomalyData.previewStartTime,\n            endDateTime: anomalyData.previewEndTime,\n            anomalies: anomalyData.anomalyResult.anomalies,\n            isLoading: anomalyData.isLoading,\n            displayGrade: true,\n            annotationData: [{\n              dataValue: adValues.anomalyGradeThresholdValue\n            }]\n          }), /*#__PURE__*/React.createElement(EuiSpacer, {\n            size: \"m\"\n          }), /*#__PURE__*/React.createElement(TriggerExpressions, {\n            thresholdValue: adValues.anomalyConfidenceThresholdValue,\n            thresholdEnum: adValues.anomalyConfidenceThresholdEnum,\n            keyFieldName: \"anomalyDetector.anomalyConfidenceThresholdEnum\",\n            valueFieldName: \"anomalyDetector.anomalyConfidenceThresholdValue\",\n            label: \"Anomaly confidence threshold\"\n          }), /*#__PURE__*/React.createElement(EuiSpacer, {\n            size: \"xs\"\n          }), /*#__PURE__*/React.createElement(AnomaliesChart, {\n            showTitle: false,\n            showSettings: false,\n            startDateTime: anomalyData.previewStartTime,\n            endDateTime: anomalyData.previewEndTime,\n            anomalies: anomalyData.anomalyResult.anomalies,\n            isLoading: anomalyData.isLoading,\n            displayConfidence: true,\n            annotationData: [{\n              dataValue: adValues.anomalyConfidenceThresholdValue\n            }]\n          }), /*#__PURE__*/React.createElement(EuiSpacer, {\n            size: \"m\"\n          }), /*#__PURE__*/React.createElement(FeatureChart, {\n            annotations: annotations,\n            startDateTime: anomalyData.previewStartTime,\n            endDateTime: anomalyData.previewEndTime,\n            featureData: featureData,\n            isLoading: anomalyData.isLoading\n          }));\n        } else {\n          return /*#__PURE__*/React.createElement(EmptyFeaturesMessage, {\n            detectorId: this.props.detectorId,\n            isLoading: anomalyData.isLoading\n          });\n        }\n      }\n    }));\n  }\n\n}\n\nexport { AnomalyDetectorTrigger };","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport 'brace/mode/plain_text';\nimport { FormikFieldText, FormikSelect } from '../../../../components/FormControls';\nimport { isInvalid, hasError } from '../../../../utils/validate';\nimport ContentPanel from '../../../../components/ContentPanel/index';\nimport TriggerQuery from '../../components/TriggerQuery';\nimport TriggerGraph from '../../components/TriggerGraph';\nimport { validateTriggerName } from './utils/validation';\nimport { SEARCH_TYPE } from '../../../../utils/constants';\nimport { AnomalyDetectorTrigger } from './AnomalyDetectorTrigger';\nimport { TRIGGER_TYPE } from '../CreateTrigger/utils/constants';\nconst defaultRowProps = {\n  label: 'Trigger name',\n  helpText: `Trigger names must be unique. Names can only contain letters, numbers, and special characters.`,\n  style: {\n    paddingLeft: '10px'\n  },\n  isInvalid,\n  error: hasError\n};\nconst defaultInputProps = {\n  isInvalid\n};\nconst selectFieldProps = {\n  validate: () => {}\n};\nconst selectRowProps = {\n  label: 'Severity level',\n  helpText: `Severity levels help you organize your triggers and actions. A trigger with a high severity level might page a specific individual, whereas a trigger with a low severity level might email a list.`,\n  style: {\n    paddingLeft: '10px',\n    marginTop: '0px'\n  },\n  isInvalid,\n  error: hasError\n};\nconst severityOptions = [{\n  value: '1',\n  text: '1'\n}, {\n  value: '2',\n  text: '2'\n}, {\n  value: '3',\n  text: '3'\n}, {\n  value: '4',\n  text: '4'\n}, {\n  value: '5',\n  text: '5'\n}];\nconst triggerOptions = [{\n  value: TRIGGER_TYPE.AD,\n  text: 'Anomaly detector grade and confidence'\n}, {\n  value: TRIGGER_TYPE.ALERT_TRIGGER,\n  text: 'Extraction query response'\n}];\nconst selectInputProps = {\n  options: severityOptions\n};\nconst propTypes = {\n  context: PropTypes.object.isRequired,\n  executeResponse: PropTypes.object,\n  monitorValues: PropTypes.object.isRequired,\n  onRun: PropTypes.func.isRequired,\n  setFlyout: PropTypes.func.isRequired,\n  triggers: PropTypes.arrayOf(PropTypes.object).isRequired,\n  triggerValues: PropTypes.object.isRequired,\n  isDarkMode: PropTypes.bool.isRequired\n};\n\nconst DefineTrigger = ({\n  context,\n  executeResponse,\n  monitorValues,\n  onRun,\n  setFlyout,\n  triggers,\n  triggerValues,\n  isDarkMode\n}) => {\n  const isGraph = _.get(monitorValues, 'searchType') === SEARCH_TYPE.GRAPH;\n  const isAd = _.get(monitorValues, 'searchType') === SEARCH_TYPE.AD;\n\n  const detectorId = _.get(monitorValues, 'detectorId');\n\n  const response = _.get(executeResponse, 'input_results.results[0]');\n\n  const error = _.get(executeResponse, 'error') || _.get(executeResponse, 'input_results.error');\n\n  const thresholdEnum = triggerValues.thresholdEnum;\n  const thresholdValue = triggerValues.thresholdValue;\n  const adTriggerType = triggerValues.anomalyDetector.triggerType;\n  let triggerContent = /*#__PURE__*/React.createElement(TriggerQuery, {\n    context: context,\n    error: error,\n    executeResponse: executeResponse,\n    onRun: onRun,\n    response: response,\n    setFlyout: setFlyout,\n    triggerValues: triggerValues,\n    isDarkMode: isDarkMode\n  });\n\n  if (isAd && adTriggerType === TRIGGER_TYPE.AD) {\n    triggerContent = /*#__PURE__*/React.createElement(AnomalyDetectorTrigger, {\n      detectorId: detectorId,\n      adValues: triggerValues.anomalyDetector\n    });\n  }\n\n  if (isGraph) {\n    triggerContent = /*#__PURE__*/React.createElement(TriggerGraph, {\n      monitorValues: monitorValues,\n      response: response,\n      thresholdEnum: thresholdEnum,\n      thresholdValue: thresholdValue\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(ContentPanel, {\n    title: \"Define trigger\",\n    titleSize: \"s\",\n    bodyStyles: {\n      padding: 'initial'\n    }\n  }, /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: \"name\",\n    fieldProps: {\n      validate: validateTriggerName(triggers, triggerValues)\n    },\n    formRow: true,\n    rowProps: defaultRowProps,\n    inputProps: defaultInputProps\n  }), /*#__PURE__*/React.createElement(FormikSelect, {\n    name: \"severity\",\n    formRow: true,\n    fieldProps: selectFieldProps,\n    rowProps: selectRowProps,\n    inputProps: selectInputProps\n  }), isAd ? /*#__PURE__*/React.createElement(FormikSelect, {\n    name: \"anomalyDetector.triggerType\",\n    formRow: true,\n    rowProps: {\n      label: 'Trigger type',\n      helpText: 'Define type of trigger',\n      style: {\n        paddingLeft: '10px',\n        marginTop: '0px'\n      }\n    },\n    inputProps: {\n      options: triggerOptions\n    }\n  }) : null, triggerContent);\n};\n\nDefineTrigger.propTypes = propTypes;\nexport default DefineTrigger;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DefineTrigger from './DefineTrigger';\nexport default DefineTrigger;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const validateTriggerName = (triggers, triggerToEdit) => value => {\n  if (!value) return 'Required';\n  const nameExists = triggers.filter(trigger => triggerToEdit.id !== trigger.id && trigger.name.toLowerCase() === value.toLowerCase());\n\n  if (nameExists.length > 0) {\n    return 'Trigger name already used';\n  } // TODO: character restrictions\n  // TODO: character limits\n\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport CreateTrigger from './containers/CreateTrigger';\nexport default CreateTrigger;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nconst DEFAULT_MESSAGE_SOURCE = `\nMonitor {{ctx.monitor.name}} just entered alert status. Please investigate the issue.\n- Trigger: {{ctx.trigger.name}}\n- Severity: {{ctx.trigger.severity}}\n- Period start: {{ctx.periodStart}}\n- Period end: {{ctx.periodEnd}}\n`.trim();\nexport const FORMIK_INITIAL_ACTION_VALUES = {\n  name: '',\n  destination_id: '',\n  subject_template: {\n    lang: 'mustache',\n    source: ''\n  },\n  message_template: {\n    lang: 'mustache',\n    source: DEFAULT_MESSAGE_SOURCE\n  },\n  throttle_enabled: false,\n  throttle: {\n    value: 10,\n    unit: 'MINUTES' // throttle unit only supports MINUTES currently, no UI element mapped\n\n  }\n};\nexport const DEFAULT_ACTION_TYPE = 'slack';","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiFieldSearch, EuiFlexGroup, EuiSelect, EuiFlexItem, EuiPagination } from '@elastic/eui';\nimport { ALERT_STATE } from '../../../../utils/constants';\nconst severityOptions = [{\n  value: 'ALL',\n  text: 'All severity levels'\n}, {\n  value: '1',\n  text: '1'\n}, {\n  value: '2',\n  text: '2'\n}, {\n  value: '3',\n  text: '3'\n}, {\n  value: '4',\n  text: '4'\n}, {\n  value: '5',\n  text: '5'\n}];\nconst stateOptions = [{\n  value: 'ALL',\n  text: 'All alerts'\n}, {\n  value: ALERT_STATE.ACTIVE,\n  text: 'Active'\n}, {\n  value: ALERT_STATE.ACKNOWLEDGED,\n  text: 'Acknowledged'\n}, {\n  value: ALERT_STATE.COMPLETED,\n  text: 'Completed'\n}, {\n  value: ALERT_STATE.ERROR,\n  text: 'Error'\n}, {\n  value: ALERT_STATE.DELETED,\n  text: 'Deleted'\n}];\n\nconst DashboardControls = ({\n  activePage,\n  pageCount,\n  search,\n  severity = severityOptions[0],\n  state = stateOptions[0],\n  onSearchChange,\n  onSeverityChange,\n  onStateChange,\n  onPageChange\n}) => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  style: {\n    padding: '0px 5px'\n  }\n}, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiFieldSearch, {\n  fullWidth: true,\n  placeholder: \"Search\",\n  onChange: onSearchChange,\n  value: search\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false\n}, /*#__PURE__*/React.createElement(EuiSelect, {\n  options: severityOptions,\n  value: severity,\n  onChange: onSeverityChange\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false\n}, /*#__PURE__*/React.createElement(EuiSelect, {\n  options: stateOptions,\n  value: state,\n  onChange: onStateChange\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false,\n  style: {\n    justifyContent: 'center'\n  }\n}, /*#__PURE__*/React.createElement(EuiPagination, {\n  pageCount: pageCount,\n  activePage: activePage,\n  onPageClick: onPageChange\n})));\n\nexport default DashboardControls;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DashboardControls from './DashboardControls';\nexport default DashboardControls;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiButton, EuiEmptyPrompt, EuiText } from '@elastic/eui';\nimport { APP_PATH } from '../../../../utils/constants';\nimport { PLUGIN_NAME } from '../../../../../utils/constants';\nconst createMonitorText = 'There are no existing alerts. Create a monitor to add triggers and actions. Once an alarm is triggered, the state will show in this table.';\nconst createTriggerText = 'There are no existing alerts. Create a trigger to start alerting. Once an alarm is triggered, the state will show in this table.';\nconst createMonitorButton = /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  href: `${PLUGIN_NAME}#${APP_PATH.CREATE_MONITOR}`\n}, \"Create monitor\");\n\nconst createTriggerButton = onCreateTrigger => /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  onClick: onCreateTrigger\n}, \"Create trigger\");\n\nconst DashboardEmptyPrompt = ({\n  onCreateTrigger\n}) => {\n  const inMonitorDetails = typeof onCreateTrigger === 'function';\n  return /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n    style: {\n      maxWidth: '45em'\n    },\n    body: /*#__PURE__*/React.createElement(EuiText, null, /*#__PURE__*/React.createElement(\"p\", null, inMonitorDetails ? createTriggerText : createMonitorText)),\n    actions: inMonitorDetails ? createTriggerButton(onCreateTrigger) : createMonitorButton\n  });\n};\n\nDashboardEmptyPrompt.propTypes = {\n  onCreateTrigger: PropTypes.func\n};\nexport default DashboardEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DashboardEmptyPrompt from './DashboardEmptyPrompt';\nexport default DashboardEmptyPrompt;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport queryString from 'query-string';\nimport { EuiBasicTable, EuiButton, EuiHorizontalRule, EuiIcon, EuiButtonEmpty } from '@elastic/eui';\nimport ContentPanel from '../../../components/ContentPanel';\nimport DashboardEmptyPrompt from '../components/DashboardEmptyPrompt';\nimport DashboardControls from '../components/DashboardControls';\nimport { columns } from '../utils/tableUtils';\nimport { KIBANA_AD_PLUGIN } from '../../../utils/constants';\nconst DEFAULT_PAGE_SIZE_OPTIONS = [5, 10, 20, 50];\nconst DEFAULT_QUERY_PARAMS = {\n  alertState: 'ALL',\n  from: 0,\n  search: '',\n  severityLevel: 'ALL',\n  size: 20,\n  sortDirection: 'desc',\n  sortField: 'start_time'\n};\nconst MAX_ALERT_COUNT = 10000; // TODO: Abstract out a Table component to be used in both Dashboard and Monitors\n\nexport default class Dashboard extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getQueryObjectFromState\", ({\n      page,\n      size,\n      search,\n      sortField,\n      sortDirection,\n      severityLevel,\n      alertState,\n      monitorIds\n    }) => ({\n      page,\n      size,\n      search,\n      sortField,\n      sortDirection,\n      severityLevel,\n      alertState,\n      monitorIds\n    }));\n\n    _defineProperty(this, \"getURLQueryParams\", () => {\n      const {\n        from = DEFAULT_QUERY_PARAMS.from,\n        size = DEFAULT_QUERY_PARAMS.size,\n        search = DEFAULT_QUERY_PARAMS.search,\n        sortField = DEFAULT_QUERY_PARAMS.sortField,\n        sortDirection = DEFAULT_QUERY_PARAMS.sortDirection,\n        severityLevel = DEFAULT_QUERY_PARAMS.severityLevel,\n        alertState = DEFAULT_QUERY_PARAMS.alertState,\n        monitorIds = this.props.monitorIds\n      } = queryString.parse(this.props.location.search);\n      return {\n        from: isNaN(parseInt(from, 10)) ? DEFAULT_QUERY_PARAMS.from : parseInt(from, 10),\n        size: isNaN(parseInt(size, 10)) ? DEFAULT_QUERY_PARAMS.size : parseInt(size, 10),\n        search,\n        sortField,\n        sortDirection,\n        severityLevel,\n        alertState,\n        monitorIds\n      };\n    });\n\n    _defineProperty(this, \"getAlerts\", _.debounce((from, size, search, sortField, sortDirection, severityLevel, alertState, monitorIds) => {\n      const params = {\n        from,\n        size,\n        search,\n        sortField,\n        sortDirection,\n        severityLevel,\n        alertState,\n        monitorIds\n      };\n      const queryParamsString = queryString.stringify(params);\n      location.search;\n      const {\n        httpClient,\n        history,\n        core\n      } = this.props;\n      history.replace({ ...this.props.location,\n        search: queryParamsString\n      });\n      httpClient.get('../api/alerting/alerts', {\n        query: params\n      }).then(resp => {\n        // httpClient.get(`../api/alerting/alerts?${queryString.stringify(params)}`).then(resp => {\n        if (resp.ok) {\n          const {\n            alerts,\n            totalAlerts\n          } = resp;\n          this.setState({\n            alerts,\n            totalAlerts\n          });\n          console.log(\"succeeded to get alerts\");\n        } else {\n          console.log('error getting alerts:', resp);\n        }\n      });\n    }, 500, {\n      leading: true\n    }));\n\n    _defineProperty(this, \"acknowledgeAlert\", async () => {\n      const {\n        selectedItems\n      } = this.state;\n      const {\n        httpClient\n      } = this.props;\n      if (!selectedItems.length) return;\n      const monitorAlerts = selectedItems.reduce((monitorAlerts, alert) => {\n        const {\n          id,\n          monitor_id: monitorId\n        } = alert;\n        if (monitorAlerts[monitorId]) monitorAlerts[monitorId].push(id);else monitorAlerts[monitorId] = [id];\n        return monitorAlerts;\n      }, {});\n      const promises = Object.entries(monitorAlerts).map(([monitorId, alerts]) => httpClient.post(`../api/alerting/monitors/${monitorId}/_acknowledge/alerts`, {\n        alerts\n      }).catch(error => error));\n      const values = await Promise.all(promises);\n      console.log('values:', values); // // TODO: Show which values failed, succeeded, etc.\n\n      const {\n        page,\n        size,\n        search,\n        sortField,\n        sortDirection,\n        severityLevel,\n        alertState,\n        monitorIds\n      } = this.state;\n      this.getAlerts(page * size, size, search, sortField, sortDirection, severityLevel, alertState, monitorIds);\n      this.setState({\n        selectedItems: []\n      });\n    });\n\n    _defineProperty(this, \"onTableChange\", ({\n      page: tablePage = {},\n      sort = {}\n    }) => {\n      const {\n        index: page,\n        size\n      } = tablePage;\n      const {\n        field: sortField,\n        direction: sortDirection\n      } = sort;\n      this.setState({\n        page,\n        size,\n        sortField,\n        sortDirection\n      });\n    });\n\n    _defineProperty(this, \"onSeverityLevelChange\", e => {\n      this.setState({\n        page: 0,\n        severityLevel: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"onAlertStateChange\", e => {\n      this.setState({\n        page: 0,\n        alertState: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"onSelectionChange\", selectedItems => {\n      this.setState({\n        selectedItems\n      });\n    });\n\n    _defineProperty(this, \"onSearchChange\", e => {\n      this.setState({\n        page: 0,\n        search: e.target.value\n      });\n    });\n\n    _defineProperty(this, \"onPageClick\", page => {\n      this.setState({\n        page\n      });\n    });\n\n    const {\n      alertState: _alertState,\n      from: _from,\n      search: _search,\n      severityLevel: _severityLevel,\n      size: _size,\n      sortDirection: _sortDirection,\n      sortField: _sortField\n    } = this.getURLQueryParams();\n    this.state = {\n      alerts: [],\n      alertState: _alertState,\n      monitorIds: this.props.monitorIds,\n      page: Math.floor(_from / _size),\n      search: _search,\n      selectedItems: [],\n      severityLevel: _severityLevel,\n      size: _size,\n      sortDirection: _sortDirection,\n      sortField: _sortField,\n      totalAlerts: 0\n    };\n  }\n\n  componentDidMount() {\n    const {\n      alertState,\n      page,\n      search,\n      severityLevel,\n      size,\n      sortDirection,\n      sortField,\n      monitorIds\n    } = this.state;\n    this.getAlerts(page * size, size, search, sortField, sortDirection, severityLevel, alertState, monitorIds);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = this.getQueryObjectFromState(prevState);\n    const currQuery = this.getQueryObjectFromState(this.state);\n\n    if (!_.isEqual(prevQuery, currQuery)) {\n      const {\n        page,\n        size,\n        search,\n        sortField,\n        sortDirection,\n        severityLevel,\n        alertState,\n        monitorIds\n      } = this.state;\n      this.getAlerts(page * size, size, search, sortField, sortDirection, severityLevel, alertState, monitorIds);\n    }\n  }\n\n  render() {\n    const {\n      alerts,\n      alertState,\n      page,\n      search,\n      severityLevel,\n      size,\n      sortDirection,\n      sortField,\n      totalAlerts\n    } = this.state;\n    const {\n      monitorIds,\n      detectorIds,\n      onCreateTrigger\n    } = this.props;\n    const pagination = {\n      pageIndex: page,\n      pageSize: size,\n      totalItemCount: Math.min(MAX_ALERT_COUNT, totalAlerts),\n      pageSizeOptions: DEFAULT_PAGE_SIZE_OPTIONS\n    };\n    const sorting = {\n      sort: {\n        direction: sortDirection,\n        field: sortField\n      }\n    };\n    const selection = {\n      onSelectionChange: this.onSelectionChange,\n      selectable: item => item.state === 'ACTIVE',\n      selectableMessage: selectable => selectable ? undefined : 'Only Active Alerts are Acknowledgeable'\n    };\n\n    const actions = () => {\n      const actions = [/*#__PURE__*/React.createElement(EuiButton, {\n        onClick: this.acknowledgeAlert\n      }, \"Acknowledge\")];\n\n      if (detectorIds.length) {\n        actions.unshift( /*#__PURE__*/React.createElement(EuiButton, {\n          href: `${KIBANA_AD_PLUGIN}#/detectors/${detectorIds[0]}`,\n          target: \"_blank\"\n        }, \"View detector \", /*#__PURE__*/React.createElement(EuiIcon, {\n          type: \"popout\"\n        })));\n      }\n\n      return actions;\n    };\n\n    return /*#__PURE__*/React.createElement(ContentPanel, {\n      title: \"Alerts\",\n      titleSize: monitorIds.length ? 's' : 'l',\n      bodyStyles: {\n        padding: 'initial'\n      },\n      actions: actions()\n    }, /*#__PURE__*/React.createElement(DashboardControls, {\n      activePage: page,\n      pageCount: Math.ceil(totalAlerts / size) || 1,\n      search: search,\n      severity: severityLevel,\n      state: alertState,\n      onSearchChange: this.onSearchChange,\n      onSeverityChange: this.onSeverityLevelChange,\n      onStateChange: this.onAlertStateChange,\n      onPageChange: this.onPageClick\n    }), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n      margin: \"xs\"\n    }), /*#__PURE__*/React.createElement(EuiBasicTable, {\n      items: alerts\n      /*\n       * If using just ID, doesn't update selectedItems when doing acknowledge\n       * because the next getAlerts have the same id\n       * $id-$version will correctly remove selected items\n       * */\n      ,\n      itemId: item => `${item.id}-${item.version}`,\n      columns: columns,\n      pagination: pagination,\n      sorting: sorting,\n      isSelectable: true,\n      selection: selection,\n      onChange: this.onTableChange,\n      noItemsMessage: /*#__PURE__*/React.createElement(DashboardEmptyPrompt, {\n        onCreateTrigger: onCreateTrigger\n      })\n    }));\n  }\n\n}\n\n_defineProperty(Dashboard, \"defaultProps\", {\n  monitorIds: [],\n  detectorIds: []\n});","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport { EuiLink } from '@elastic/eui';\nimport moment from 'moment';\nimport { ALERT_STATE, DEFAULT_EMPTY_DATA } from '../../../utils/constants';\nimport { PLUGIN_NAME } from '../../../../utils/constants';\n\nconst renderTime = time => {\n  const momentTime = moment(time);\n  if (time && momentTime.isValid()) return momentTime.format('MM/DD/YY h:mm a');\n  return DEFAULT_EMPTY_DATA;\n};\n\nexport const columns = [{\n  field: 'start_time',\n  name: 'Alert start time',\n  sortable: true,\n  truncateText: false,\n  render: renderTime,\n  dataType: 'date'\n}, {\n  field: 'end_time',\n  name: 'Alert end time',\n  sortable: true,\n  truncateText: false,\n  render: renderTime,\n  dataType: 'date'\n}, {\n  field: 'monitor_name',\n  name: 'Monitor name',\n  sortable: true,\n  truncateText: true,\n  textOnly: true,\n  render: (name, alert) => /*#__PURE__*/React.createElement(EuiLink, {\n    href: `${PLUGIN_NAME}#/monitors/${alert.monitor_id}`\n  }, name)\n}, {\n  field: 'trigger_name',\n  name: 'Trigger name',\n  sortable: true,\n  truncateText: true,\n  textOnly: true\n}, {\n  field: 'severity',\n  name: 'Severity',\n  sortable: false,\n  truncateText: false\n}, {\n  field: 'state',\n  name: 'State',\n  sortable: false,\n  truncateText: false,\n  render: (state, alert) => {\n    const stateText = typeof state !== 'string' ? DEFAULT_EMPTY_DATA : _.capitalize(state.toLowerCase());\n    return state === ALERT_STATE.ERROR ? `${stateText}: ${alert.error_message}` : stateText;\n  }\n}, {\n  field: 'acknowledged_time',\n  name: 'Time acknowledged',\n  sortable: true,\n  truncateText: false,\n  render: renderTime,\n  dataType: 'date'\n}];","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiConfirmModal, EuiOverlayMask, EUI_MODAL_CANCEL_BUTTON } from '@elastic/eui';\nconst propTypes = {\n  isVisible: PropTypes.bool.isRequired,\n  onConfirm: PropTypes.func.isRequired,\n  onCancel: PropTypes.func.isRequired\n};\n\nconst DeleteConfirmation = ({\n  isVisible,\n  onConfirm,\n  onCancel\n}) => {\n  return isVisible ? /*#__PURE__*/React.createElement(EuiOverlayMask, null, /*#__PURE__*/React.createElement(EuiConfirmModal, {\n    title: \"Delete this destination?\",\n    onCancel: onCancel,\n    onConfirm: onConfirm,\n    cancelButtonText: \"No\",\n    confirmButtonText: \"Yes\",\n    buttonColor: \"danger\",\n    defaultFocusedButton: EUI_MODAL_CANCEL_BUTTON\n  })) : null;\n};\n\nDeleteConfirmation.propTypes = propTypes;\nexport default DeleteConfirmation;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DeleteConfirmation from './DeleteConfirmation';\nexport default DeleteConfirmation;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { EuiButton, EuiContextMenuPanel, EuiContextMenuItem, EuiFlexGroup, EuiFlexItem, EuiPopover } from '@elastic/eui';\nimport { APP_PATH } from '../../../../../utils/constants';\nimport { PLUGIN_NAME } from '../../../../../../utils/constants';\nexport default class DestinationsActions extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      isActionsOpen: false\n    });\n\n    _defineProperty(this, \"getActions\", () => {\n      return [/*#__PURE__*/React.createElement(EuiContextMenuItem, {\n        key: \"manageSenders\",\n        onClick: () => {\n          this.onCloseActions();\n          this.props.onClickManageSenders();\n        }\n      }, \"Manage email senders\"), /*#__PURE__*/React.createElement(EuiContextMenuItem, {\n        key: \"manageEmailGroups\",\n        onClick: () => {\n          this.onCloseActions();\n          this.props.onClickManageEmailGroups();\n        }\n      }, \"Manage email groups\")];\n    });\n\n    _defineProperty(this, \"onCloseActions\", () => {\n      this.setState({\n        isActionsOpen: false\n      });\n    });\n\n    _defineProperty(this, \"onClickActions\", () => {\n      this.setState(prevState => ({\n        isActionsOpen: !prevState.isActionsOpen\n      }));\n    });\n  }\n\n  render() {\n    const {\n      isEmailAllowed\n    } = this.props;\n    const {\n      isActionsOpen\n    } = this.state;\n    return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      justifyContent: \"spaceBetween\",\n      alignItems: \"center\"\n    }, isEmailAllowed ? /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"destinationActionsPopover\",\n      button: /*#__PURE__*/React.createElement(EuiButton, {\n        onClick: this.onClickActions,\n        iconType: \"arrowDown\",\n        iconSide: \"right\"\n      }, \"Actions\"),\n      isOpen: isActionsOpen,\n      closePopover: this.onCloseActions,\n      panelPaddingSize: \"none\",\n      anchorPosition: \"downLeft\"\n    }, /*#__PURE__*/React.createElement(EuiContextMenuPanel, {\n      items: this.getActions()\n    }))) : null, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      fill: true,\n      href: `${PLUGIN_NAME}#${APP_PATH.CREATE_DESTINATION}`\n    }, \"Add destination\")));\n  }\n\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DestinationsActions from './DestinationsActions';\nexport default DestinationsActions;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFieldSearch, EuiFlexGroup, EuiFlexItem, EuiPagination, EuiSelect } from '@elastic/eui';\nimport { DESTINATION_OPTIONS } from '../../../utils/constants';\nconst filterTypes = [{\n  value: 'ALL',\n  text: 'All type'\n}, ...DESTINATION_OPTIONS];\nconst propTypes = {\n  activePage: PropTypes.number.isRequired,\n  pageCount: PropTypes.number.isRequired,\n  search: PropTypes.string,\n  type: PropTypes.string,\n  onSearchChange: PropTypes.func.isRequired,\n  onTypeChange: PropTypes.func.isRequired,\n  onPageClick: PropTypes.func.isRequired,\n  allowList: PropTypes.array.isRequired\n};\nconst defaultProps = {\n  search: '',\n  type: 'ALL'\n};\n\nconst DestinationsControls = ({\n  activePage,\n  pageCount,\n  search,\n  type,\n  onSearchChange,\n  onTypeChange,\n  onPageClick,\n  allowList\n}) => {\n  const allowedOptions = DESTINATION_OPTIONS.filter(option => allowList.includes(option.value));\n  const filterTypes = [{\n    value: 'ALL',\n    text: 'All type'\n  }, ...allowedOptions];\n  return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    style: {\n      padding: '0px 5px'\n    }\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiFieldSearch, {\n    fullWidth: true,\n    value: search,\n    placeholder: \"Search\",\n    onChange: onSearchChange\n  })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(EuiSelect, {\n    options: filterTypes,\n    value: type,\n    onChange: onTypeChange\n  })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false,\n    style: {\n      justifyContent: 'center'\n    }\n  }, /*#__PURE__*/React.createElement(EuiPagination, {\n    pageCount: pageCount,\n    activePage: activePage,\n    onPageClick: onPageClick\n  })));\n};\n\nDestinationsControls.propTypes = propTypes;\nDestinationsControls.defaultProps = defaultProps;\nexport default DestinationsControls;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DestinationsControls from './DestinationsControls';\nexport default DestinationsControls;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiButton, EuiEmptyPrompt, EuiText } from '@elastic/eui';\nimport { APP_PATH } from '../../../../../utils/constants';\nimport { PLUGIN_NAME } from '../../../../../../utils/constants';\nconst filterText = 'There are no destinations matching your applied filters. Reset your filters to view all destinations.';\nconst emptyText = 'There are no existing destinations. Add a destination.';\nconst createDestinationButton = /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  href: `${PLUGIN_NAME}#${APP_PATH.CREATE_DESTINATION}`\n}, \"Add destination\");\n\nconst resetFiltersButton = resetFilters => /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  onClick: resetFilters\n}, \"Reset filters\");\n\nconst propTypes = {\n  isFilterApplied: PropTypes.bool.isRequired,\n  onResetFilters: PropTypes.func.isRequired\n};\n\nconst EmptyDestinations = ({\n  isFilterApplied,\n  onResetFilters\n}) => /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiText, null, /*#__PURE__*/React.createElement(\"p\", null, isFilterApplied ? filterText : emptyText)),\n  actions: isFilterApplied ? resetFiltersButton(onResetFilters) : createDestinationButton\n});\n\nEmptyDestinations.propTypes = propTypes;\nexport default EmptyDestinations;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport EmptyDestinations from './EmptyDestinations';\nexport default EmptyDestinations;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DeleteConfirmation from './DeleteConfirmation';\nimport DestinationsActions from './DestinationsActions';\nimport DestinationsControls from './DestinationsControls';\nimport EmptyDestinations from './EmptyDestinations';\nexport { DeleteConfirmation, DestinationsActions, DestinationsControls, EmptyDestinations };","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport { EuiButton } from '@elastic/eui';\nimport { FORMIK_INITIAL_EMAIL_GROUP_VALUES } from '../Email/utils/constants';\n\nconst AddEmailGroupButton = ({\n  arrayHelpers\n}) => /*#__PURE__*/React.createElement(EuiButton, {\n  onClick: () => arrayHelpers.unshift(_.cloneDeep(FORMIK_INITIAL_EMAIL_GROUP_VALUES))\n}, \"Add email group\");\n\nexport default AddEmailGroupButton;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport { EuiButton } from '@elastic/eui';\nimport { FORMIK_INITIAL_SENDER_VALUES } from '../Email/utils/constants';\n\nconst AddSenderButton = ({\n  arrayHelpers\n}) => /*#__PURE__*/React.createElement(EuiButton, {\n  onClick: () => arrayHelpers.unshift(_.cloneDeep(FORMIK_INITIAL_SENDER_VALUES))\n}, \"Add sender\");\n\nexport default AddSenderButton;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiSpacer } from '@elastic/eui';\nimport HeaderParamsEditor from './HeaderParamsEditor';\nimport URLInfo from './URLInfo';\nconst propTypes = {\n  type: PropTypes.string.isRequired\n};\n\nconst CustomWebhook = ({\n  type,\n  values\n}) => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(URLInfo, {\n  type: type,\n  values: values\n}), /*#__PURE__*/React.createElement(EuiSpacer, {\n  size: \"m\"\n}), /*#__PURE__*/React.createElement(HeaderParamsEditor, {\n  type: type,\n  headerParams: values[type].headerParams\n}));\n\nCustomWebhook.propTypes = propTypes;\nexport default CustomWebhook;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { FieldArray } from 'formik';\nimport AttributeEditor from '../../../../../components/AttributeEditor';\nimport SubHeader from '../../../../../components/SubHeader';\nimport { FormikFieldText } from '../../../../../components/FormControls';\nimport { hasError, isInvalid, required } from '../../../../../utils/validate';\n\nconst handleRenderKeyField = (fieldName, index) => /*#__PURE__*/React.createElement(FormikFieldText, {\n  formRow: index === 0,\n  fieldProps: {\n    validate: required\n  },\n  rowProps: {\n    label: index === 0 ? 'Key' : null,\n    isInvalid,\n    error: hasError\n  },\n  inputProps: {\n    isInvalid,\n    disabled: index === 0 //Content-Type should be provided\n\n  },\n  name: fieldName\n});\n\nconst handleRenderValueField = (fieldName, index) => /*#__PURE__*/React.createElement(FormikFieldText, {\n  formRow: index === 0,\n  fieldProps: {\n    validate: required\n  },\n  rowProps: {\n    label: index === 0 ? 'Value' : null\n  },\n  inputProps: {\n    isInvalid\n  },\n  name: fieldName\n});\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  headerParams: PropTypes.array.isRequired\n};\n\nconst HeaderParamsEditor = ({\n  type,\n  headerParams\n}) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(SubHeader, {\n  title: /*#__PURE__*/React.createElement(\"h6\", null, \"Header information\"),\n  description: ''\n}), /*#__PURE__*/React.createElement(FieldArray, {\n  name: `${type}.headerParams`,\n  validateOnChange: true,\n  render: arrayHelpers => /*#__PURE__*/React.createElement(AttributeEditor, {\n    onAdd: () => arrayHelpers.push({\n      key: '',\n      value: ''\n    }),\n    onRemove: index => index !== 0 && arrayHelpers.remove(index),\n    items: headerParams,\n    name: `${type}.headerParams`,\n    addButtonText: \"Add header\",\n    removeButtonText: \"Remove header\",\n    onRenderKeyField: handleRenderKeyField,\n    onRenderValueField: handleRenderValueField\n  })\n}));\n\nHeaderParamsEditor.propTypes = propTypes;\nexport default HeaderParamsEditor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FieldArray } from 'formik';\nimport AttributeEditor from '../../../../../components/AttributeEditor';\nimport { FormikFieldText } from '../../../../../components/FormControls';\nimport { isInvalid, required } from '../../../../../utils/validate';\n\nconst handleRenderKeyField = (fieldName, index, isEnabled) => /*#__PURE__*/React.createElement(FormikFieldText, {\n  formRow: index === 0,\n  fieldProps: {\n    validate: isEnabled ? required : null\n  },\n  rowProps: {\n    label: index === 0 ? 'Key' : null\n  },\n  inputProps: {\n    isInvalid,\n    disabled: !isEnabled\n  },\n  name: fieldName\n});\n\nconst handleRenderValueField = (fieldName, index, isEnabled) => /*#__PURE__*/React.createElement(FormikFieldText, {\n  formRow: index === 0,\n  fieldProps: {\n    validate: isEnabled ? required : null\n  },\n  rowProps: {\n    label: index === 0 ? 'Value' : null\n  },\n  inputProps: {\n    isInvalid,\n    disabled: !isEnabled\n  },\n  name: fieldName\n});\n\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  queryParams: PropTypes.array.isRequired,\n  isEnabled: PropTypes.bool\n};\n\nconst QueryParamsEditor = ({\n  type,\n  queryParams,\n  isEnabled = true\n}) => /*#__PURE__*/React.createElement(FieldArray, {\n  name: `${type}.queryParams`,\n  validateOnChange: true,\n  render: arrayHelpers => /*#__PURE__*/React.createElement(AttributeEditor, {\n    titleText: \"Query parameters\",\n    onAdd: () => arrayHelpers.push({\n      key: '',\n      value: ''\n    }),\n    onRemove: index => arrayHelpers.remove(index),\n    items: queryParams,\n    name: `${type}.queryParams`,\n    addButtonText: \"Add parameter\",\n    removeButtonText: \"Remove parameter\",\n    onRenderKeyField: handleRenderKeyField,\n    onRenderValueField: handleRenderValueField,\n    isEnabled: isEnabled\n  })\n});\n\nQueryParamsEditor.propTypes = propTypes;\nexport default QueryParamsEditor;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { FormikFieldText, FormikSelect, FormikFieldNumber, FormikFieldRadio } from '../../../../../components/FormControls';\nimport { hasError, isInvalid, required } from '../../../../../utils/validate';\nimport { validateUrl, validateHost } from './validate';\nimport { URL_TYPE } from '../../../containers/CreateDestination/utils/constants';\nimport { formikInitialValues } from '../../../containers/CreateDestination/utils/constants';\nimport { DESTINATION_TYPE } from '../../../utils/constants';\nimport QueryParamsEditor from './QueryParamsEditor';\nconst propTypes = {\n  type: PropTypes.string.isRequired,\n  values: PropTypes.object.isRequired\n};\nconst protocolOptions = [{\n  value: 'HTTPS',\n  text: 'HTTPS'\n}, {\n  value: 'HTTP',\n  text: 'HTTP'\n}];\n\nconst URLInfo = ({\n  type,\n  values\n}) => {\n  const isUrlEnabled = values[type].urlType === URL_TYPE.FULL_URL;\n  return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(FormikFieldRadio, {\n    name: `${type}.urlType`,\n    formRow: true,\n    inputProps: {\n      id: 'fullUrl',\n      value: URL_TYPE.FULL_URL,\n      checked: isUrlEnabled,\n      label: 'Define endpoint by URL',\n      onChange: (e, field, form) => {\n        // Clear Custom URL if user switched to custom URL\n        if (field.value === URL_TYPE.ATTRIBUTE_URL) {\n          const customValues = { ...values,\n            [type]: { ...values[type],\n              scheme: '',\n              host: '',\n              port: '',\n              path: '',\n              queryParams: formikInitialValues[DESTINATION_TYPE.CUSTOM_HOOK].queryParams\n            }\n          };\n          form.setTouched({\n            [type]: {\n              scheme: false,\n              host: false,\n              port: false,\n              path: false\n            }\n          });\n          form.setValues(customValues);\n        }\n\n        field.onChange(e);\n      }\n    }\n  }), /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `${type}.url`,\n    formRow: true,\n    fieldProps: {\n      validate: fieldValue => validateUrl(fieldValue, values)\n    },\n    rowProps: {\n      label: 'Webhook URL',\n      style: {\n        paddingLeft: '10px'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      disabled: !isUrlEnabled,\n      isInvalid,\n      // 'validateUrl()' is only called onBlur, but we enable the basic 'required()' validation onChange\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        form.setFieldError(`${type}.url`, required(e.target.value));\n      }\n    }\n  }), /*#__PURE__*/React.createElement(FormikFieldRadio, {\n    name: `${type}.urlType`,\n    formRow: true,\n    value: \"customUrl\",\n    inputProps: {\n      id: 'customUrl',\n      value: URL_TYPE.ATTRIBUTE_URL,\n      checked: !isUrlEnabled,\n      label: 'Define endpoint by custom attributes URL',\n      onChange: (e, field, form) => {\n        // Clear Full URL if user switched to custom URL\n        if (field.value === URL_TYPE.FULL_URL) {\n          form.setFieldTouched(`${type}.url`, false, false);\n          form.setFieldValue(`${type}.url`, '');\n        }\n\n        field.onChange(e);\n      }\n    }\n  }), /*#__PURE__*/React.createElement(FormikSelect, {\n    name: `${type}.scheme`,\n    formRow: true,\n    rowProps: {\n      label: 'Type',\n      style: {\n        paddingLeft: '10px'\n      }\n    },\n    inputProps: {\n      disabled: isUrlEnabled,\n      options: protocolOptions\n    }\n  }), /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `${type}.host`,\n    formRow: true,\n    fieldProps: {\n      validate: fieldValue => validateHost(fieldValue, values)\n    },\n    rowProps: {\n      label: 'Host',\n      style: {\n        paddingLeft: '10px'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      disabled: isUrlEnabled,\n      isInvalid,\n      // 'validateHost()' is only called onBlur, but we enable the basic 'required()' validation onChange\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        form.setFieldError(`${type}.host`, required(e.target.value));\n      }\n    }\n  }), /*#__PURE__*/React.createElement(FormikFieldNumber, {\n    name: `${type}.port`,\n    formRow: true,\n    rowProps: {\n      label: 'Port',\n      style: {\n        paddingLeft: '10px'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      disabled: isUrlEnabled,\n      isInvalid\n    }\n  }), /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `${type}.path`,\n    formRow: true,\n    rowProps: {\n      label: 'Path',\n      style: {\n        paddingLeft: '10px'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      disabled: isUrlEnabled,\n      isInvalid\n    }\n  }), /*#__PURE__*/React.createElement(QueryParamsEditor, {\n    type: type,\n    queryParams: values[type].queryParams,\n    isEnabled: !isUrlEnabled\n  }));\n};\n\nURLInfo.propTypes = propTypes;\nexport default URLInfo;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport CustomWebhook from './CustomWebhook';\nexport default CustomWebhook;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { URL_TYPE } from '../../../containers/CreateDestination/utils/constants';\nexport const validateUrl = (value, allValues) => {\n  const type = allValues.type;\n  if (allValues[type].urlType !== URL_TYPE.FULL_URL) return;\n  if (!value) return 'Required';\n  const regname = '((www\\\\.)?[-a-zA-Z0-9@:%._\\\\+~#=]{2,256}\\\\.[a-z]{2,63})';\n  const ipv4 = '(((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\\\\.){3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))';\n  const h16 = '([0-9a-fA-F]{1,4})';\n  const ls32 = `((${h16}:${h16})|${ipv4})`;\n  const ipv6 = `\\\\[(` + `((${h16}:){6}${ls32})|` + `(::(${h16}:){5}${ls32})|` + `(${h16}?::(${h16}:){4}${ls32})|` + `(((${h16}:){0,1}${h16})?::(${h16}:){3}${ls32})|` + `(((${h16}:){0,2}${h16})?::(${h16}:){2}${ls32})|` + `(((${h16}:){0,3}${h16})?::${h16}:${ls32})|` + `(((${h16}:){0,4}${h16})?::${ls32})|` + `(((${h16}:){0,5}${h16})?::${h16})|` + `((${h16}:){0,6}${h16})?::` + `)\\\\]`;\n  const regexUrl = `^https?:\\\\/\\\\/(${regname}|${ipv4}|${ipv6})(:[0-9]{1,5})?([/?#][-a-zA-Z0-9@:%_\\\\+.~#?&//=]*)?$`;\n  const isValidUrl = new RegExp(regexUrl).test(value);\n  if (!isValidUrl) return 'Invalid URL';\n};\nexport const validateHost = (value, allValues) => {\n  const type = allValues.type;\n  if (allValues[type].urlType !== URL_TYPE.ATTRIBUTE_URL) return;\n  if (!value) return 'Required';\n  const isValidUrl = /^(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$/.test(value);\n  if (!isValidUrl) return 'Invalid Host';\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiSpacer } from '@elastic/eui';\nimport EmailSender from '../../../containers/CreateDestination/EmailSender';\nimport EmailRecipients from '../../../containers/CreateDestination/EmailRecipients';\nconst propTypes = {\n  type: PropTypes.string.isRequired\n};\n\nconst Email = ({\n  httpClient,\n  type,\n  values\n}) => /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(EmailSender, {\n  httpClient: httpClient,\n  type: type\n}), /*#__PURE__*/React.createElement(EuiSpacer, {\n  size: \"m\"\n}), /*#__PURE__*/React.createElement(EmailRecipients, {\n  httpClient: httpClient,\n  type: type\n}));\n\nEmail.propTypes = propTypes;\nexport default Email;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiAccordion, EuiButton } from '@elastic/eui';\nimport { FormikComboBox, FormikFieldText } from '../../../../../components/FormControls';\nimport { isInvalid, hasError } from '../../../../../utils/validate';\nimport { validateEmailGroupEmails, validateEmailGroupName } from './utils/validate';\nimport { STATE } from './utils/constants';\n\nconst onEmailGroupChange = (index, emailGroup, arrayHelpers) => {\n  // Checking for id here since new email groups should not be marked as updated\n  // Also will not replace the email group state if it has already been marked as updated\n  if (emailGroup.id && emailGroup.state !== STATE.UPDATED) {\n    arrayHelpers.replace(index, { ...emailGroup,\n      state: STATE.UPDATED\n    });\n  }\n};\n\nconst onCreateOption = (fieldName, value, selectedOptions, setFieldValue) => {\n  const normalizedValue = value.trim().toLowerCase();\n  if (!normalizedValue) return false;\n  const newOption = {\n    label: value\n  };\n  setFieldValue(fieldName, [...selectedOptions, newOption]);\n};\n\nconst EmailGroup = ({\n  emailGroup,\n  emailOptions,\n  arrayHelpers,\n  context,\n  index,\n  onDelete\n}) => {\n  const {\n    name\n  } = emailGroup;\n  return /*#__PURE__*/React.createElement(EuiAccordion, {\n    id: name,\n    buttonContent: !name ? 'New email group' : name,\n    paddingSize: \"l\",\n    extraAction: /*#__PURE__*/React.createElement(EuiButton, {\n      color: \"danger\",\n      size: \"s\",\n      onClick: onDelete\n    }, \"Remove email group\")\n  }, /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `emailGroups.${index}.name`,\n    formRow: true,\n    fieldProps: {\n      validate: validateEmailGroupName(context.ctx.emailGroups)\n    },\n    rowProps: {\n      label: 'Email group name',\n      helpText: 'A unique and descriptive name that is easy to search. ' + 'Valid characters are upper and lowercase a-z, 0-9, _ (underscore) and - (hyphen).',\n      style: {\n        padding: '10px 0px'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: 'my-email-group',\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        onEmailGroupChange(index, emailGroup, arrayHelpers);\n      }\n    }\n  }), /*#__PURE__*/React.createElement(FormikComboBox, {\n    name: `emailGroups.${index}.emails`,\n    formRow: true,\n    fieldProps: {\n      validate: validateEmailGroupEmails\n    },\n    rowProps: {\n      label: 'Emails',\n      helpText: 'Search for previously used email addresses or type in new ones.',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: 'Email addresses',\n      options: emailOptions,\n      onChange: (options, field, form) => {\n        form.setFieldValue(`emailGroups.${index}.emails`, options);\n        onEmailGroupChange(index, emailGroup, arrayHelpers);\n      },\n      onBlur: (e, field, form) => {\n        form.setFieldTouched(`emailGroups.${index}.emails`, true);\n      },\n      onCreateOption: (value, field, form) => {\n        onCreateOption(`emailGroups.${index}.emails`, value, field.value, form.setFieldValue);\n      },\n      isClearable: true\n    }\n  }));\n};\n\nexport default EmailGroup;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiAccordion, EuiButton, EuiFlexGroup, EuiFlexItem } from '@elastic/eui';\nimport { FormikFieldText, FormikFieldNumber, FormikSelect } from '../../../../../components/FormControls';\nimport { isInvalid, hasError } from '../../../../../utils/validate';\nimport { validateEmail, validateHost, validatePort, validateSenderName } from './utils/validate';\nimport { METHOD_TYPE, STATE } from './utils/constants';\nconst methodOptions = [{\n  value: METHOD_TYPE.NONE,\n  text: 'None'\n}, {\n  value: METHOD_TYPE.SSL,\n  text: 'SSL'\n}, {\n  value: METHOD_TYPE.TLS,\n  text: 'TLS'\n}];\n\nconst onSenderChange = (index, sender, arrayHelpers) => {\n  // Checking for id here since new senders should not be marked as updated\n  // Also will not replace the sender state if it has already been marked as updated\n  if (sender.id && sender.state !== STATE.UPDATED) {\n    arrayHelpers.replace(index, { ...sender,\n      state: STATE.UPDATED\n    });\n  }\n};\n\nconst Sender = ({\n  sender,\n  arrayHelpers,\n  context,\n  index,\n  onDelete\n}) => {\n  const {\n    name\n  } = sender;\n  return /*#__PURE__*/React.createElement(EuiAccordion, {\n    id: name,\n    buttonContent: !name ? 'New sender' : name,\n    paddingSize: \"l\",\n    extraAction: /*#__PURE__*/React.createElement(EuiButton, {\n      color: \"danger\",\n      size: \"s\",\n      onClick: onDelete\n    }, \"Remove sender\")\n  }, /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `senders.${index}.name`,\n    formRow: true,\n    fieldProps: {\n      validate: validateSenderName(context.ctx.senders)\n    },\n    rowProps: {\n      label: 'Sender name',\n      helpText: 'A unique and descriptive name that is easy to search. ' + 'Valid characters are upper and lowercase a-z, 0-9, and _ (underscore).',\n      style: {\n        padding: '10px 0px'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: 'my_sender',\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        onSenderChange(index, sender, arrayHelpers);\n      },\n      isInvalid\n    }\n  }), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n    alignItems: \"baseline\",\n    justifyContent: \"flexStart\",\n    style: {\n      padding: '10px 0px'\n    }\n  }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `senders.${index}.email`,\n    formRow: true,\n    fieldProps: {\n      validate: validateEmail\n    },\n    rowProps: {\n      label: 'Email address',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: 'username@xxx.com',\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        onSenderChange(index, sender, arrayHelpers);\n      },\n      isInvalid\n    }\n  })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `senders.${index}.host`,\n    formRow: true,\n    fieldProps: {\n      validate: validateHost\n    },\n    rowProps: {\n      label: 'Host',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: 'smtp.xxx.com',\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        onSenderChange(index, sender, arrayHelpers);\n      },\n      isInvalid\n    }\n  })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n    grow: false\n  }, /*#__PURE__*/React.createElement(FormikFieldNumber, {\n    name: `senders.${index}.port`,\n    formRow: true,\n    fieldProps: {\n      validate: validatePort\n    },\n    rowProps: {\n      label: 'Port',\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      placeholder: '25',\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        onSenderChange(index, sender, arrayHelpers);\n      },\n      isInvalid\n    }\n  }))), /*#__PURE__*/React.createElement(FormikSelect, {\n    name: `senders.${index}.method`,\n    formRow: true,\n    rowProps: {\n      label: 'Encryption method',\n      helpText: `SSL or TLS is recommended for security.\n          SSL and TLS requires validation by adding the following fields to the Elasticsearch keystore:\n          opendistro.alerting.destination.email.${!name ? '[sender name]' : name}.username\n          opendistro.alerting.destination.email.${!name ? '[sender name]' : name}.password`,\n      style: {\n        padding: '10px 0px'\n      }\n    },\n    inputProps: {\n      options: methodOptions,\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        onSenderChange(index, sender, arrayHelpers);\n      }\n    }\n  }));\n};\n\nexport default Sender;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Email from './Email';\nexport default Email;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const METHOD_TYPE = {\n  NONE: 'none',\n  SSL: 'ssl',\n  TLS: 'starttls'\n};\nexport const STATE = {\n  NO_OP: 'no_op',\n  UPDATED: 'updated',\n  CREATED: 'created'\n};\nexport const FORMIK_INITIAL_SENDER_VALUES = {\n  name: '',\n  email: '',\n  host: '',\n  port: '',\n  method: METHOD_TYPE.NONE,\n  state: STATE.CREATED\n};\nexport const FORMIK_INITIAL_EMAIL_GROUP_VALUES = {\n  name: '',\n  emails: [],\n  state: STATE.CREATED\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nexport const validateSenderName = senders => value => {\n  if (!value) return 'Required';\n  if (!/^[A-Z0-9_]+$/i.test(value)) return 'Invalid sender name';\n  const matches = senders.filter(sender => sender.name === value);\n  if (matches.length > 1) return 'Sender name is already being used';\n};\nexport const validateEmailGroupName = emailGroups => value => {\n  if (!value) return 'Required';\n\n  if (!/^[A-Z0-9_-]+$/i.test(value)) {\n    return 'Invalid email group name';\n  }\n\n  const matches = emailGroups.filter(emailGroup => emailGroup.name === value);\n  if (matches.length > 1) return 'Email group name is already being used';\n};\nexport const validateEmailGroupEmails = options => {\n  if (_.isEmpty(options)) return 'Must specify an email';\n  const invalidEmails = options.map(option => option.label).filter(email => !isValidEmail(email));\n\n  if (invalidEmails.length > 0) {\n    return `Invalid emails: ${invalidEmails.join(', ')}`;\n  }\n};\nexport const validateEmail = value => {\n  if (!value) return 'Required';\n\n  if (!isValidEmail(value)) {\n    return 'Invalid email address';\n  }\n};\nexport const validateHost = value => {\n  // SMTP hosts are usually of the format smtp.serveraddress.com\n  // but this is not always the case so choosing not to validate the format here\n  if (!value) return 'Required';\n};\nexport const validatePort = value => {\n  if (!value) return 'Required';\n};\n/**\n * Validating email against a RFC 5322 (https://www.ietf.org/rfc/rfc5322.txt) compliant pattern\n */\n\nexport const isValidEmail = value => /^(?:[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+\\/=?^_`{|}~-]+)*|\"(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21\\x23-\\x5b\\x5d-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])*\")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\\[(?:(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9]))\\.){3}(?:(2(5[0-5]|[0-4][0-9])|1[0-9][0-9]|[1-9]?[0-9])|[a-z0-9-]*[a-z0-9]:(?:[\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x21-\\x5a\\x53-\\x7f]|\\\\[\\x01-\\x09\\x0b\\x0c\\x0e-\\x7f])+)\\])$/i.test(value);","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiEmptyPrompt, EuiText } from '@elastic/eui';\nimport AddEmailGroupButton from '../AddEmailGroupButton/AddEmailGroupButton';\nconst emailGroupEmptyText = 'Use an email group to manage a list of email addresses you frequently send to at the same time. ' + 'You can create as many email groups as needed and use them together with individual email addresses when ' + 'specifying recipients.';\n\nconst addEmailGroupButton = arrayHelpers => /*#__PURE__*/React.createElement(AddEmailGroupButton, {\n  arrayHelpers: arrayHelpers\n});\n\nconst EmailGroupEmptyPrompt = ({\n  arrayHelpers\n}) => /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiText, null, /*#__PURE__*/React.createElement(\"h1\", null, \"You have no email group set up\"), /*#__PURE__*/React.createElement(\"p\", null, emailGroupEmptyText)),\n  actions: addEmailGroupButton(arrayHelpers)\n});\n\nexport default EmailGroupEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport EmailGroupEmptyPrompt from './EmailGroupEmptyPrompt';\nexport default EmailGroupEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiEmptyPrompt, EuiText } from '@elastic/eui';\nimport AddSenderButton from '../AddSenderButton/AddSenderButton';\nconst senderEmptyText = 'A sender specifies the sender name, sender email, port, host, ' + 'and encryption method for your destination(s). You can reuse the same sender across different destinations ' + 'or create as many senders as needed.';\n\nconst addSenderButton = arrayHelpers => /*#__PURE__*/React.createElement(AddSenderButton, {\n  arrayHelpers: arrayHelpers\n});\n\nconst SenderEmptyPrompt = ({\n  arrayHelpers\n}) => /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiText, null, /*#__PURE__*/React.createElement(\"h1\", null, \"You have no sender set up\"), /*#__PURE__*/React.createElement(\"p\", null, senderEmptyText)),\n  actions: addSenderButton(arrayHelpers)\n});\n\nexport default SenderEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport SenderEmptyPrompt from './SenderEmptyPrompt';\nexport default SenderEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { FormikFieldText } from '../../../../../components/FormControls';\nimport { hasError, isInvalid, required } from '../../../../../utils/validate'; //TODO:: verify the Regex for all the cases based on what backend support\n\nconst validateURL = value => {\n  if (!value) return 'Required';\n  const isValidUrl = /^https?:\\/\\/(www\\.)?[-a-zA-Z0-9@:%._\\+~#=]{2,256}\\.[a-z]{2,4}\\b([-a-zA-Z0-9@:%_\\+.~#?&//=]*)$/.test(value);\n  if (!isValidUrl) return 'Invalid URL';\n};\n\nconst Webhook = ({\n  type\n}) => {\n  return /*#__PURE__*/React.createElement(FormikFieldText, {\n    name: `${type}.url`,\n    formRow: true,\n    fieldProps: {\n      validate: validateURL\n    },\n    rowProps: {\n      label: 'Webhook URL:',\n      style: {\n        paddingLeft: '10px'\n      },\n      isInvalid,\n      error: hasError\n    },\n    inputProps: {\n      isInvalid,\n      // 'validateURL()' is only called onBlur, but we enable the basic 'required()' validation onChange\n      onChange: (e, field, form) => {\n        field.onChange(e);\n        form.setFieldError('name', required(e.target.value));\n      }\n    }\n  });\n};\n\nWebhook.propTypes = {\n  type: PropTypes.string.isRequired\n};\nexport default Webhook;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Webhook from './Webhook/Webhook';\nimport CustomWebhook from './CustomWebhook';\nimport Email from './Email';\nexport { Webhook, CustomWebhook, Email };","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport _ from 'lodash';\nimport { Formik } from 'formik';\nimport { EuiSpacer, EuiTitle, EuiFlexGroup, EuiFlexItem, EuiButton, EuiButtonEmpty } from '@elastic/eui'; // import { toastNotifications } from 'ui/notify';\n\nimport ContentPanel from '../../../../components/ContentPanel';\nimport { hasError, isInvalid, required } from '../../../../utils/validate';\nimport { FormikFieldText, FormikSelect } from '../../../../components/FormControls';\nimport SubHeader from '../../../../components/SubHeader';\nimport { formikInitialValues } from './utils/constants';\nimport { DESTINATION_OPTIONS, DESTINATION_TYPE } from '../../utils/constants';\nimport { validateDestinationName, validateDestinationType } from './utils/validations';\nimport { formikToDestination } from './utils/formikToDestination';\nimport { destinationToFormik } from './utils/destinationToFormik';\nimport { Webhook, CustomWebhook, Email } from '../../components/createDestinations';\nimport { SubmitErrorHandler } from '../../../../utils/SubmitErrorHandler';\nimport { getAllowList } from '../../utils/helpers';\nconst destinationType = {\n  [DESTINATION_TYPE.SLACK]: props => /*#__PURE__*/React.createElement(Webhook, props),\n  [DESTINATION_TYPE.CHIME]: props => /*#__PURE__*/React.createElement(Webhook, props),\n  [DESTINATION_TYPE.CUSTOM_HOOK]: props => /*#__PURE__*/React.createElement(CustomWebhook, props),\n  [DESTINATION_TYPE.EMAIL]: props => /*#__PURE__*/React.createElement(Email, props)\n};\n\nclass CreateDestination extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getDestination\", async destinationId => {\n      const {\n        httpClient,\n        history\n      } = this.props;\n\n      try {\n        const resp = await httpClient.get(`../api/alerting/destinations/${destinationId}`);\n\n        if (resp.data.ok) {\n          const ifSeqNo = _.get(resp, 'data.ifSeqNo');\n\n          const ifPrimaryTerm = _.get(resp, 'data.ifPrimaryTerm');\n\n          this.setState({\n            ifSeqNo,\n            ifPrimaryTerm\n          });\n        } else {\n          // Handle error, show message in case of 404\n          history.push(`/destinations`);\n        }\n      } catch (e) {\n        console.log('Unable to get the data');\n      }\n    });\n\n    _defineProperty(this, \"handleUpdate\", async (requestData, {\n      setSubmitting\n    }) => {\n      const {\n        httpClient,\n        match: {\n          params: {\n            destinationId\n          }\n        },\n        history\n      } = this.props;\n      const {\n        ifSeqNo,\n        ifPrimaryTerm\n      } = this.state;\n\n      try {\n        const resp = await httpClient.put(`../api/alerting/destinations/${destinationId}?ifSeqNo=${ifSeqNo}&ifPrimaryTerm=${ifPrimaryTerm}`, requestData);\n        const {\n          data: {\n            ok\n          }\n        } = resp;\n\n        if (ok) {\n          history.push(`/destinations`);\n        } else {\n          // Handles stale Destination data.\n          setSubmitting(false);\n          this.getDestination(destinationId);\n        }\n      } catch (e) {\n        console.log('Unable to update destination', e);\n        setSubmitting(false);\n      }\n    });\n\n    _defineProperty(this, \"handleCreate\", async (requestData, {\n      setSubmitting\n    }) => {\n      const {\n        httpClient,\n        history\n      } = this.props;\n\n      try {\n        const resp = await httpClient.post('../api/alerting/destinations', requestData);\n        setSubmitting(false);\n        const {\n          data: {\n            ok\n          }\n        } = resp;\n\n        if (ok) {\n          history.push(`/destinations`);\n        }\n      } catch (e) {\n        setSubmitting(false);\n        console.error('Unable to create destination', e);\n      }\n    });\n\n    _defineProperty(this, \"handleSubmit\", (values, formikBag) => {\n      const destinationRequest = formikToDestination(values);\n\n      if (this.props.edit) {\n        this.handleUpdate(destinationRequest, formikBag);\n      } else {\n        this.handleCreate(destinationRequest, formikBag);\n      }\n    });\n\n    _defineProperty(this, \"handleCancel\", () => {\n      const {\n        edit,\n        history\n      } = this.props;\n\n      if (edit) {\n        history.goBack();\n      } else {\n        history.push('/destinations');\n      }\n    });\n\n    this.state = {\n      initialValues: formikInitialValues,\n      allowList: []\n    };\n  }\n\n  async componentDidMount() {\n    const {\n      httpClient,\n      location,\n      edit,\n      history\n    } = this.props;\n    const allowList = await getAllowList(httpClient);\n    this.setState({\n      allowList\n    });\n    let ifSeqNo, ifPrimaryTerm;\n\n    if (edit) {\n      // In case user is refreshing in edit mode , redirect them to the destination page.\n      // TODO:: Ideally this should fetch the destination from ElasticSearch and fill in value\n      const destinationToEdit = _.get(location, 'state.destinationToEdit', null);\n\n      if (destinationToEdit) {\n        const initialValues = { ...(await destinationToFormik(httpClient, destinationToEdit))\n        };\n        ifSeqNo = destinationToEdit.ifSeqNo;\n        ifPrimaryTerm = destinationToEdit.ifPrimaryTerm;\n        this.setState({\n          initialValues,\n          ifSeqNo,\n          ifPrimaryTerm\n        });\n      } else {\n        history.push('/destinations');\n      }\n    }\n  }\n\n  getAllowedDestinationOptions() {\n    const {\n      allowList\n    } = this.state;\n    return DESTINATION_OPTIONS.filter(option => allowList.includes(option.value));\n  }\n\n  render() {\n    const {\n      edit,\n      httpClient,\n      location\n    } = this.props;\n    const {\n      initialValues\n    } = this.state;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '25px 50px'\n      }\n    }, /*#__PURE__*/React.createElement(Formik, {\n      initialValues: initialValues,\n      enableReinitialize: true,\n      validateOnChange: false,\n      onSubmit: this.handleSubmit,\n      render: ({\n        values,\n        handleSubmit,\n        isSubmitting,\n        errors,\n        isValid\n      }) => /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiTitle, {\n        size: \"l\"\n      }, /*#__PURE__*/React.createElement(\"h1\", null, edit ? 'Edit' : 'Add', \" destination\")), /*#__PURE__*/React.createElement(EuiSpacer, {\n        size: \"m\"\n      }), /*#__PURE__*/React.createElement(ContentPanel, {\n        title: \"Destination\",\n        titleSize: \"s\",\n        bodyStyles: {\n          padding: 'initial'\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          padding: '0px 10px'\n        }\n      }, /*#__PURE__*/React.createElement(FormikFieldText, {\n        name: \"name\",\n        formRow: true,\n        fieldProps: {\n          validate: validateDestinationName(httpClient, _.get(location, 'state.destinationToEdit'))\n        },\n        rowProps: {\n          label: 'Name',\n          helpText: 'Specify a name of the destination.',\n          style: {\n            paddingLeft: '10px'\n          },\n          isInvalid,\n          error: hasError\n        },\n        inputProps: {\n          isInvalid,\n\n          /* To reduce the frequency of search request,\n          the comprehension 'validateDestinationName()' is only called onBlur,\n          but we enable the basic 'required()' validation onChange for good user experience.*/\n          onChange: (e, field, form) => {\n            field.onChange(e);\n            form.setFieldError('name', required(e.target.value));\n          }\n        }\n      }), /*#__PURE__*/React.createElement(FormikSelect, {\n        name: \"type\",\n        formRow: true,\n        fieldProps: {\n          validate: validateDestinationType(httpClient)\n        },\n        rowProps: {\n          label: 'Type',\n          style: {\n            paddingLeft: '10px'\n          },\n          isInvalid,\n          error: hasError\n        },\n        inputProps: {\n          disabled: edit,\n          options: this.getAllowedDestinationOptions(),\n          isInvalid\n        }\n      }), /*#__PURE__*/React.createElement(EuiSpacer, {\n        size: \"m\"\n      }), /*#__PURE__*/React.createElement(SubHeader, {\n        title: /*#__PURE__*/React.createElement(\"h4\", null, \"Settings\"),\n        description: ''\n      }), /*#__PURE__*/React.createElement(EuiSpacer, {\n        size: \"m\"\n      }), destinationType[values.type]({\n        httpClient,\n        values,\n        type: values.type\n      })), /*#__PURE__*/React.createElement(EuiSpacer, {\n        size: \"m\"\n      })), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\",\n        justifyContent: \"flexEnd\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        onClick: this.handleCancel\n      }, \"Cancel\")), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButton, {\n        fill: true,\n        onClick: handleSubmit,\n        isLoading: isSubmitting\n      }, edit ? 'Update' : 'Create'))), /*#__PURE__*/React.createElement(SubmitErrorHandler, {\n        errors: errors,\n        isSubmitting: isSubmitting,\n        isValid: isValid,\n        onSubmitError: () => this.props.core.toastNotifications.addDanger({\n          title: `Failed to ${edit ? 'update' : 'create'} the destination`,\n          text: 'Fix all highlighted error(s) before continuing.'\n        })\n      }))\n    }));\n  }\n\n}\n\nCreateDestination.propTypes = {\n  edit: PropTypes.bool,\n  httpClient: PropTypes.func.isRequired,\n  location: PropTypes.object.isRequired,\n  match: PropTypes.object.isRequired\n};\nCreateDestination.defaultProps = {\n  edit: false\n};\nexport default CreateDestination;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFlexGroup, EuiFlexItem, EuiButton } from '@elastic/eui';\nimport { FormikComboBox } from '../../../../../components/FormControls';\nimport { isInvalid, hasError } from '../../../../../utils/validate';\nimport ManageEmailGroups from '../ManageEmailGroups';\nimport { validateEmailRecipients } from './utils/validate';\nimport { RECIPIENT_TYPE } from './utils/constants';\nimport getEmailGroups from './utils/helpers';\nexport default class EmailRecipients extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onCreateOption\", (fieldName, value, selectedOptions, setFieldValue) => {\n      const normalizedValue = value.trim().toLowerCase();\n      if (!normalizedValue) return;\n      const newOption = {\n        label: value,\n        value: value,\n        type: RECIPIENT_TYPE.EMAIL\n      };\n      setFieldValue(fieldName, [...selectedOptions, newOption]);\n    });\n\n    _defineProperty(this, \"onClickSave\", () => {\n      // TODO: Check if 'then' is necessary here\n      // this.setState({ showManageEmailGroupsModal: false });\n      this.loadData().then(r => this.setState({\n        showManageEmailGroupsModal: false\n      }));\n    });\n\n    _defineProperty(this, \"loadData\", async (searchText = '') => {\n      const {\n        httpClient\n      } = this.props;\n      this.setState({\n        isLoading: true\n      });\n      const emailGroups = await getEmailGroups(httpClient);\n      const emailGroupOptions = emailGroups.map(emailGroup => ({\n        label: emailGroup.name,\n        value: emailGroup.id,\n        type: RECIPIENT_TYPE.EMAIL_GROUP\n      }));\n      this.setState({\n        recipientOptions: emailGroupOptions,\n        isLoading: false\n      });\n    });\n\n    this.state = {\n      emailGroups: [],\n      // TODO: Possibly add emails here instead of ManageEmailGroups\n      recipientOptions: [],\n      isLoading: true,\n      showManageEmailGroupsModal: false\n    };\n    this.onClickManageEmailGroups = this.onClickManageEmailGroups.bind(this);\n    this.onClickCancel = this.onClickCancel.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadData();\n  }\n\n  onClickManageEmailGroups() {\n    this.setState({\n      showManageEmailGroupsModal: true\n    });\n  }\n\n  onClickCancel() {\n    this.setState({\n      showManageEmailGroupsModal: false\n    });\n  }\n\n  render() {\n    const {\n      httpClient,\n      type\n    } = this.props;\n    const {\n      recipientOptions,\n      isLoading,\n      showManageEmailGroupsModal\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      direction: \"row\",\n      gutterSize: \"s\",\n      alignItems: \"flexStart\",\n      style: {\n        paddingLeft: '10px'\n      }\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(FormikComboBox, {\n      name: `${type}.emailRecipients`,\n      formRow: true,\n      fieldProps: {\n        validate: validateEmailRecipients\n      },\n      rowProps: {\n        label: 'Recipients',\n        helpText: 'Add recipient(s) using an email address or a pre-created email group. ' + 'Use \"Manage email groups\" to create or remove email groups.',\n        isInvalid,\n        error: hasError\n      },\n      inputProps: {\n        placeholder: 'Email address, email group name',\n        async: true,\n        isLoading: isLoading,\n        options: recipientOptions,\n        onChange: (options, field, form) => {\n          form.setFieldValue(`${type}.emailRecipients`, options);\n        },\n        onBlur: (e, field, form) => {\n          form.setFieldTouched(`${type}.emailRecipients`, true);\n        },\n        onCreateOption: (value, field, form) => {\n          this.onCreateOption(`${type}.emailRecipients`, value, field.value, form.setFieldValue);\n        }\n      }\n    })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      style: {\n        marginTop: 22\n      },\n      onClick: this.onClickManageEmailGroups\n    }, \"Manage email groups\"))), /*#__PURE__*/React.createElement(ManageEmailGroups, {\n      httpClient: httpClient,\n      isVisible: showManageEmailGroupsModal,\n      onClickCancel: this.onClickCancel,\n      onClickSave: this.onClickSave\n    }));\n  }\n\n}\nEmailRecipients.propTypes = {\n  httpClient: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport EmailRecipients from './EmailRecipients';\nexport default EmailRecipients;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const RECIPIENT_TYPE = {\n  EMAIL: 'email',\n  EMAIL_GROUP: 'email_group'\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport default async function getEmailGroups(httpClient, searchText = '') {\n  try {\n    const response = await httpClient.get(`../api/alerting/destinations/email_groups?search=${searchText}&size=200`);\n\n    if (response.data.ok) {\n      return response.data.emailGroups;\n    } else {\n      console.log('Unable to get email groups', response.data.err);\n      return [];\n    }\n  } catch (err) {\n    console.log('Unable to get email groups', err);\n    return [];\n  }\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { RECIPIENT_TYPE } from './constants';\nimport { isValidEmail } from '../../../../components/createDestinations/Email/utils/validate';\nexport const validateEmailRecipients = options => {\n  if (_.isEmpty(options)) return 'Required';\n  let invalidEmails = [];\n\n  for (const option of options) {\n    if (option.type === RECIPIENT_TYPE.EMAIL && !isValidEmail(option.value)) {\n      invalidEmails.push(option.value);\n    }\n  }\n\n  if (invalidEmails.length > 0) return `Invalid emails: ${invalidEmails.join(', ')}`;\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFlexGroup, EuiFlexItem, EuiButton } from '@elastic/eui';\nimport { FormikComboBox } from '../../../../../components/FormControls';\nimport { validateEmailSender } from './utils/validate';\nimport { isInvalid, hasError } from '../../../../../utils/validate';\nimport ManageSenders from '../ManageSenders';\nimport getSenders from './utils/helpers';\nexport default class EmailSender extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onClickSave\", () => {\n      // TODO: Check if 'then' is necessary here\n      // this.setState({ showManageSendersModal: false })\n      this.loadSenders().then(r => this.setState({\n        showManageSendersModal: false\n      }));\n    });\n\n    _defineProperty(this, \"loadSenders\", async () => {\n      const {\n        httpClient\n      } = this.props;\n      this.setState({\n        loadingSenders: true\n      });\n      const senders = await getSenders(httpClient);\n      const senderOptions = senders.map(sender => ({\n        label: sender.name,\n        value: sender.id\n      }));\n      this.setState({\n        senderOptions,\n        loadingSenders: false\n      });\n    });\n\n    this.state = {\n      senderOptions: [],\n      loadingSenders: true,\n      showManageSendersModal: false\n    };\n    this.onClickManageSenders = this.onClickManageSenders.bind(this);\n    this.onClickCancel = this.onClickCancel.bind(this);\n    this.onClickSave = this.onClickSave.bind(this);\n  }\n\n  componentDidMount() {\n    this.loadSenders();\n  }\n\n  onClickManageSenders() {\n    this.setState({\n      showManageSendersModal: true\n    });\n  }\n\n  onClickCancel() {\n    this.setState({\n      showManageSendersModal: false\n    });\n  }\n\n  render() {\n    const {\n      httpClient,\n      type\n    } = this.props;\n    const {\n      senderOptions,\n      loadingSenders,\n      showManageSendersModal\n    } = this.state;\n    return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      direction: \"row\",\n      gutterSize: \"s\",\n      alignItems: \"flexStart\",\n      style: {\n        paddingLeft: '10px'\n      }\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(FormikComboBox, {\n      name: `${type}.emailSender`,\n      formRow: true,\n      fieldProps: {\n        validate: validateEmailSender(senderOptions)\n      },\n      rowProps: {\n        label: 'Sender',\n        helpText: 'A destination only allows one sender. ' + 'Use \"Manage senders\" to create a sender with its email address, host, port, etc.',\n        isInvalid,\n        error: hasError\n      },\n      inputProps: {\n        placeholder: 'Sender name',\n        async: true,\n        isLoading: loadingSenders,\n        options: senderOptions,\n        onChange: (options, field, form) => {\n          form.setFieldValue(`${type}.emailSender`, options);\n        },\n        onBlur: (e, field, form) => {\n          form.setFieldTouched(`${type}.emailSender`, true);\n        },\n        singleSelection: {\n          asPlainText: true\n        },\n        isClearable: false\n      }\n    })), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      style: {\n        marginTop: 22\n      },\n      onClick: this.onClickManageSenders\n    }, \"Manage senders\"))), /*#__PURE__*/React.createElement(ManageSenders, {\n      httpClient: httpClient,\n      isVisible: showManageSendersModal,\n      onClickCancel: this.onClickCancel,\n      onClickSave: this.onClickSave\n    }));\n  }\n\n}\nEmailSender.propTypes = {\n  httpClient: PropTypes.func.isRequired,\n  type: PropTypes.string.isRequired\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport EmailSender from './EmailSender';\nexport default EmailSender;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport default async function getSenders(httpClient, searchText = '') {\n  try {\n    const response = await httpClient.get(`../api/alerting/destinations/email_accounts?search=${searchText}&size=200`);\n\n    if (response.data.ok) {\n      return response.data.emailAccounts;\n    } else {\n      console.log('Unable to get email accounts', response.data.err);\n      return [];\n    }\n  } catch (err) {\n    console.log('Unable to get email accounts', err);\n    return [];\n  }\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nexport const validateEmailSender = senders => value => {\n  if (_.isEmpty(value)) return 'Required'; // In case existing sender (email account) doesn't exist in list, invalidate the field\n\n  const senderMatches = senders.filter(sender => sender.value === value[0].value);\n\n  if (senderMatches.length === 0) {\n    return 'Matching sender required';\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport { Formik, FieldArray } from 'formik';\nimport { EuiButton, EuiButtonEmpty, EuiFlexGroup, EuiFlexItem, EuiHorizontalRule, EuiModal, EuiModalHeader, EuiModalHeaderTitle, EuiModalBody, EuiModalFooter, EuiOverlayMask, EuiSpacer } from '@elastic/eui'; // import { toastNotifications } from 'ui/notify';\n\nimport PropTypes from 'prop-types';\nimport AddEmailGroupButton from '../../../components/createDestinations/AddEmailGroupButton/AddEmailGroupButton';\nimport EmailGroup from '../../../components/createDestinations/Email/EmailGroup';\nimport EmailGroupEmptyPrompt from '../../../components/createDestinations/EmailGroupEmptyPrompt';\nimport { emailGroupToFormik } from './utils/helpers';\nimport getEmailGroups from '../EmailRecipients/utils/helpers';\nimport { STATE } from '../../../components/createDestinations/Email/utils/constants';\nimport { ignoreEscape } from '../../../../../utils/helpers';\n\nconst createEmailGroupContext = emailGroups => ({\n  ctx: {\n    emailGroups\n  }\n});\n\nconst getInitialValues = emailGroups => _.isEmpty(emailGroups) ? {\n  emailGroups: []\n} : {\n  emailGroups: emailGroups.map(emailGroup => emailGroupToFormik(emailGroup))\n};\n\nconst getEmailOptions = emailGroups => {\n  if (_.isEmpty(emailGroups)) return []; // Get emails from email groups\n\n  const nestedEmails = emailGroups.map(emailGroup => emailGroup.emails);\n  const emailOptions = [].concat(...nestedEmails); // Extract the email if it's already wrapped in a label (custom option)\n  // so it can be filtered out\n\n  const emails = emailOptions.map(email => _.isString(email) ? email : email.label); // Return a unique list of emails as options\n\n  return [...new Set(emails)].map(email => ({\n    label: email\n  }));\n};\n\nexport default class ManageEmailGroups extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"loadInitialValues\", async () => {\n      const {\n        httpClient\n      } = this.props;\n      this.setState({\n        loadingEmailGroups: true\n      });\n      const emailGroups = await getEmailGroups(httpClient);\n      const initialValues = getInitialValues(emailGroups);\n      this.setState({\n        initialValues,\n        emailGroupsToDelete: [],\n        loadingEmailGroups: false\n      });\n    });\n\n    _defineProperty(this, \"createEmailGroup\", async emailGroup => {\n      const {\n        httpClient\n      } = this.props;\n      const body = {\n        name: emailGroup.name,\n        emails: emailGroup.emails.map(email => ({\n          email: email.label\n        }))\n      };\n\n      try {\n        const response = await httpClient.post(`../api/alerting/destinations/email_groups`, body);\n\n        if (!response.data.ok) {\n          this.setState({\n            failedEmailGroups: true\n          });\n          this.props.core.toastNotifications.addDanger({\n            title: `Failed to create email group: ${emailGroup.name}`,\n            text: `Reason: ${response.data.resp}`\n          });\n        }\n      } catch (err) {\n        console.error('Unable to create email group', err);\n        this.setState({\n          failedEmailGroups: true\n        });\n        this.props.core.toastNotifications.addDanger({\n          title: `Failed to create email group: ${emailGroup.name}`,\n          text: `Reason: ${err}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"updateEmailGroup\", async updatedEmailGroup => {\n      const {\n        httpClient\n      } = this.props;\n      const {\n        id,\n        ifSeqNo,\n        ifPrimaryTerm\n      } = updatedEmailGroup;\n      const body = {\n        name: updatedEmailGroup.name,\n        emails: updatedEmailGroup.emails.map(email => ({\n          email: email.label\n        }))\n      };\n\n      try {\n        const response = await httpClient.put(`../api/alerting/destinations/email_groups/${id}?ifSeqNo=${ifSeqNo}&ifPrimaryTerm=${ifPrimaryTerm}`, body);\n\n        if (!response.data.ok) {\n          this.setState({\n            failedEmailGroups: true\n          });\n          this.props.core.toastNotifications.addDanger({\n            title: `Failed to update email group: ${updatedEmailGroup.name}`,\n            text: `Reason: ${response.data.resp}`\n          });\n        }\n      } catch (err) {\n        console.error('Unable to update email group', err);\n        this.setState({\n          failedEmailGroups: true\n        });\n        this.props.core.toastNotifications.addDanger({\n          title: `Failed to update email group: ${updatedEmailGroup.name}`,\n          text: `Reason: ${err}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"deleteEmailGroup\", async emailGroup => {\n      const {\n        httpClient\n      } = this.props;\n      const {\n        id\n      } = emailGroup;\n\n      try {\n        const response = await httpClient.delete(`../api/alerting/destinations/email_groups/${id}`);\n\n        if (!response.data.ok) {\n          this.setState({\n            failedEmailGroups: true\n          });\n          this.props.core.toastNotifications.addDanger({\n            title: `Failed to delete email group: ${emailGroup.name}`,\n            text: `Reason: ${response.data.resp}`\n          });\n        }\n      } catch (err) {\n        console.err('Unable to delete email group', err);\n        this.setState({\n          failedEmailGroups: true\n        });\n        this.props.core.toastNotifications.addDanger({\n          title: `Failed to delete email group: ${emailGroup.name}`,\n          text: `Reason: ${err}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"processEmailGroups\", async values => {\n      const {\n        emailGroupsToDelete\n      } = this.state;\n      const {\n        emailGroups\n      } = values; // Create or update email groups\n\n      for (const emailGroup of emailGroups) {\n        if (emailGroup.state === STATE.CREATED) {\n          await this.createEmailGroup(emailGroup);\n        } else if (emailGroup.state === STATE.UPDATED) {\n          await this.updateEmailGroup(emailGroup);\n        }\n      } // Delete any removed email groups\n\n\n      for (const emailGroup of emailGroupsToDelete) {\n        await this.deleteEmailGroup(emailGroup);\n      } // If there were no failures, show a success toast\n\n\n      const {\n        failedEmailGroups\n      } = this.state;\n\n      if (!failedEmailGroups) {\n        toastNotifications.addSuccess('Successfully saved email groups');\n      }\n\n      this.setState({\n        failedEmailGroups: false\n      });\n    });\n\n    _defineProperty(this, \"renderEmailGroups\", ({\n      values,\n      arrayHelpers\n    }) => {\n      const hasEmailGroups = !_.isEmpty(values.emailGroups); // TODO: Change this to getEmailOptions from stored emailGroups state\n\n      const emailOptions = getEmailOptions(values.emailGroups);\n      return hasEmailGroups ? /*#__PURE__*/React.createElement(\"div\", null, values.emailGroups.map((emailGroup, index) => /*#__PURE__*/React.createElement(\"div\", {\n        key: index\n      }, /*#__PURE__*/React.createElement(EmailGroup, {\n        emailGroup: emailGroup,\n        emailOptions: emailOptions,\n        arrayHelpers: arrayHelpers,\n        context: createEmailGroupContext(values.emailGroups),\n        index: index,\n        onDelete: () => {\n          if (emailGroup.id) {\n            this.setState(prevState => ({\n              emailGroupsToDelete: [...prevState.emailGroupsToDelete, emailGroup]\n            }));\n          }\n\n          arrayHelpers.remove(index);\n        }\n      }), /*#__PURE__*/React.createElement(EuiSpacer, {\n        className: \"accordion-separator\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          justifyContent: 'left'\n        }\n      }, /*#__PURE__*/React.createElement(AddEmailGroupButton, {\n        arrayHelpers: arrayHelpers\n      }))) : /*#__PURE__*/React.createElement(EmailGroupEmptyPrompt, {\n        arrayHelpers: arrayHelpers\n      });\n    });\n\n    _defineProperty(this, \"hasEmailGroupsToProcess\", values => {\n      const {\n        emailGroupsToDelete\n      } = this.state;\n      return !_.isEmpty(values.emailGroups) || !_.isEmpty(emailGroupsToDelete);\n    });\n\n    this.state = {\n      emailGroupsToDelete: [],\n      loadingEmailGroups: true,\n      failedEmailGroups: false\n    };\n  }\n\n  componentDidMount() {\n    const {\n      isEmailAllowed\n    } = this.props; // Don't load initial values if Email is disallowed since the API will be blocked\n\n    if (isEmailAllowed) {\n      this.loadInitialValues();\n    }\n  } // Reload initial values when modal is no longer visible\n  // or when email availability is updated\n\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isVisible && !this.props.isVisible || prevProps.isEmailAllowed !== this.props.isEmailAllowed) {\n      this.loadInitialValues(this.props.emailGroups);\n    }\n  }\n\n  render() {\n    const {\n      isEmailAllowed,\n      isVisible,\n      onClickCancel,\n      onClickSave\n    } = this.props;\n    const {\n      initialValues,\n      loadingEmailGroups,\n      emailGroupsToDelete\n    } = this.state;\n    return isVisible ? /*#__PURE__*/React.createElement(Formik, {\n      initialValues: initialValues,\n      onSubmit: (values, formikBag) => {\n        this.processEmailGroups(values).then(() => onClickSave());\n      },\n      validateOnChange: false,\n      render: ({\n        values,\n        handleSubmit,\n        isSubmitting\n      }) => /*#__PURE__*/React.createElement(EuiOverlayMask, null, /*#__PURE__*/React.createElement(EuiModal, {\n        className: \"modal-manage-email\",\n        maxWidth: 1000,\n        onClose: ignoreEscape(onClickCancel)\n      }, /*#__PURE__*/React.createElement(EuiModalHeader, null, /*#__PURE__*/React.createElement(EuiModalHeaderTitle, null, \"Manage email groups\")), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n        margin: \"s\"\n      }), /*#__PURE__*/React.createElement(EuiModalBody, null, /*#__PURE__*/React.createElement(FieldArray, {\n        name: \"emailGroups\",\n        validateOnChange: true,\n        render: arrayHelpers => !isEmailAllowed || loadingEmailGroups ? /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center'\n          }\n        }, isEmailAllowed ? 'Loading Email Groups...' : 'Email is disallowed') : this.renderEmailGroups({\n          values,\n          arrayHelpers\n        })\n      })), this.hasEmailGroupsToProcess(values) ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n        margin: \"s\"\n      }), /*#__PURE__*/React.createElement(EuiModalFooter, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\",\n        justifyContent: \"flexEnd\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        onClick: onClickCancel\n      }, \"Cancel\")), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButton, {\n        onClick: handleSubmit,\n        isLoading: isSubmitting,\n        fill: true\n      }, \"Save\"))))) : null))\n    }) : null;\n  }\n\n}\nManageEmailGroups.propTypes = {\n  httpClient: PropTypes.func.isRequired,\n  isEmailAllowed: PropTypes.bool,\n  isVisible: PropTypes.bool,\n  onClickCancel: PropTypes.func,\n  onClickSave: PropTypes.func\n};\nManageEmailGroups.defaultProps = {\n  isEmailAllowed: false,\n  isVisible: false\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ManageEmailGroups from './ManageEmailGroups';\nexport default ManageEmailGroups;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { FORMIK_INITIAL_EMAIL_GROUP_VALUES, STATE } from '../../../../components/createDestinations/Email/utils/constants';\nexport function emailGroupToFormik(emailGroup) {\n  const {\n    id,\n    ifSeqNo,\n    ifPrimaryTerm,\n    name,\n    emails\n  } = emailGroup;\n  return { ..._.cloneDeep(FORMIK_INITIAL_EMAIL_GROUP_VALUES),\n    id,\n    ifSeqNo,\n    ifPrimaryTerm,\n    name,\n    emails: emails.map(e => ({\n      label: e.email\n    })),\n    state: STATE.NO_OP\n  };\n}","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport _ from 'lodash';\nimport { Formik, FieldArray } from 'formik';\nimport { EuiButton, EuiButtonEmpty, EuiFlexGroup, EuiFlexItem, EuiHorizontalRule, EuiModal, EuiModalHeader, EuiModalHeaderTitle, EuiModalBody, EuiModalFooter, EuiOverlayMask, EuiSpacer } from '@elastic/eui'; // import { toastNotifications } from 'ui/notify';\n\nimport PropTypes from 'prop-types';\nimport AddSenderButton from '../../../components/createDestinations/AddSenderButton/AddSenderButton';\nimport Sender from '../../../components/createDestinations/Email/Sender';\nimport SenderEmptyPrompt from '../../../components/createDestinations/SenderEmptyPrompt';\nimport { senderToFormik } from './utils/helpers';\nimport getSenders from '../EmailSender/utils/helpers';\nimport { STATE } from '../../../components/createDestinations/Email/utils/constants';\nimport { ignoreEscape } from '../../../../../utils/helpers';\n\nconst createSenderContext = senders => ({\n  ctx: {\n    senders\n  }\n});\n\nconst getInitialValues = senders => _.isEmpty(senders) ? {\n  senders: []\n} : {\n  senders: senders.map(sender => senderToFormik(sender))\n};\n\nexport default class ManageSenders extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"loadInitialValues\", async () => {\n      const {\n        httpClient\n      } = this.props;\n      this.setState({\n        loadingSenders: true\n      });\n      const senders = await getSenders(httpClient);\n      const initialValues = getInitialValues(senders);\n      this.setState({\n        initialValues,\n        sendersToDelete: [],\n        loadingSenders: false\n      });\n    });\n\n    _defineProperty(this, \"createSender\", async sender => {\n      const {\n        httpClient\n      } = this.props;\n      const body = {\n        name: sender.name,\n        email: sender.email,\n        host: sender.host,\n        port: sender.port,\n        method: sender.method\n      };\n\n      try {\n        const response = await httpClient.post(`../api/alerting/destinations/email_accounts`, body);\n\n        if (!response.data.ok) {\n          this.setState({\n            failedSenders: true\n          });\n          this.props.core.toastNotifications.addDanger({\n            title: `Failed to create sender: ${sender.name}`,\n            text: `Reason: ${response.data.resp}`\n          });\n        }\n      } catch (err) {\n        console.error('Unable to create sender', err);\n        this.setState({\n          failedSenders: true\n        });\n        this.props.core.toastNotifications.addDanger({\n          title: `Failed to create sender: ${sender.name}`,\n          text: `Reason: ${err}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"updateSender\", async updatedSender => {\n      const {\n        httpClient\n      } = this.props;\n      const {\n        id,\n        ifSeqNo,\n        ifPrimaryTerm\n      } = updatedSender;\n      const body = {\n        name: updatedSender.name,\n        email: updatedSender.email,\n        host: updatedSender.host,\n        port: updatedSender.port,\n        method: updatedSender.method\n      };\n\n      try {\n        const response = await httpClient.put(`../api/alerting/destinations/email_accounts/${id}?ifSeqNo=${ifSeqNo}&ifPrimaryTerm=${ifPrimaryTerm}`, body);\n\n        if (!response.data.ok) {\n          this.setState({\n            failedSenders: true\n          });\n          this.props.core.toastNotifications.addDanger({\n            title: `Failed to update sender: ${updatedSender.name}`,\n            text: `Reason: ${response.data.resp}`\n          });\n        }\n      } catch (err) {\n        console.error('Unable to update sender', err);\n        this.setState({\n          failedSenders: true\n        });\n        this.props.core.toastNotifications.addDanger({\n          title: `Failed to update sender: ${updatedSender.name}`,\n          text: `Reason: ${err}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"deleteSender\", async sender => {\n      const {\n        httpClient\n      } = this.props;\n      const {\n        id\n      } = sender;\n\n      try {\n        const response = await httpClient.delete(`../api/alerting/destinations/email_accounts/${id}`);\n\n        if (!response.data.ok) {\n          this.setState({\n            failedSenders: true\n          });\n          this.props.core.toastNotifications.addDanger({\n            title: `Failed to delete sender: ${sender.name}`,\n            text: `Reason: ${response.data.resp}`\n          });\n        }\n      } catch (err) {\n        console.error('Unable to delete sender', err);\n        this.setState({\n          failedSenders: true\n        });\n        this.props.core.toastNotifications.addDanger({\n          title: `Failed to delete sender: ${sender.name}`,\n          text: `Reason: ${err}`\n        });\n      }\n    });\n\n    _defineProperty(this, \"processSenders\", async values => {\n      const {\n        sendersToDelete\n      } = this.state;\n      const {\n        senders\n      } = values; // Create or update email senders\n\n      for (const sender of senders) {\n        if (sender.state === STATE.CREATED) {\n          await this.createSender(sender);\n        } else if (sender.state === STATE.UPDATED) {\n          await this.updateSender(sender);\n        }\n      } // Delete any removed email senders\n\n\n      for (const sender of sendersToDelete) {\n        await this.deleteSender(sender);\n      } // If there were no failures, show a success toast\n\n\n      const {\n        failedSenders\n      } = this.state;\n\n      if (!failedSenders) {\n        toastNotifications.addSuccess('Successfully saved senders');\n      }\n\n      this.setState({\n        failedSenders: false\n      });\n    });\n\n    _defineProperty(this, \"renderSenders\", ({\n      values,\n      arrayHelpers\n    }) => {\n      const hasSenders = !_.isEmpty(values.senders);\n      return hasSenders ? /*#__PURE__*/React.createElement(\"div\", null, values.senders.map((sender, index) => /*#__PURE__*/React.createElement(\"div\", {\n        key: index\n      }, /*#__PURE__*/React.createElement(Sender, {\n        sender: sender,\n        arrayHelpers: arrayHelpers,\n        context: createSenderContext(values.senders),\n        index: index,\n        onDelete: () => {\n          if (sender.id) {\n            this.setState(prevState => ({\n              sendersToDelete: [...prevState.sendersToDelete, sender]\n            }));\n          }\n\n          arrayHelpers.remove(index);\n        }\n      }), /*#__PURE__*/React.createElement(EuiSpacer, {\n        className: \"accordion-separator\"\n      }))), /*#__PURE__*/React.createElement(\"div\", {\n        style: {\n          justifyContent: 'left'\n        }\n      }, /*#__PURE__*/React.createElement(AddSenderButton, {\n        arrayHelpers: arrayHelpers\n      }))) : /*#__PURE__*/React.createElement(SenderEmptyPrompt, {\n        arrayHelpers: arrayHelpers\n      });\n    });\n\n    _defineProperty(this, \"hasSendersToProcess\", values => {\n      const {\n        sendersToDelete\n      } = this.state;\n      return !_.isEmpty(values.senders) || !_.isEmpty(sendersToDelete);\n    });\n\n    this.state = {\n      sendersToDelete: [],\n      loadingSenders: true,\n      failedSenders: false\n    };\n  }\n\n  componentDidMount() {\n    const {\n      isEmailAllowed\n    } = this.props; // Don't load initial values if Email is disallowed since the API will be blocked\n\n    if (isEmailAllowed) {\n      this.loadInitialValues();\n    }\n  } // Reload initial values when modal is no longer visible\n  // or when email availability is updated\n\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isVisible && !this.props.isVisible || prevProps.isEmailAllowed !== this.props.isEmailAllowed) {\n      this.loadInitialValues();\n    }\n  }\n\n  render() {\n    const {\n      isEmailAllowed,\n      isVisible,\n      onClickCancel,\n      onClickSave\n    } = this.props;\n    const {\n      initialValues,\n      loadingSenders\n    } = this.state;\n    return isVisible ? /*#__PURE__*/React.createElement(Formik, {\n      initialValues: initialValues,\n      onSubmit: (values, formikBag) => {\n        this.processSenders(values).then(() => onClickSave());\n      },\n      validateOnChange: false,\n      render: ({\n        values,\n        handleSubmit,\n        isSubmitting\n      }) => /*#__PURE__*/React.createElement(EuiOverlayMask, null, /*#__PURE__*/React.createElement(EuiModal, {\n        className: \"modal-manage-email\",\n        maxWidth: 1000,\n        onClose: ignoreEscape(onClickCancel)\n      }, /*#__PURE__*/React.createElement(EuiModalHeader, null, /*#__PURE__*/React.createElement(EuiModalHeaderTitle, null, \"Manage email senders\")), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n        margin: \"s\"\n      }), /*#__PURE__*/React.createElement(EuiModalBody, null, /*#__PURE__*/React.createElement(FieldArray, {\n        name: \"senders\",\n        validateOnChange: true,\n        render: arrayHelpers => !isEmailAllowed || loadingSenders ? /*#__PURE__*/React.createElement(\"div\", {\n          style: {\n            display: 'flex',\n            justifyContent: 'center'\n          }\n        }, isEmailAllowed ? 'Loading Senders...' : 'Email is disallowed') : this.renderSenders({\n          values,\n          arrayHelpers\n        })\n      })), this.hasSendersToProcess(values) ? /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n        margin: \"s\"\n      }), /*#__PURE__*/React.createElement(EuiModalFooter, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        alignItems: \"center\",\n        justifyContent: \"flexEnd\"\n      }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButtonEmpty, {\n        onClick: onClickCancel\n      }, \"Cancel\")), /*#__PURE__*/React.createElement(EuiFlexItem, {\n        grow: false\n      }, /*#__PURE__*/React.createElement(EuiButton, {\n        onClick: handleSubmit,\n        isLoading: isSubmitting,\n        fill: true\n      }, \"Save\"))))) : null))\n    }) : null;\n  }\n\n}\nManageSenders.propTypes = {\n  httpClient: PropTypes.func.isRequired,\n  isEmailAllowed: PropTypes.bool,\n  isVisible: PropTypes.bool,\n  onClickCancel: PropTypes.func,\n  onClickSave: PropTypes.func\n};\nManageSenders.defaultProps = {\n  isEmailAllowed: false,\n  isVisible: false\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport ManageSenders from './ManageSenders';\nexport default ManageSenders;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { FORMIK_INITIAL_SENDER_VALUES, STATE } from '../../../../components/createDestinations/Email/utils/constants';\nexport function senderToFormik(sender) {\n  return { ..._.cloneDeep(FORMIK_INITIAL_SENDER_VALUES),\n    ...sender,\n    state: STATE.NO_OP\n  };\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport CreateDestination from './CreateDestination';\nexport default CreateDestination;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { DESTINATION_TYPE } from '../../../utils/constants';\nexport const URL_TYPE = {\n  FULL_URL: 'url',\n  ATTRIBUTE_URL: 'custom_url'\n};\nexport const CONTENT_TYPE_KEY = 'Content-Type';\nconst DEFAULT_CONTENT_VALUE = 'application/json'; // TODO:: Change once we have complex forms for the URL like custom webhook\n\nexport const formikInitialValues = {\n  urlType: 'url',\n  name: '',\n  type: 'slack',\n  [DESTINATION_TYPE.SLACK]: {\n    url: ''\n  },\n  [DESTINATION_TYPE.CHIME]: {\n    url: ''\n  },\n  [DESTINATION_TYPE.CUSTOM_HOOK]: {\n    urlType: URL_TYPE.FULL_URL,\n    scheme: 'HTTPS',\n    headerParams: [{\n      key: CONTENT_TYPE_KEY,\n      value: DEFAULT_CONTENT_VALUE\n    }],\n    queryParams: [{\n      key: '',\n      value: ''\n    }]\n  },\n  [DESTINATION_TYPE.EMAIL]: {\n    emailSender: [],\n    emailRecipients: []\n  }\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { URL_TYPE, CONTENT_TYPE_KEY } from './constants';\nimport { DESTINATION_TYPE } from '../../../utils/constants';\nimport { RECIPIENT_TYPE } from '../EmailRecipients/utils/constants';\n\nconst getAttributeArrayFromValues = attributes => Object.keys(attributes).map(currentKey => ({\n  key: currentKey,\n  value: attributes[currentKey]\n}));\n\nconst customWebhookToFormik = ({\n  query_params: queryParams = {},\n  header_params: headerParams = {},\n  port,\n  url,\n  ...rest\n}) => {\n  const updatedValues = {};\n  const {\n    [CONTENT_TYPE_KEY]: contentType,\n    ...otherHeaders\n  } = headerParams;\n  updatedValues.headerParams = [{\n    key: CONTENT_TYPE_KEY,\n    value: contentType\n  }, ...getAttributeArrayFromValues(otherHeaders || {})];\n  updatedValues.queryParams = getAttributeArrayFromValues(queryParams);\n  updatedValues.port = port === -1 ? null : port;\n  updatedValues.urlType = _.isEmpty(url) ? URL_TYPE.ATTRIBUTE_URL : URL_TYPE.FULL_URL;\n  return { ...rest,\n    ...updatedValues,\n    url\n  };\n};\n\nconst getSender = async (httpClient, id) => {\n  try {\n    const response = await httpClient.get(`../api/alerting/destinations/email_accounts/${id}`);\n\n    if (response.data.ok) {\n      return response.data.resp;\n    }\n\n    return null;\n  } catch (err) {\n    console.log('Unable to get email account', err);\n    return null;\n  }\n};\n\nconst getEmailGroup = async (httpClient, id) => {\n  try {\n    const response = await httpClient.get(`../api/alerting/destinations/email_groups/${id}`);\n\n    if (response.data.ok) {\n      return response.data.resp;\n    }\n\n    return null;\n  } catch (err) {\n    console.log('Unable to get email group', err);\n    return null;\n  }\n};\n\nconst emailToFormik = async (httpClient, email) => {\n  const senderId = email.email_account_id;\n  const sender = await getSender(httpClient, senderId);\n  const senderValue = !sender ? [] : [{\n    label: sender.name,\n    value: senderId\n  }];\n  let recipientValues = [];\n\n  for (const recipient of email.recipients) {\n    if (recipient.type === RECIPIENT_TYPE.EMAIL) {\n      recipientValues.push({\n        label: recipient.email,\n        value: recipient.email,\n        type: RECIPIENT_TYPE.EMAIL\n      });\n    } else {\n      const emailGroup = await getEmailGroup(httpClient, recipient.email_group_id);\n\n      if (emailGroup) {\n        recipientValues.push({\n          label: emailGroup.name,\n          value: recipient.email_group_id,\n          type: RECIPIENT_TYPE.EMAIL_GROUP\n        });\n      }\n    }\n  }\n\n  return {\n    emailSender: senderValue,\n    emailRecipients: recipientValues\n  };\n};\n\nexport const destinationToFormik = async (httpClient, values) => {\n  const updatedValues = { ..._.omit(values, ['id', 'version', 'last_update_time'])\n  };\n\n  if (values.type === DESTINATION_TYPE.CUSTOM_HOOK) {\n    const customWebhookValues = customWebhookToFormik(updatedValues[values.type]);\n    updatedValues[values.type] = { ...customWebhookValues\n    };\n  } else if (values.type === DESTINATION_TYPE.EMAIL) {\n    const emailValues = await emailToFormik(httpClient, updatedValues[values.type]);\n    updatedValues[values.type] = { ...emailValues\n    };\n  }\n\n  return updatedValues;\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { DESTINATION_TYPE } from '../../../utils/constants';\nimport { RECIPIENT_TYPE } from '../EmailRecipients/utils/constants';\n\nconst getCustomWebhookValues = ({\n  queryParams,\n  headerParams,\n  urlType,\n  ...rest\n}) => {\n  const updatedHeaders = headerParams.reduce((acc, {\n    key,\n    value\n  }) => ({ ...acc,\n    [key]: value\n  }), {});\n  const updatedQueryParams = queryParams.reduce((acc, {\n    key,\n    value\n  }) => ({ ...acc,\n    [key]: value\n  }), {});\n  return { ...rest,\n    port: rest.port ? rest.port : -1,\n    header_params: updatedHeaders,\n    query_params: updatedQueryParams\n  };\n};\n\nconst getEmailValues = ({\n  emailSender,\n  emailRecipients\n}) => {\n  // Sender is required so there should always be one entry in the list\n  const emailAccountId = emailSender[0].value;\n  const recipients = emailRecipients.map(recipient => recipient.type === RECIPIENT_TYPE.EMAIL ? {\n    type: recipient.type,\n    email: recipient.value\n  } : {\n    type: recipient.type,\n    email_group_id: recipient.value\n  });\n  return {\n    email_account_id: emailAccountId,\n    recipients\n  };\n};\n\nexport const formikToDestination = values => {\n  const type = values.type;\n  const destinationValues = {\n    name: values.name,\n    type\n  };\n\n  switch (type) {\n    case DESTINATION_TYPE.CUSTOM_HOOK:\n      destinationValues[type] = getCustomWebhookValues(values[type]);\n      break;\n\n    case DESTINATION_TYPE.EMAIL:\n      destinationValues[type] = getEmailValues(values[type]);\n      break;\n\n    case DESTINATION_TYPE.SLACK:\n    case DESTINATION_TYPE.CHIME:\n      destinationValues[type] = values[type];\n      break;\n  }\n\n  return destinationValues;\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { INDEX } from '../../../../../../utils/constants';\nimport { getAllowList } from '../../../utils/helpers';\nexport const validateDestinationName = (httpClient, destinationToEdit) => async value => {\n  try {\n    if (!value) throw 'Required';\n    const options = {\n      index: INDEX.SCHEDULED_JOBS,\n      query: {\n        query: {\n          term: {\n            'destination.name.keyword': value\n          }\n        }\n      }\n    };\n    const response = await httpClient.post('../api/alerting/_search', options);\n\n    if (_.get(response, 'data.resp.hits.total.value', 0)) {\n      if (!destinationToEdit) throw 'Destination name is already used';\n\n      if (destinationToEdit && destinationToEdit.name !== value) {\n        throw 'Destination name is already used';\n      }\n    }\n  } catch (err) {\n    if (typeof err === 'string') throw err;\n    throw 'There was a problem validating destination name. Please try again.';\n  }\n};\nexport const validateDestinationType = httpClient => async value => {\n  // Check if Destination type is allowed to notify users in the cases\n  // where a Destination type has been disallowed during form editing\n  const allowList = await getAllowList(httpClient);\n\n  if (!allowList.includes(value)) {\n    return `Destination type [${value}] is disallowed`;\n  }\n};","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiBasicTable, EuiHorizontalRule, EuiCallOut } from '@elastic/eui';\nimport queryString from 'query-string';\nimport _ from 'lodash';\nimport ContentPanel from '../../../../components/ContentPanel';\nimport { EmptyDestinations, DestinationsActions, DestinationsControls, DeleteConfirmation } from '../../components/DestinationsList';\nimport { staticColumns, MAX_DESTINATIONS } from './utils/constants';\nimport { getURLQueryParams } from './utils/helpers';\nimport { isDeleteAllowedQuery } from './utils/deleteHelpers';\nimport { INDEX } from '../../../../../utils/constants';\nimport { DESTINATION_ACTIONS } from '../../../../utils/constants';\nimport ManageSenders from '../CreateDestination/ManageSenders';\nimport ManageEmailGroups from '../CreateDestination/ManageEmailGroups';\nimport { getAllowList } from '../../utils/helpers';\nimport { DESTINATION_TYPE } from '../../utils/constants';\n\nclass DestinationsList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"isEmailAllowed\", () => {\n      const {\n        allowList\n      } = this.state;\n      return allowList.includes(DESTINATION_TYPE.EMAIL);\n    });\n\n    _defineProperty(this, \"isDeleteAllowed\", async (type, id) => {\n      const {\n        httpClient\n      } = this.props;\n      const resp = await httpClient.post('../api/alerting/_search', {\n        query: isDeleteAllowedQuery(type, id),\n        index: INDEX.SCHEDULED_JOBS\n      });\n\n      const total = _.get(resp, 'data.resp.hits.total.value');\n\n      return total === 0;\n    });\n\n    _defineProperty(this, \"handleDeleteAction\", async destinationToDelete => {\n      const {\n        id,\n        type\n      } = destinationToDelete;\n      const allowDelete = await this.isDeleteAllowed(type, id);\n\n      if (allowDelete) {\n        this.setState({\n          showDeleteConfirmation: true,\n          destinationToDelete\n        });\n      } else {\n        this.setState({\n          destinationConsumedByOthers: true,\n          destinationToDelete\n        }); //dismiss callout after 30 Seconds\n\n        setTimeout(() => this.setState({\n          destinationConsumedByOthers: false,\n          destinationToDelete: null\n        }), 5000);\n      }\n    });\n\n    _defineProperty(this, \"handleDeleteDestination\", async () => {\n      const {\n        id: destinationId\n      } = this.state.destinationToDelete;\n      const {\n        httpClient\n      } = this.props;\n\n      try {\n        const resp = await httpClient.delete(`../api/alerting/destinations/${destinationId}`);\n\n        if (resp.data.ok) {\n          await this.getDestinations();\n        } else {\n          // TODO::handle error\n          //Something went wrong unable to delete if trying to delete already deleted destination\n          console.log('Unable to delete destination');\n        }\n\n        this.setState({\n          showDeleteConfirmation: false,\n          destinationToDelete: null\n        });\n      } catch (e) {\n        console.log('unable to delete destination', e);\n      }\n    });\n\n    _defineProperty(this, \"isEditEnabled\", destination => {\n      const {\n        allowList\n      } = this.state; // Prevent editing disallowed Destination types since dependent API (like in the case of Email)\n      // may be blocked in this case, not making it possible to load the Edit page\n\n      return allowList.includes(destination.type);\n    });\n\n    _defineProperty(this, \"handleEditDestination\", destinationToEdit => {\n      this.props.history.push({\n        pathname: `destinations/${destinationToEdit.id}`,\n        search: `?action=${DESTINATION_ACTIONS.UPDATE_DESTINATION}`,\n        state: {\n          destinationToEdit\n        }\n      });\n    });\n\n    _defineProperty(this, \"handleSearchChange\", e => {\n      const searchText = e.target.value;\n      this.setState(state => ({\n        page: 0,\n        queryParams: { ...state.queryParams,\n          search: searchText\n        }\n      }));\n    });\n\n    _defineProperty(this, \"handleTypeChange\", e => {\n      const type = e.target.value;\n      this.setState(state => {\n        return {\n          page: 0,\n          queryParams: { ...state.queryParams,\n            type\n          }\n        };\n      });\n    });\n\n    _defineProperty(this, \"getDestinations\", _.debounce(async (from, params) => {\n      this.setState({\n        isDestinationLoading: true\n      });\n      const {\n        history,\n        httpClient\n      } = this.props;\n      const queryParms = queryString.stringify({\n        from,\n        ...params\n      });\n      history.replace({ ...this.props.location,\n        search: queryParms\n      });\n\n      try {\n        const resp = await httpClient.get('../api/alerting/destinations', {\n          query: {\n            from,\n            ...params\n          }\n        });\n\n        if (resp.ok) {\n          this.setState({\n            isDestinationLoading: false,\n            destinations: resp.destinations,\n            totalDestinations: resp.totalDestinations\n          });\n        } else {\n          this.setState({\n            isDestinationLoading: false\n          });\n        }\n      } catch (err) {\n        console.error('Unable to get destinations', err);\n      }\n    }, 500, {\n      leading: true\n    }));\n\n    _defineProperty(this, \"handlePageChange\", ({\n      page: tablePage = {},\n      sort = {}\n    }) => {\n      const {\n        index: page,\n        size\n      } = tablePage;\n      const {\n        field: sortField,\n        direction: sortDirection\n      } = sort;\n      this.setState(state => ({\n        page,\n        queryParams: { ...state.queryParams,\n          size,\n          sortField,\n          sortDirection\n        }\n      }));\n    });\n\n    _defineProperty(this, \"handlePageClick\", page => {\n      this.setState({\n        page\n      });\n    });\n\n    _defineProperty(this, \"handleResetFilter\", () => {\n      this.setState(state => ({ ...state,\n        queryParams: { ...state.queryParams,\n          search: '',\n          type: 'ALL'\n        }\n      }));\n    });\n\n    _defineProperty(this, \"hideManageSendersModal\", () => {\n      this.setState({\n        showManageSenders: false\n      });\n    });\n\n    _defineProperty(this, \"hideManageEmailGroupsModal\", () => {\n      this.setState({\n        showManageEmailGroups: false\n      });\n    });\n\n    const {\n      from: _from,\n      size: _size,\n      search,\n      sortField: _sortField,\n      sortDirection: _sortDirection,\n      type: _type\n    } = getURLQueryParams(props.location);\n    this.state = {\n      showDeleteConfirmation: false,\n      isDestinationLoading: true,\n      destinations: [],\n      destinationToDelete: undefined,\n      totalDestinations: 0,\n      page: Math.floor(_from / _size),\n      queryParams: {\n        size: _size,\n        search,\n        sortField: _sortField,\n        sortDirection: _sortDirection,\n        type: _type\n      },\n      selectedItems: [],\n      allowList: [],\n      showManageSenders: false,\n      showManageEmailGroups: false\n    };\n    this.columns = [...staticColumns, {\n      name: 'Actions',\n      width: '35px',\n      actions: [{\n        name: 'Edit',\n        description: 'Edit this destination.',\n        enabled: this.isEditEnabled,\n        onClick: this.handleEditDestination\n      }, {\n        name: 'Delete',\n        description: 'Delete this destination.',\n        onClick: this.handleDeleteAction\n      }]\n    }];\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (!_.isEqual({\n      page: prevState.page,\n      ...prevState.queryParams\n    }, {\n      page: this.state.page,\n      ...this.state.queryParams\n    })) {\n      const {\n        page,\n        queryParams\n      } = this.state;\n      this.getDestinations(page * queryParams.size, queryParams);\n    }\n  }\n\n  async componentDidMount() {\n    const {\n      httpClient\n    } = this.props;\n    const allowList = await getAllowList(httpClient);\n    this.setState({\n      allowList\n    });\n    const {\n      page,\n      queryParams\n    } = this.state;\n    this.getDestinations(page * queryParams.size, queryParams);\n  }\n\n  render() {\n    const {\n      destinationToDelete,\n      page,\n      queryParams: {\n        size,\n        search,\n        type,\n        sortDirection,\n        sortField\n      },\n      totalDestinations,\n      isDestinationLoading,\n      destinationConsumedByOthers,\n      allowList\n    } = this.state;\n    const isFilterApplied = !!search || type !== 'ALL';\n    const pagination = {\n      pageIndex: page,\n      pageSize: size,\n      totalItemCount: Math.min(MAX_DESTINATIONS, totalDestinations),\n      pageSizeOptions: [5, 10, 20, 50]\n    };\n    const sorting = {\n      sort: {\n        direction: sortDirection,\n        field: sortField\n      }\n    };\n    return /*#__PURE__*/React.createElement(React.Fragment, null, destinationConsumedByOthers ? /*#__PURE__*/React.createElement(EuiCallOut, {\n      title: `Couldn't delete destination ${destinationToDelete.name}. One or more monitors uses this destination.`,\n      iconType: \"cross\",\n      color: \"danger\"\n    }) : null, /*#__PURE__*/React.createElement(ContentPanel, {\n      bodyStyles: {\n        padding: 'initial'\n      },\n      title: \"Destinations\",\n      actions: /*#__PURE__*/React.createElement(DestinationsActions, {\n        isEmailAllowed: this.isEmailAllowed(),\n        onClickManageSenders: () => {\n          this.setState({\n            showManageSenders: true\n          });\n        },\n        onClickManageEmailGroups: () => {\n          this.setState({\n            showManageEmailGroups: true\n          });\n        }\n      })\n    }, /*#__PURE__*/React.createElement(DeleteConfirmation, {\n      isVisible: this.state.showDeleteConfirmation,\n      onCancel: () => {\n        this.setState({\n          showDeleteConfirmation: false\n        });\n      },\n      onConfirm: this.handleDeleteDestination\n    }), /*#__PURE__*/React.createElement(ManageSenders, {\n      httpClient: this.props.httpClient,\n      isEmailAllowed: this.isEmailAllowed(),\n      isVisible: this.state.showManageSenders,\n      onClickCancel: this.hideManageSendersModal,\n      onClickSave: this.hideManageSendersModal\n    }), /*#__PURE__*/React.createElement(ManageEmailGroups, {\n      httpClient: this.props.httpClient,\n      isEmailAllowed: this.isEmailAllowed(),\n      isVisible: this.state.showManageEmailGroups,\n      onClickCancel: this.hideManageEmailGroupsModal,\n      onClickSave: this.hideManageEmailGroupsModal\n    }), /*#__PURE__*/React.createElement(DestinationsControls, {\n      activePage: page,\n      pageCount: Math.ceil(totalDestinations / size) || 1,\n      search: search,\n      type: type,\n      onSearchChange: this.handleSearchChange,\n      onTypeChange: this.handleTypeChange,\n      onPageClick: this.handlePageClick,\n      allowList: allowList\n    }), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n      margin: \"xs\"\n    }), /*#__PURE__*/React.createElement(EuiBasicTable, {\n      columns: this.columns,\n      hasActions: true,\n      isSelectable: true,\n      items: this.state.destinations,\n      pagination: pagination,\n      noItemsMessage: isDestinationLoading ? 'Loading destinations...' : /*#__PURE__*/React.createElement(EmptyDestinations, {\n        isFilterApplied: isFilterApplied,\n        onResetFilters: this.handleResetFilter\n      }),\n      onChange: this.handlePageChange,\n      sorting: sorting\n    })));\n  }\n\n}\n\nDestinationsList.propTypes = {\n  httpClient: PropTypes.func.isRequired,\n  history: PropTypes.object.isRequired\n};\nexport default DestinationsList;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport DestinationsList from './DestinationsList';\nexport default DestinationsList;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { DESTINATION_OPTIONS } from '../../../utils/constants';\nexport const DEFAULT_QUERY_PARAMS = {\n  from: 0,\n  search: '',\n  size: 20,\n  sortDirection: 'desc',\n  sortField: 'name',\n  type: 'ALL'\n};\nexport const MAX_DESTINATIONS = 200;\nexport const staticColumns = [{\n  field: 'name',\n  name: 'Destination name',\n  sortable: true,\n  truncateText: true,\n  textOnly: true,\n  width: '100px'\n}, {\n  field: 'type',\n  name: 'Destination type',\n  truncateText: true,\n  sortable: true,\n  textOnly: true,\n  width: '100px',\n  render: value => {\n    //TODO:: Convert this to proper map of text to avoid filters always\n    const actionType = DESTINATION_OPTIONS.filter(item => item.value === value);\n\n    if (actionType.length > 0) {\n      return actionType[0].text;\n    } else {\n      return 'Unsupported Type';\n    }\n  }\n}];","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const isDeleteAllowedQuery = (type, id) => ({\n  size: 0,\n  query: {\n    nested: {\n      path: `monitor.triggers.actions`,\n      query: {\n        bool: {\n          filter: {\n            term: {\n              [`monitor.triggers.actions.destination_id`]: id\n            }\n          }\n        }\n      }\n    }\n  }\n});","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport queryString from 'query-string';\nimport { DEFAULT_QUERY_PARAMS } from './constants';\nexport const getURLQueryParams = location => {\n  const {\n    from = DEFAULT_QUERY_PARAMS.from,\n    size = DEFAULT_QUERY_PARAMS.size,\n    search = DEFAULT_QUERY_PARAMS.search,\n    sortField = DEFAULT_QUERY_PARAMS.sortField,\n    sortDirection = DEFAULT_QUERY_PARAMS.sortDirection,\n    type = DEFAULT_QUERY_PARAMS.type\n  } = queryString.parse(location.search);\n  return {\n    from: isNaN(parseInt(from, 10)) ? DEFAULT_QUERY_PARAMS.from : parseInt(from, 10),\n    size: isNaN(parseInt(size, 10)) ? DEFAULT_QUERY_PARAMS.size : parseInt(size, 10),\n    search,\n    sortField,\n    sortDirection,\n    type\n  };\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const DESTINATION_TYPE = {\n  CHIME: 'chime',\n  SLACK: 'slack',\n  CUSTOM_HOOK: 'custom_webhook',\n  EMAIL: 'email'\n};\nexport const DESTINATION_OPTIONS = [{\n  value: DESTINATION_TYPE.CHIME,\n  text: 'Amazon Chime'\n}, {\n  value: DESTINATION_TYPE.SLACK,\n  text: 'Slack'\n}, {\n  value: DESTINATION_TYPE.CUSTOM_HOOK,\n  text: 'Custom webhook'\n}, {\n  value: DESTINATION_TYPE.EMAIL,\n  text: 'Email'\n}];\nexport const ALLOW_LIST_SETTING_PATH = 'opendistro.alerting.destination.allow_list';","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { ALLOW_LIST_SETTING_PATH } from './constants';\nexport async function getAllowList(httpClient) {\n  try {\n    const response = await httpClient.get('../api/alerting/_settings');\n\n    if (response.data.ok) {\n      // Attempt to resolve the value of allow_list in the order of 'persistent, 'transient' and 'defaults' settings\n      const {\n        defaults,\n        transient,\n        persistent\n      } = response.data.resp;\n\n      const defaultList = _.get(defaults, `${ALLOW_LIST_SETTING_PATH}`, []);\n\n      const transientList = _.get(transient, `${ALLOW_LIST_SETTING_PATH}`, null);\n\n      const persistentList = _.get(persistent, `${ALLOW_LIST_SETTING_PATH}`, null);\n\n      return persistentList || transientList || defaultList;\n    } else {\n      console.log('Unable to get destination allow_list', response.data.resp);\n      return [];\n    }\n  } catch (err) {\n    console.log('Unable to get destination allow_list', err);\n    return [];\n  }\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { Redirect, Route, Switch } from 'react-router-dom';\nimport { EuiTab, EuiTabs } from '@elastic/eui';\nimport Dashboard from '../Dashboard/containers/Dashboard';\nimport Monitors from '../Monitors/containers/Monitors';\nimport DestinationsList from '../Destinations/containers/DestinationsList';\n\nconst getSelectedTabId = pathname => {\n  if (pathname.includes('monitors')) return 'monitors';\n  if (pathname.includes('destinations')) return 'destinations';\n  return 'dashboard';\n};\n\nexport default class Home extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onSelectedTabChanged\", route => {\n      const {\n        location: {\n          pathname: currPathname\n        }\n      } = this.props;\n\n      if (!currPathname.includes(route)) {\n        this.props.history.push(route);\n      }\n    });\n\n    _defineProperty(this, \"renderTab\", tab => /*#__PURE__*/React.createElement(EuiTab, {\n      onClick: () => this.onSelectedTabChanged(tab.route),\n      isSelected: tab.id === this.state.selectedTabId,\n      key: tab.id\n    }, tab.name));\n\n    const {\n      location: {\n        pathname\n      }\n    } = this.props;\n    const selectedTabId = getSelectedTabId(pathname);\n    this.state = {\n      selectedTabId\n    };\n    this.tabs = [{\n      id: 'dashboard',\n      name: 'Dashboard',\n      route: 'dashboard'\n    }, {\n      id: 'monitors',\n      name: 'Monitors',\n      route: 'monitors'\n    }, {\n      id: 'destinations',\n      name: 'Destinations',\n      route: 'destinations'\n    }];\n  }\n\n  componentDidUpdate(prevProps) {\n    const {\n      location: {\n        pathname: prevPathname\n      }\n    } = prevProps;\n    const {\n      location: {\n        pathname: currPathname\n      }\n    } = this.props;\n\n    if (prevPathname !== currPathname) {\n      const selectedTabId = getSelectedTabId(currPathname); // eslint-disable-next-line react/no-did-update-set-state\n\n      this.setState({\n        selectedTabId\n      });\n    }\n  }\n\n  render() {\n    const {\n      httpClient\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", null, /*#__PURE__*/React.createElement(EuiTabs, null, this.tabs.map(this.renderTab)), /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '25px 25px'\n      }\n    }, /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/dashboard\",\n      render: props => /*#__PURE__*/React.createElement(Dashboard, _extends({}, props, {\n        httpClient: httpClient\n      }))\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/monitors\",\n      render: props => /*#__PURE__*/React.createElement(Monitors, _extends({}, props, {\n        httpClient: httpClient\n      }))\n    }), /*#__PURE__*/React.createElement(Route, {\n      exact: true,\n      path: \"/destinations\",\n      render: props => /*#__PURE__*/React.createElement(DestinationsList, _extends({}, props, {\n        httpClient: httpClient\n      }))\n    }), /*#__PURE__*/React.createElement(Redirect, {\n      to: \"/dashboard\"\n    }))));\n  }\n\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Home from './Home';\nexport default Home;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport { CoreServicesConsumer } from '../../utils/CoreServicesContext';\nimport Home from '../Home';\nimport Breadcrumbs from '../../components/Breadcrumbs';\nimport CreateMonitor from '../CreateMonitor';\nimport MonitorDetails from '../MonitorDetails/containers/MonitorDetails';\nimport CreateDestination from '../Destinations/containers/CreateDestination';\nimport Flyout from '../../components/Flyout';\nimport { APP_PATH } from '../../utils/constants';\n\nclass Main extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      flyout: null\n    });\n\n    _defineProperty(this, \"setFlyout\", flyout => {\n      const {\n        flyout: currentFlyout\n      } = this.state; // If current flyout and new flyout are same type, set to null to mimic closing flyout when clicking on same button\n\n      if (currentFlyout && flyout && currentFlyout.type === flyout.type) {\n        this.setState({\n          flyout: null\n        });\n      } else {\n        this.setState({\n          flyout\n        });\n      }\n    });\n  }\n\n  render() {\n    const {\n      flyout\n    } = this.state;\n    const {\n      httpClient,\n      history,\n      ...rest\n    } = this.props;\n    return /*#__PURE__*/React.createElement(CoreServicesConsumer, null, core => core && /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '15px 0px'\n      }\n    }, /*#__PURE__*/React.createElement(Breadcrumbs, _extends({\n      history: history,\n      httpClient: httpClient\n    }, rest)), /*#__PURE__*/React.createElement(Flyout, {\n      flyout: flyout,\n      onClose: () => {\n        this.setFlyout(null);\n      }\n    }), /*#__PURE__*/React.createElement(Switch, null, /*#__PURE__*/React.createElement(Route, {\n      path: APP_PATH.CREATE_MONITOR,\n      render: props => /*#__PURE__*/React.createElement(CreateMonitor, _extends({\n        httpClient: httpClient,\n        setFlyout: this.setFlyout,\n        core: core\n      }, props))\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: APP_PATH.CREATE_DESTINATION,\n      render: props => /*#__PURE__*/React.createElement(CreateDestination, _extends({\n        httpClient: httpClient,\n        setFlyout: this.setFlyout,\n        core: core\n      }, props))\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/destinations/:destinationId\",\n      render: props => /*#__PURE__*/React.createElement(CreateDestination, _extends({\n        httpClient: httpClient,\n        setFlyout: this.setFlyout,\n        core: core\n      }, props, {\n        edit: true\n      }))\n    }), /*#__PURE__*/React.createElement(Route, {\n      path: \"/monitors/:monitorId\",\n      render: props => /*#__PURE__*/React.createElement(MonitorDetails, _extends({\n        httpClient: httpClient,\n        setFlyout: this.setFlyout,\n        core: core\n      }, props))\n    }), /*#__PURE__*/React.createElement(Route, {\n      render: props => /*#__PURE__*/React.createElement(Home, _extends({\n        httpClient: httpClient\n      }, props, {\n        setFlyout: this.setFlyout,\n        core: core\n      }))\n    }))));\n  }\n\n}\n\nexport default Main;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Main from './Main';\nexport default Main;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiButton, EuiEmptyPrompt, EuiText } from '@elastic/eui';\n\nconst EmptyHistory = ({\n  onShowTrigger\n}) => /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiText, null, /*#__PURE__*/React.createElement(\"p\", null, \"There are no Triggers. Create a trigger to start alerting. Once a alarm is triggered, the state will be displayed in time series.\")),\n  actions: /*#__PURE__*/React.createElement(EuiButton, {\n    fill: true,\n    onClick: onShowTrigger\n  }, \"Create trigger\")\n});\n\nEmptyHistory.propTypes = {\n  onShowTrigger: PropTypes.func.isRequired\n};\nexport default EmptyHistory;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiFlexGroup, EuiFlexItem, EuiText } from '@elastic/eui';\nimport { ALERT_TIMELINE_COLORS_MAP } from '../../../containers/MonitorHistory/utils/constants';\nconst timeSeriesLegend = [{\n  title: 'Triggered',\n  color: ALERT_TIMELINE_COLORS_MAP.TRIGGERED\n}, {\n  title: 'Error',\n  color: ALERT_TIMELINE_COLORS_MAP.ERROR\n}, {\n  title: 'Acknowledge',\n  color: ALERT_TIMELINE_COLORS_MAP.ACKNOWLEDGED\n}, {\n  title: 'No alerts',\n  color: ALERT_TIMELINE_COLORS_MAP.NO_ALERTS\n}];\n\nconst Legend = () => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  style: {\n    marginLeft: '20px'\n  },\n  alignItems: \"center\"\n}, timeSeriesLegend.map(legendItem => /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false,\n  key: legendItem.title\n}, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  gutterSize: \"xs\",\n  style: {\n    height: '30px'\n  },\n  alignItems: \"center\"\n}, /*#__PURE__*/React.createElement(EuiFlexItem, {\n  style: {\n    height: '30px'\n  }\n}, /*#__PURE__*/React.createElement(\"div\", {\n  style: {\n    height: '100%',\n    width: '15px',\n    backgroundColor: legendItem.color\n  }\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false\n}, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\"\n}, legendItem.title))))));\n\nexport default Legend;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFlexGroup } from '@elastic/eui';\nimport { YAxis, XAxis, AreaSeries, FlexibleWidthXYPlot } from 'react-vis';\nimport Highlight from '../../../../../components/Charts/Highlight/Highlight';\n\nconst POIChart = ({\n  data,\n  onDragStart,\n  onDragEnd,\n  xDomain,\n  yDomain,\n  highlightedArea,\n  isLoading,\n  isDarkMode\n}) => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  style: {\n    paddingLeft: '10%'\n  },\n  justifyContent: \"center\",\n  gutterSize: \"none\",\n  alignItems: \"center\"\n}, /*#__PURE__*/React.createElement(FlexibleWidthXYPlot, {\n  height: 90,\n  margin: {\n    left: 25,\n    right: 20\n  },\n  xType: \"time\",\n  xDomain: xDomain,\n  yDomain: yDomain,\n  dontCheckIfEmpty: true\n}, /*#__PURE__*/React.createElement(AreaSeries, {\n  color: \"darkgray\",\n  data: data,\n  curve: 'curveStep'\n}), /*#__PURE__*/React.createElement(XAxis, {\n  left: 20\n}), /*#__PURE__*/React.createElement(YAxis, {\n  tickValues: yDomain\n}), /*#__PURE__*/React.createElement(Highlight, {\n  drag: !isLoading,\n  color: isDarkMode ? 'black' : 'white',\n  opacity: 0.3,\n  enableY: false,\n  highlightHeight: 50,\n  isDarkMode: isDarkMode,\n  onDragStart: onDragStart,\n  onDragEnd: onDragEnd,\n  highlightedArea: {\n    left: highlightedArea.startTime,\n    right: highlightedArea.endTime\n  }\n})));\n\nPOIChart.propTypes = {\n  highlightedArea: PropTypes.object.isRequired,\n  data: PropTypes.array.isRequired,\n  onDragStart: PropTypes.func.isRequired,\n  onDragEnd: PropTypes.func.isRequired,\n  isLoading: PropTypes.bool.isRequired,\n  xDomain: PropTypes.array.isRequired,\n  yDomain: PropTypes.array.isRequired,\n  isDarkMode: PropTypes.bool.isRequired\n};\nexport default POIChart;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiHorizontalRule, EuiFlexGroup, EuiFlexItem, EuiText } from '@elastic/eui';\nimport { FlexibleWidthXYPlot, Hint, HorizontalBarSeries, XAxis } from 'react-vis';\nimport { ALERT_TIMELINE_COLORS_MAP, TIME_SERIES_ALERT_STATE } from '../../../containers/MonitorHistory/utils/constants';\nimport { formatTooltip } from './utils/helpers';\nimport DelayedLoader from '../../../../../components/DelayedLoader';\n\nclass TriggersTimeSeries extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"handleValueMouseInOut\", (triggerId, dataPoint) => {\n      this.setState({\n        hints: {\n          [triggerId]: dataPoint\n        }\n      });\n    });\n\n    this.state = {\n      hints: {}\n    };\n  }\n\n  get xDomain() {\n    const {\n      domainBounds = {}\n    } = this.props;\n    return [domainBounds.startTime, domainBounds.endTime];\n  }\n\n  render() {\n    const {\n      triggersData,\n      isLoading,\n      triggers\n    } = this.props;\n    const {\n      hints\n    } = this.state;\n    return /*#__PURE__*/React.createElement(DelayedLoader, {\n      isLoading: isLoading\n    }, showLoader => /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        minHeight: triggers.length * 40,\n        opacity: showLoader ? '0.2' : '1'\n      }\n    }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      direction: \"column\",\n      gutterSize: \"none\"\n    }, triggers.map(currentTrigger => /*#__PURE__*/React.createElement(EuiFlexItem, {\n      key: currentTrigger.name\n    }, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      justifyContent: \"center\",\n      gutterSize: \"none\",\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      style: {\n        alignItems: 'center',\n        maxWidth: '10%',\n        padding: '0 10px',\n        wordBreak: 'break-all'\n      }\n    }, /*#__PURE__*/React.createElement(EuiText, {\n      size: \"s\",\n      grow: false,\n      textAlign: \"center\"\n    }, currentTrigger.name)), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      style: {\n        width: '90%'\n      }\n    }, triggersData[currentTrigger.id] && /*#__PURE__*/React.createElement(FlexibleWidthXYPlot, {\n      height: 30,\n      margin: {\n        left: 0,\n        top: 25\n      },\n      xDomain: this.xDomain,\n      xType: \"time\",\n      yType: \"ordinal\",\n      getColor: dataPoint => ALERT_TIMELINE_COLORS_MAP[dataPoint.meta.state === TIME_SERIES_ALERT_STATE.ERROR ? TIME_SERIES_ALERT_STATE.ERROR : dataPoint.state],\n      getY: () => 0\n    }, /*#__PURE__*/React.createElement(HorizontalBarSeries, {\n      data: triggersData[currentTrigger.id],\n      colorType: \"literal\",\n      onValueMouseOut: () => this.handleValueMouseInOut(currentTrigger.name),\n      onValueMouseOver: dataPoint => this.handleValueMouseInOut(currentTrigger.name, dataPoint)\n    }), !showLoader && hints[currentTrigger.name] ? /*#__PURE__*/React.createElement(Hint, {\n      align: {\n        vertical: 'top',\n        horizontal: 'auto'\n      },\n      value: hints[currentTrigger.name],\n      format: formatTooltip,\n      style: {\n        title: {\n          fontWeight: 'bold'\n        }\n      }\n    }) : null))), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n      margin: \"xs\"\n    }))), /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      alignItems: \"center\",\n      style: {\n        paddingLeft: '10%'\n      }\n    }, /*#__PURE__*/React.createElement(FlexibleWidthXYPlot, {\n      margin: {\n        left: 25,\n        right: 25\n      },\n      xDomain: this.xDomain,\n      height: 35,\n      xType: \"time\",\n      dontCheckIfEmpty: true\n    }, /*#__PURE__*/React.createElement(XAxis, {\n      hideLine: true,\n      tickTotal: 14\n    }))))), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n      margin: \"xs\"\n    })));\n  }\n\n}\n\nTriggersTimeSeries.propTypes = {\n  triggersData: PropTypes.shape({\n    [PropTypes.string]: PropTypes.arrayOf(PropTypes.shape({\n      x0: PropTypes.number.isRequired,\n      x: PropTypes.number.isRequired\n    }))\n  }).isRequired,\n  domainBounds: PropTypes.object.isRequired\n};\nexport default TriggersTimeSeries;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport moment from 'moment';\nimport { TIME_SERIES_ALERT_STATE } from '../../../../containers/MonitorHistory/utils/constants'; //TODO:: Confirm text with PM / UX\n\nexport const formatTooltip = ({\n  meta = {},\n  state: dataPointState\n}) => {\n  const formatHintDisplayDate = date => moment(date).format('MMM Do YYYY, h:mm A');\n\n  if (dataPointState == TIME_SERIES_ALERT_STATE.NO_ALERTS) {\n    return meta.startTime && meta.endTime ? [{\n      title: 'No Alerts',\n      value: `Between ${formatHintDisplayDate(meta.startTime)} and ${formatHintDisplayDate(meta.endTime)}`\n    }] : [];\n  } else {\n    const alertsToolTip = [];\n    alertsToolTip.push({\n      title: 'Alert Started at',\n      value: formatHintDisplayDate(meta.startTime)\n    });\n\n    if (meta.acknowledgedTime) {\n      alertsToolTip.push({\n        title: 'Alert Acknowledged at',\n        value: formatHintDisplayDate(meta.acknowledgedTime)\n      });\n    }\n\n    if (meta.endTime) {\n      alertsToolTip.push({\n        title: 'Alert Ended at',\n        value: formatHintDisplayDate(meta.endTime)\n      });\n    }\n\n    alertsToolTip.push({\n      title: 'State',\n      value: meta.state\n    });\n\n    if (meta.errorsCount) {\n      alertsToolTip.push({\n        title: 'Errors',\n        value: meta.errorsCount\n      });\n    }\n\n    return alertsToolTip;\n  }\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport { default as TriggersTimeSeries } from './TriggersTimeSeries/TriggersTimeSeries';\nexport { default as POIChart } from './POIChart/POIChart';\nexport { default as Legend } from './Legend/Legend';\nexport { default as EmptyHistory } from './EmptyHistory/EmptyHistory';","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiFlexGrid } from '@elastic/eui';\nimport ContentPanel from '../../../../components/ContentPanel/index';\nimport OverviewStat from '../OverviewStat/index';\nimport getOverviewStats from './utils/getOverviewStats';\n\nconst MonitorOverview = ({\n  monitor,\n  monitorId,\n  monitorVersion,\n  activeCount\n}) => {\n  const items = getOverviewStats(monitor, monitorId, monitorVersion, activeCount);\n  return /*#__PURE__*/React.createElement(ContentPanel, {\n    title: \"Overview\",\n    titleSize: \"s\"\n  }, /*#__PURE__*/React.createElement(EuiFlexGrid, {\n    columns: 4\n  }, items.map(props => /*#__PURE__*/React.createElement(OverviewStat, _extends({\n    key: props.header\n  }, props)))));\n};\n\nexport default MonitorOverview;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorOverview from './MonitorOverview';\nexport default MonitorOverview;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const weekdays = [{\n  abbr: 'mon',\n  full: 'Monday'\n}, {\n  abbr: 'tue',\n  full: 'Tuesday'\n}, {\n  abbr: 'wed',\n  full: 'Wednesday'\n}, {\n  abbr: 'thu',\n  full: 'Thursday'\n}, {\n  abbr: 'fri',\n  full: 'Friday'\n}, {\n  abbr: 'sat',\n  full: 'Saturday'\n}, {\n  abbr: 'sun',\n  full: 'Sunday'\n}];","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport moment from 'moment-timezone';\nimport getScheduleFromMonitor from './getScheduleFromMonitor';\nimport { DEFAULT_EMPTY_DATA, SEARCH_TYPE } from '../../../../../utils/constants'; // TODO: used in multiple places, move into helper\n\nfunction getTime(time) {\n  // TODO: Use Kibanas saved timezone (if there is one, if not THEN default to using browser)\n  const momentTime = moment.tz(time, moment.tz.guess());\n  if (time && momentTime.isValid()) return momentTime.format('MM/DD/YY h:mm a z');\n  return DEFAULT_EMPTY_DATA;\n}\n\nexport default function getOverviewStats(monitor, monitorId, monitorVersion, activeCount) {\n  const searchType = _.get(monitor, 'ui_metadata.search.searchType', 'query');\n\n  return [{\n    header: 'State',\n    value: monitor.enabled ? 'Enabled' : 'Disabled'\n  }, {\n    header: 'Monitor definition type',\n    value: searchType === SEARCH_TYPE.QUERY ? 'Extraction Query' : 'Visual graph'\n  }, {\n    header: 'Total active alerts',\n    value: activeCount\n  }, {\n    header: 'Schedule',\n    value: getScheduleFromMonitor(monitor)\n  }, {\n    header: 'Last updated',\n    value: getTime(monitor.last_update_time)\n  }, {\n    header: 'Monitor ID',\n    value: monitorId\n  }, {\n    header: 'Monitor version number',\n    value: monitorVersion\n  }, {\n    /* There are 3 cases:\n    1. Monitors created by older versions and never updated.\n       These monitors wont have User details in the monitor object. `monitor.user` will be null.\n    2. Monitors are created when security plugin is disabled, these will have empty User object.\n       (`monitor.user.name`, `monitor.user.roles` are empty )\n    3. Monitors are created when security plugin is enabled, these will have an User object. */\n    header: 'Last updated by',\n    value: monitor.user && monitor.user.name ? monitor.user.name : 'N/A'\n  }];\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport moment from 'moment-timezone';\nimport { weekdays } from './constants';\nimport { DEFAULT_EMPTY_DATA } from '../../../../../utils/constants';\nexport default function getScheduleFromMonitor(monitor) {\n  /*\n    This is solving for these cases:\n    If there is metadata, show human friendly meta data\n    If there is no metadata, then monitor was created through API or API updated a UI Monitor which blew away metadata\n    So show period or cron in schedule (whichever exists)\n  */\n  try {\n    const uiMetadata = _.get(monitor, 'ui_metadata');\n\n    if (uiMetadata) {\n      const {\n        frequency,\n        period: {\n          interval,\n          unit\n        },\n        daily,\n        weekly,\n        monthly: {\n          day\n        },\n        cronExpression,\n        timezone\n      } = _.get(uiMetadata, 'schedule', {});\n\n      if (frequency === 'interval') {\n        return `Every ${interval} ${unit.toLowerCase()}`;\n      }\n\n      if (frequency === 'daily') {\n        return `Every day around ${moment.tz(timezone).hours(daily).minutes(0).format('h:mm a z')}`;\n      }\n\n      if (frequency === 'weekly') {\n        const daysOfWeek = Object.entries(weekly).filter(([day, checked]) => checked).map(([day]) => day);\n\n        const fullDays = _.intersectionWith(weekdays, daysOfWeek, (arrVal, otherVal) => arrVal.abbr === otherVal).map(weekday => weekday.full).join(', ');\n\n        return `Every ${fullDays} around ${moment.tz(timezone).hours(daily).minutes(0).format('h:mm a z')}`;\n      }\n\n      if (frequency === 'monthly') {\n        return `Every month on the ${moment(day, 'DD').format('Do')} around ${moment.tz(timezone).hours(daily).minutes(0).format('h:mm a z')}`;\n      }\n\n      if (frequency === 'cronExpression') {\n        return cronExpression;\n      }\n    }\n\n    const period = _.get(monitor, 'schedule.period');\n\n    if (period) {\n      return `Every ${period.interval} ${period.unit.toLowerCase()}`;\n    }\n\n    const cron = _.get(monitor, 'schedule.cron');\n\n    if (cron) {\n      return `${cron.expression} ${cron.timezone}`;\n    }\n  } catch (err) {\n    return DEFAULT_EMPTY_DATA;\n  }\n\n  return DEFAULT_EMPTY_DATA;\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { EuiFlexItem, EuiText } from '@elastic/eui';\n\nconst OverviewStat = ({\n  header,\n  value\n}) => /*#__PURE__*/React.createElement(EuiFlexItem, {\n  key: header\n}, /*#__PURE__*/React.createElement(EuiText, {\n  size: \"xs\"\n}, /*#__PURE__*/React.createElement(\"strong\", null, header), /*#__PURE__*/React.createElement(\"div\", null, value)));\n\nOverviewStat.propTypes = {\n  header: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]).isRequired\n};\nexport default OverviewStat;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport OverviewStat from './OverviewStat';\nexport default OverviewStat;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component, Fragment } from 'react';\nimport { get } from 'lodash';\nimport queryString from 'query-string';\nimport { EuiButton, EuiCallOut, EuiFlexGroup, EuiFlexItem, EuiLink, EuiLoadingSpinner, EuiSpacer, EuiText, EuiTitle, EuiIcon } from '@elastic/eui';\nimport CreateMonitor from '../../CreateMonitor';\nimport CreateTrigger from '../../CreateTrigger';\nimport MonitorOverview from '../components/MonitorOverview';\nimport MonitorHistory from './MonitorHistory';\nimport Dashboard from '../../Dashboard/containers/Dashboard';\nimport Triggers from './Triggers';\nimport { MONITOR_ACTIONS, TRIGGER_ACTIONS, KIBANA_AD_PLUGIN, MONITOR_INPUT_DETECTOR_ID } from '../../../utils/constants';\nimport { migrateTriggerMetadata } from './utils/helpers';\nexport default class MonitorDetails extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getDetector\", id => {\n      const {\n        httpClient\n      } = this.props;\n      httpClient.get(`../api/alerting/detectors/${id}`).then(resp => {\n        const {\n          ok,\n          detector,\n          version: detectorVersion,\n          seqNo,\n          primaryTerm\n        } = resp;\n\n        if (ok) {\n          this.setState({\n            detector: detector,\n            detectorVersion\n          });\n        } else {\n          console.log('can not get detector', id);\n        }\n      }).catch(err => {\n        console.log('error while getting detector', err);\n      });\n    });\n\n    _defineProperty(this, \"getMonitor\", id => {\n      const {\n        httpClient\n      } = this.props;\n      httpClient.get(`../api/alerting/monitors/${id}`).then(resp => {\n        const {\n          ok,\n          resp: monitor,\n          version: monitorVersion,\n          dayCount,\n          activeCount,\n          ifSeqNo,\n          ifPrimaryTerm\n        } = resp;\n\n        if (ok) {\n          this.setState({\n            ifSeqNo,\n            ifPrimaryTerm,\n            monitor: migrateTriggerMetadata(monitor),\n            monitorVersion,\n            dayCount,\n            activeCount,\n            loading: false,\n            error: null\n          });\n          const adId = get(monitor, MONITOR_INPUT_DETECTOR_ID, undefined);\n\n          if (adId) {\n            this.getDetector(adId);\n          }\n        } else {\n          // TODO: 404 handling\n          this.props.history.push('/monitors');\n        }\n      }).catch(err => {\n        console.log('err', err);\n      });\n    });\n\n    _defineProperty(this, \"updateMonitor\", update => {\n      const {\n        match: {\n          params: {\n            monitorId\n          }\n        },\n        httpClient\n      } = this.props;\n      const {\n        monitor,\n        ifSeqNo,\n        ifPrimaryTerm\n      } = this.state;\n      this.setState({\n        updating: true\n      });\n      return httpClient.put(`../api/alerting/monitors/${monitorId}?ifSeqNo=${ifSeqNo}&ifPrimaryTerm=${ifPrimaryTerm}`, { ...monitor,\n        ...update\n      }).then(resp => {\n        const {\n          version: monitorVersion\n        } = resp.data;\n        this.setState({\n          monitorVersion,\n          updating: false\n        });\n        return resp;\n      }).catch(err => {\n        console.log('err', err);\n        this.setState({\n          updating: false\n        });\n        return err;\n      });\n    });\n\n    _defineProperty(this, \"onCreateTrigger\", () => {\n      this.props.history.push({ ...this.props.location,\n        search: `?action=${TRIGGER_ACTIONS.CREATE_TRIGGER}`\n      });\n    });\n\n    _defineProperty(this, \"onCloseTrigger\", () => {\n      this.props.history.push({ ...this.props.location,\n        search: ''\n      });\n      this.setState({\n        triggerToEdit: null\n      });\n    });\n\n    _defineProperty(this, \"onEditTrigger\", trigger => {\n      this.setState({\n        triggerToEdit: trigger\n      });\n      this.props.history.push({ ...this.props.location,\n        search: `?action=${TRIGGER_ACTIONS.UPDATE_TRIGGER}`\n      });\n    });\n\n    _defineProperty(this, \"renderNoTriggersCallOut\", () => {\n      const {\n        monitor\n      } = this.state;\n\n      if (!monitor.triggers.length) {\n        return /*#__PURE__*/React.createElement(Fragment, null, /*#__PURE__*/React.createElement(EuiCallOut, {\n          title: /*#__PURE__*/React.createElement(\"span\", null, \"This monitor has no triggers configured. To receive alerts from this monitor you must first\", ' ', /*#__PURE__*/React.createElement(EuiLink, {\n            style: {\n              textDecoration: 'underline'\n            },\n            onClick: this.onCreateTrigger\n          }, \"create at trigger\"), \".\"),\n          iconType: \"alert\",\n          size: \"s\"\n        }), /*#__PURE__*/React.createElement(EuiSpacer, {\n          size: \"s\"\n        }));\n      }\n\n      return null;\n    });\n\n    this.state = {\n      monitor: null,\n      monitorVersion: 0,\n      ifSeqNo: 0,\n      ifPrimaryTerm: 0,\n      dayCount: 0,\n      activeCount: 0,\n      loading: true,\n      updating: false,\n      error: null,\n      triggerToEdit: null\n    };\n  }\n\n  componentDidMount() {\n    this.getMonitor(this.props.match.params.monitorId);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.monitorVersion !== prevState.monitorVersion && !prevState.loading) {\n      // this can happen on initial load when going from 0 -> currentVersion\n      // so if we haven't also gone from loading: true -> loading: false we're fine\n      // ie if prev loading state was false we're fine\n      this.getMonitor(this.props.match.params.monitorId);\n    }\n  }\n\n  componentWillUnmount() {\n    this.props.setFlyout(null);\n  }\n\n  render() {\n    const {\n      monitor,\n      detector,\n      monitorVersion,\n      activeCount,\n      updating,\n      loading,\n      triggerToEdit\n    } = this.state;\n    const {\n      location,\n      match: {\n        params: {\n          monitorId\n        }\n      },\n      history,\n      httpClient,\n      core\n    } = this.props;\n    const {\n      action,\n      success: showSuccessCallOut = false\n    } = queryString.parse(location.search);\n    const updatingMonitor = action === MONITOR_ACTIONS.UPDATE_MONITOR;\n    const creatingTrigger = action === TRIGGER_ACTIONS.CREATE_TRIGGER;\n    const updatingTrigger = action === TRIGGER_ACTIONS.UPDATE_TRIGGER && triggerToEdit;\n    const detectorId = get(monitor, MONITOR_INPUT_DETECTOR_ID, undefined);\n\n    if (loading) {\n      return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n        justifyContent: \"center\",\n        alignItems: \"center\",\n        style: {\n          marginTop: '100px'\n        }\n      }, /*#__PURE__*/React.createElement(EuiLoadingSpinner, {\n        size: \"xl\"\n      }));\n    }\n\n    if (updatingMonitor) {\n      return /*#__PURE__*/React.createElement(CreateMonitor, _extends({\n        edit: true,\n        updateMonitor: this.updateMonitor,\n        monitorToEdit: monitor,\n        detectorId: detectorId\n      }, this.props));\n    }\n\n    if (creatingTrigger || updatingTrigger) {\n      return /*#__PURE__*/React.createElement(CreateTrigger, {\n        edit: updatingTrigger,\n        triggerToEdit: triggerToEdit,\n        monitor: monitor,\n        showSuccessCallOut: showSuccessCallOut,\n        httpClient: this.props.httpClient,\n        setFlyout: this.props.setFlyout,\n        onCloseTrigger: this.onCloseTrigger,\n        onMonitorFieldChange: () => {},\n        updateMonitor: this.updateMonitor\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      style: {\n        padding: '25px 50px'\n      }\n    }, this.renderNoTriggersCallOut(), /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiTitle, {\n      size: \"l\",\n      style: {\n        whiteSpace: 'nowrap',\n        overflow: 'hidden'\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      style: {\n        whiteSpace: 'nowrap',\n        maxWidth: '90%',\n        textOverflow: 'ellipsis',\n        overflow: 'hidden'\n      }\n    }, monitor.name)), detector ? /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiText, {\n      size: \"s\"\n    }, \"Created from detector:\", ' ', /*#__PURE__*/React.createElement(EuiLink, {\n      href: `${KIBANA_AD_PLUGIN}#/detectors/${detectorId}`,\n      target: \"_blank\"\n    }, detector.name, \" \", /*#__PURE__*/React.createElement(EuiIcon, {\n      size: \"s\",\n      type: \"popout\"\n    })))) : null), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      onClick: () => {\n        this.props.history.push({ ...this.props.location,\n          search: `?action=${MONITOR_ACTIONS.UPDATE_MONITOR}`\n        });\n      }\n    }, \"Edit\")), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      isLoading: updating,\n      onClick: () => this.updateMonitor({\n        enabled: !monitor.enabled\n      })\n    }, monitor.enabled ? 'Disable' : 'Enable'))), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(MonitorOverview, {\n      monitor: monitor,\n      monitorId: monitorId,\n      monitorVersion: monitorVersion,\n      activeCount: activeCount\n    }), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(Triggers, {\n      monitor: monitor,\n      updateMonitor: this.updateMonitor,\n      onEditTrigger: this.onEditTrigger,\n      onCreateTrigger: this.onCreateTrigger\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"eui-hideFor--xs eui-hideFor--s eui-hideFor--m\"\n    }, /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(MonitorHistory, {\n      httpClient: httpClient,\n      monitorId: monitorId,\n      onShowTrigger: this.onCreateTrigger,\n      triggers: monitor.triggers,\n      core: core\n    })), /*#__PURE__*/React.createElement(EuiSpacer, null), /*#__PURE__*/React.createElement(Dashboard, {\n      monitorIds: [monitorId],\n      detectorIds: detectorId ? [detectorId] : [],\n      onCreateTrigger: this.onCreateTrigger,\n      httpClient: httpClient,\n      location: location,\n      history: history\n    }));\n  }\n\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { EuiFlexGroup, EuiFlexItem, EuiDatePickerRange, EuiDatePicker } from '@elastic/eui';\nimport { MAX_DAYS_ALLOWED_IN_RANGE } from './utils/constants';\nimport { isToday, getRangeMaxTime } from './utils/timeUtils';\n\nclass DateRangePicker extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"getStartDatePickerProps\", startDateTime => {\n      return {\n        selected: startDateTime.isAfter(moment()) ? moment().startOf('day') : startDateTime,\n        minTime: startDateTime.clone().startOf('day'),\n        maxTime: getRangeMaxTime(startDateTime),\n        maxDate: moment()\n      };\n    });\n\n    _defineProperty(this, \"getEndDatePickerProps\", (startDateTime, endDateTime) => {\n      const maxDate = startDateTime.clone().add(MAX_DAYS_ALLOWED_IN_RANGE, 'days');\n      const now = moment();\n      return {\n        selected: endDateTime,\n        minTime: endDateTime.clone().startOf('day'),\n        maxTime: getRangeMaxTime(endDateTime),\n        maxDate: maxDate > now ? now : maxDate,\n        injectTimes: isToday(endDateTime) ? [now] : []\n      };\n    });\n\n    _defineProperty(this, \"handleChangeStart\", startDateTime => {\n      const {\n        onRangeChange\n      } = this.props;\n      this.setState(state => {\n        // If preselected endTime is out of range / grater than start update end time accordingly\n        let endTime = state.rangeEndDateTime.selected;\n\n        if (endTime.isSame(startDateTime)) {\n          endTime = startDateTime.clone().add(30, 'm');\n        } else if (endTime.isBefore(startDateTime) || endTime.diff(startDateTime, 'days') > MAX_DAYS_ALLOWED_IN_RANGE) {\n          endTime = startDateTime.clone().add(1, 'd');\n        }\n\n        onRangeChange(startDateTime, endTime);\n        return {\n          rangeStartDateTime: { ...this.getStartDatePickerProps(startDateTime, endTime)\n          },\n          rangeEndDateTime: { ...this.getEndDatePickerProps(startDateTime, endTime)\n          }\n        };\n      });\n    });\n\n    _defineProperty(this, \"handleChangeEnd\", endDateTime => {\n      const {\n        onRangeChange\n      } = this.props;\n      this.setState(({\n        rangeStartDateTime,\n        rangeEndDateTime\n      }) => {\n        let startTime = rangeStartDateTime.selected;\n\n        if (startTime.isSame(endDateTime)) {\n          startTime = endDateTime.clone().subtract(30, 'm');\n        } else if (startTime.isAfter(endDateTime)) {\n          startTime = endDateTime.clone().subtract(30, 'm');\n        }\n\n        onRangeChange(startTime, endDateTime);\n        return {\n          rangeStartDateTime: { ...rangeStartDateTime,\n            selected: startTime\n          },\n          rangeEndDateTime: { ...rangeEndDateTime,\n            selected: endDateTime\n          }\n        };\n      });\n    });\n\n    this.state = {\n      rangeStartDateTime: { ...this.getStartDatePickerProps(props.initialStartTime, props.initialStartTime)\n      },\n      rangeEndDateTime: { ...this.getEndDatePickerProps(props.initialStartTime, props.initialEndTime)\n      }\n    };\n  }\n\n  render() {\n    const {\n      rangeStartDateTime,\n      rangeEndDateTime\n    } = this.state;\n    return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      alignItems: \"center\",\n      justifyContent: \"flexEnd\"\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false,\n      style: {\n        padding: '0 10px'\n      }\n    }, /*#__PURE__*/React.createElement(EuiDatePickerRange, {\n      fullWidth: true,\n      startDateControl: /*#__PURE__*/React.createElement(EuiDatePicker, _extends({\n        selected: rangeStartDateTime.selected,\n        onChange: this.handleChangeStart,\n        startDate: rangeStartDateTime.selected,\n        endDate: rangeEndDateTime.selected,\n        isInvalid: rangeStartDateTime.selected > rangeStartDateTime.selected,\n        \"aria-label\": \"Start date\",\n        showTimeSelect: true,\n        popperClassName: \"euiRangePicker--popper\",\n        shouldCloseOnSelect: true\n      }, rangeStartDateTime)),\n      endDateControl: /*#__PURE__*/React.createElement(EuiDatePicker, _extends({\n        selected: rangeEndDateTime.selected,\n        onChange: this.handleChangeEnd,\n        startDate: rangeStartDateTime.selected,\n        endDate: rangeEndDateTime.selected,\n        isInvalid: rangeStartDateTime.selected > rangeStartDateTime.selected,\n        \"aria-label\": \"End date\",\n        showTimeSelect: true,\n        popperClassName: \"euiRangePicker--popper\",\n        shouldCloseOnSelect: true\n      }, rangeEndDateTime))\n    })));\n  }\n\n}\n\nDateRangePicker.propTypes = {\n  onRangeChange: PropTypes.func.isRequired\n};\nexport default DateRangePicker;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { get, isEqual } from 'lodash'; // import chrome from 'ui/chrome';\n\nimport { EuiHorizontalRule } from '@elastic/eui';\nimport moment from 'moment';\nimport ContentPanel from '../../../../components/ContentPanel';\nimport { TriggersTimeSeries, POIChart, Legend, EmptyHistory } from '../../components/MonitorHistory/';\nimport { calculateInterval } from './utils/timeUtils';\nimport DateRangePicker from './DateRangePicker';\nimport { generateFirstDataPoints, dataPointsGenerator, getPOISearchQuery } from './utils/chartHelpers';\nimport * as HistoryConstants from './utils/constants';\nimport { INDEX } from '../../../../../utils/constants';\nimport queryString from 'query-string';\n\nclass MonitorHistory extends PureComponent {\n  constructor(props) {\n    super(props); //TODO:: we might move this to DateRangePicker and make callback to update POIInterest? Check the perf and timings.\n\n    _defineProperty(this, \"handleRangeChange\", (startTime, endTime) => {\n      this.setState({\n        poiTimeWindow: {\n          startTime,\n          endTime\n        }\n      }, () => this.getPOIData());\n    });\n\n    _defineProperty(this, \"generatePlotData\", alertsData => {\n      const {\n        timeSeriesWindow: {\n          startTime: windowStartTime,\n          endTime: windowEndTime\n        }\n      } = this.state; // In case of empty just return  start-end as not alerting state.\n\n      if (alertsData.length === 0) {\n        return [{\n          x0: windowStartTime,\n          x: windowEndTime,\n          state: HistoryConstants.TIME_SERIES_ALERT_STATE.NO_ALERTS,\n          meta: {\n            startTime: windowStartTime,\n            endTime: windowEndTime\n          }\n        }];\n      }\n\n      const [firstAlert, ...restAlerts] = alertsData; //handles first alert separately.\n\n      const firstAlertDataPoints = generateFirstDataPoints({\n        startTime: get(firstAlert, '_source.start_time'),\n        acknowledgedTime: get(firstAlert, '_source.acknowledged_time'),\n        endTime: get(firstAlert, '_source.end_time'),\n        state: get(firstAlert, '_source.state'),\n        windowStartTime,\n        windowEndTime,\n        errorsCount: get(firstAlert, '_source.alert_history.length', 0)\n      }); // Handle rest of the alerts\n\n      let lastEndTime = get(firstAlert, '_source.end_time');\n      const restAlertsDataPoints = restAlerts.reduce((acc, currentAlert) => {\n        const {\n          start_time: startTime,\n          acknowledged_time: acknowledgedTime,\n          end_time: currentEndTime,\n          state,\n          alert_history = []\n        } = currentAlert._source;\n        acc.push(...dataPointsGenerator({\n          startTime,\n          acknowledgedTime,\n          endTime: currentEndTime,\n          lastEndTime,\n          windowStartTime,\n          windowEndTime,\n          meta: {\n            startTime,\n            acknowledgedTime,\n            endTime: currentEndTime,\n            state,\n            errorsCount: alert_history.length\n          }\n        }, lastEndTime));\n        lastEndTime = currentEndTime;\n        return acc;\n      }, []); // Handle last data point if required.\n\n      const lastAlertDataPoint = [];\n\n      if (lastEndTime && lastEndTime < windowEndTime) {\n        lastAlertDataPoint.push({\n          x0: lastEndTime,\n          x: windowEndTime,\n          state: HistoryConstants.TIME_SERIES_ALERT_STATE.NO_ALERTS,\n          meta: {\n            startTime: lastEndTime,\n            endTime: windowEndTime\n          }\n        });\n      }\n\n      return [...firstAlertDataPoints, ...restAlertsDataPoints, ...lastAlertDataPoint];\n    });\n\n    _defineProperty(this, \"getWindowSize\", (poiData, intervalDuration) => {\n      /*\n        brushAreaStart Duration is to defined the start point for smaller window over zoomer\n        on which time line will be displayed. Duration will default to what interval has been\n        computed to ES bucket in case it is too small,\n        just scale it so that customer can have better experience\n      */\n      const {\n        poiTimeWindow: {\n          endTime\n        }\n      } = this.state;\n      const brushAreaStartDuration = intervalDuration.asMinutes() < 10 ? moment.duration(HistoryConstants.MIN_HIGHLIGHT_WINDOW_DURATION, 'm') : intervalDuration;\n      return {\n        startTime: endTime.valueOf() - brushAreaStartDuration.asMilliseconds(),\n        endTime: endTime.valueOf()\n      };\n    });\n\n    _defineProperty(this, \"getPOIData\", async () => {\n      const {\n        httpClient,\n        monitorId\n      } = this.props;\n      const {\n        poiTimeWindow\n      } = this.state;\n      const intervalDuration = calculateInterval(moment.duration(poiTimeWindow.endTime - poiTimeWindow.startTime, 'ms'));\n\n      try {\n        const resp = await httpClient.post('../api/alerting/_search', {\n          body: JSON.stringify({\n            query: getPOISearchQuery(monitorId, poiTimeWindow.startTime.valueOf(), poiTimeWindow.endTime.valueOf(), intervalDuration),\n            index: INDEX.ALL_ALERTS\n          })\n        });\n\n        if (resp.ok) {\n          const poiData = get(resp, 'data.resp.aggregations.alerts_over_time.buckets', []).map(item => ({\n            x: item.key,\n            y: item.doc_count\n          }));\n          this.setState({\n            poiData,\n            maxAlerts: get(resp, 'data.resp.aggregations.max_alerts.value', 0),\n            timeSeriesWindow: { ...this.getWindowSize(poiData, intervalDuration)\n            }\n          }, () => this.getAlerts());\n        } else {\n          const parsedError = JSON.parse(resp.resp.response);\n          this.setState({\n            queryResponse: parsedError\n          });\n        }\n      } catch (err) {\n        //TODO:: Handle Errors Gracefully.\n        console.log('err', err);\n      }\n    });\n\n    _defineProperty(this, \"getAlerts\", async () => {\n      this.setState({\n        isLoading: true\n      });\n      const {\n        timeSeriesWindow\n      } = this.state;\n      const {\n        httpClient,\n        triggers,\n        monitorId\n      } = this.props;\n\n      try {\n        const params = {\n          size: HistoryConstants.MAX_DOC_COUNT_FOR_ALERTS,\n          sortField: 'start_time',\n          sortDirection: 'asc',\n          monitorIds: monitorId\n        };\n        const resp = await httpClient.get('../api/alerting/alerts', {\n          query: params\n        });\n        var alerts;\n\n        if (resp.ok) {\n          alerts = resp.alerts;\n        } else {\n          console.log('error getting alerts:', resp);\n          alerts = [];\n        }\n\n        const triggerTemp = {};\n        alerts.forEach(alert => {\n          if (alert.start_time <= timeSeriesWindow.endTime && (alert.end_time == null || alert.end_time >= timeSeriesWindow.startTime)) {\n            if (!(alert.trigger_id in triggerTemp)) {\n              triggerTemp[alert.trigger_id] = [];\n            }\n\n            triggerTemp[alert.trigger_id].push({\n              _source: alert\n            });\n          }\n        });\n        const triggersData = {};\n        triggers.forEach(trigger => {\n          triggersData[trigger.id] = this.generatePlotData(get(triggerTemp, trigger.id, []));\n        });\n        this.setState({\n          isLoading: false,\n          triggersData,\n          prevTimeSeriesWindow: timeSeriesWindow\n        });\n      } catch (err) {\n        //TODO:: Handle Errors Gracefully.\n        console.log('err', err);\n      }\n    });\n\n    _defineProperty(this, \"handleDragEnd\", area => {\n      const {\n        timeSeriesWindow\n      } = this.state;\n      if (area && area.left.getTime() === timeSeriesWindow.startTime || this.state.isLoading) return;\n      this.setState({\n        prevTimeSeriesWindow: timeSeriesWindow,\n        timeSeriesWindow: {\n          startTime: area.left.getTime(),\n          endTime: area.right.getTime()\n        }\n      }, () => this.getAlerts());\n    });\n\n    this.initialStartTime = moment(Date.now()).subtract(HistoryConstants.DEFAULT_POI_TIME_WINDOW_DAYS, 'days').startOf('day');\n    this.initialEndTime = moment(Date.now());\n    this.state = {\n      poiData: [],\n      triggersData: {},\n      isLoading: true,\n      maxAlerts: 0,\n      timeSeriesWindow: {},\n      poiTimeWindow: {\n        startTime: this.initialStartTime,\n        endTime: this.initialEndTime\n      }\n    };\n    this.isDarkMode = this.props.core.uiSettings.get('theme:darkMode') || false;\n  }\n\n  async componentDidMount() {\n    const {\n      triggers\n    } = this.props;\n\n    if (triggers.length > 0) {\n      await this.getPOIData();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    if (!isEqual(this.props.triggers, prevProps.triggers)) {\n      this.getPOIData();\n    }\n  }\n\n  render() {\n    const {\n      poiData,\n      timeSeriesWindow,\n      isLoading,\n      triggersData,\n      poiTimeWindow,\n      maxAlerts,\n      prevTimeSeriesWindow\n    } = this.state;\n    const {\n      triggers,\n      onShowTrigger\n    } = this.props;\n    return /*#__PURE__*/React.createElement(ContentPanel, {\n      title: \"History\",\n      titleSize: \"s\",\n      bodyStyles: {\n        minHeight: 200,\n        padding: 0\n      },\n      actions: [/*#__PURE__*/React.createElement(DateRangePicker, {\n        initialStartTime: this.initialStartTime,\n        initialEndTime: this.initialEndTime,\n        onRangeChange: this.handleRangeChange\n      })]\n    }, triggers.length > 0 ? /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(TriggersTimeSeries, {\n      triggers: triggers,\n      isLoading: isLoading,\n      triggersData: triggersData,\n      domainBounds: prevTimeSeriesWindow || timeSeriesWindow\n    }), /*#__PURE__*/React.createElement(POIChart, {\n      isLoading: isLoading,\n      data: poiData,\n      onDragStart: () => this.setState({\n        loading: false\n      }),\n      highlightedArea: timeSeriesWindow,\n      onDragEnd: this.handleDragEnd,\n      xDomain: [poiTimeWindow.startTime, poiTimeWindow.endTime],\n      yDomain: [0, maxAlerts <= HistoryConstants.MIN_POI_Y_SCALE ? HistoryConstants.MIN_POI_Y_SCALE : maxAlerts],\n      isDarkMode: this.isDarkMode\n    }), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n      margin: \"xs\"\n    }), /*#__PURE__*/React.createElement(Legend, null)) : /*#__PURE__*/React.createElement(EmptyHistory, {\n      onShowTrigger: onShowTrigger\n    }));\n  }\n\n}\n\nMonitorHistory.propTypes = {\n  triggers: PropTypes.array.isRequired,\n  onShowTrigger: PropTypes.func.isRequired\n};\nexport default MonitorHistory;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorHistory from './MonitorHistory';\nexport default MonitorHistory;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { ALERT_STATE } from '../../../../../utils/constants';\nimport { TIME_SERIES_ALERT_STATE } from './constants';\nexport const dataPointsGenerator = ({\n  startTime,\n  acknowledgedTime,\n  endTime,\n  lastEndTime,\n  windowEndTime,\n  meta\n}) => {\n  const alertDataPoints = []; // Adds not alerting state\n\n  if (lastEndTime) {\n    alertDataPoints.push({\n      x0: lastEndTime,\n      x: startTime,\n      state: TIME_SERIES_ALERT_STATE.NO_ALERTS,\n      meta: {\n        startTime: lastEndTime,\n        endTime: startTime\n      }\n    });\n  }\n\n  if (acknowledgedTime) {\n    alertDataPoints.push({\n      x0: startTime,\n      x: acknowledgedTime < windowEndTime ? acknowledgedTime : windowEndTime,\n      state: TIME_SERIES_ALERT_STATE.TRIGGERED,\n      meta\n    }); // If acknowledge time is outside window, ignore the end plotting\n\n    if (acknowledgedTime < windowEndTime) {\n      alertDataPoints.push({\n        x0: acknowledgedTime,\n        x: endTime && endTime < windowEndTime ? endTime : windowEndTime,\n        state: TIME_SERIES_ALERT_STATE.ACKNOWLEDGED,\n        meta\n      });\n    }\n  } else {\n    alertDataPoints.push({\n      x0: startTime,\n      x: endTime && endTime < windowEndTime ? endTime : windowEndTime,\n      state: TIME_SERIES_ALERT_STATE.TRIGGERED,\n      meta\n    });\n  }\n\n  return alertDataPoints;\n};\nexport const generateFirstDataPoints = ({\n  startTime,\n  acknowledgedTime,\n  endTime,\n  state,\n  windowStartTime,\n  windowEndTime,\n  errorsCount\n}) => {\n  const firstAlertData = {\n    startTime,\n    acknowledgedTime,\n    endTime,\n    windowStartTime,\n    windowEndTime,\n    meta: {\n      startTime,\n      acknowledgedTime,\n      endTime,\n      state,\n      errorsCount\n    }\n  };\n  /*\n    Alert could have started within timeSeriesWindowRange,\n    in this case , it should create NOT_ALERTING data point\n    for startWindow -> firstAlertTime and then continue creating\n    alerts\n  */\n\n  if (windowStartTime < firstAlertData.startTime) {\n    return dataPointsGenerator({ ...firstAlertData,\n      lastEndTime: windowStartTime\n    });\n  } // Alert is being continued from previous window, highlight from\n  // startOfWindow to end_time / Acknowledge Time\n\n\n  return dataPointsGenerator({ ...firstAlertData,\n    startTime: windowStartTime,\n    acknowledgedTime: acknowledgedTime && acknowledgedTime < windowStartTime ? windowStartTime : acknowledgedTime,\n    lastEndTime: null\n  });\n}; // This generates query for the displaying POI Data from the window with provided duration\n\nexport const getPOISearchQuery = (monitorId, startTime, endTime, intervalDuration) => ({\n  query: {\n    bool: {\n      filter: [{\n        term: {\n          monitor_id: monitorId\n        }\n      }, {\n        bool: {\n          should: [{\n            range: {\n              start_time: {\n                gte: startTime,\n                lte: endTime\n              }\n            }\n          }, {\n            range: {\n              end_time: {\n                gte: startTime,\n                lte: endTime\n              }\n            }\n          }, {\n            bool: {\n              should: [{\n                range: {\n                  start_time: {\n                    lte: startTime\n                  }\n                }\n              }, {\n                range: {\n                  end_time: {\n                    gte: endTime\n                  }\n                }\n              }, {\n                bool: {\n                  must_not: {\n                    exists: {\n                      field: 'monitor.schedule.period'\n                    }\n                  }\n                }\n              }],\n              minimum_should_match: 2\n            }\n          }],\n          minimum_should_match: 1\n        }\n      }]\n    }\n  },\n  aggs: {\n    alerts_over_time: {\n      date_histogram: {\n        interval: `${intervalDuration.asMinutes()}m`,\n        extended_bounds: {\n          min: startTime,\n          max: endTime\n        },\n        script: {\n          lang: 'painless',\n          // Alert start / end time can fall in only in one bucket, but our POI shows the alerts over the time of period.\n          // To achieve this below script will return events over the period so it will fall into all buckets from starting to end time for an alert\n          source: `def alertsWindow = new ArrayList();\n                      def startTime = doc.start_time.value.millis < params.startTime ? params.startTime : doc.start_time.value.millis;\n                      def endTime;\n                      /*\n                        Painless script returns default dateTime epoch for null date fields instead of returning null.\n                        In case of alert is in one of the state (ACTIVE / ERROR / ACKNOWLEDGE) end_time can be null.\n                        We are setting default end time to window end time.\n                        More details can be found here https://github.com/elastic/elasticsearch/pull/30975\n                      */\n\n                      if(doc.end_time.size() == 0) {\n                        endTime = params.endTime\n                      } else {\n                        endTime = doc.end_time.value.millis;\n                      }\n                      while(startTime <= endTime) {\n                           alertsWindow.add(startTime);\n                           startTime = startTime + params.interval;\n                       }\n                       return alertsWindow;`,\n          params: {\n            startTime,\n            endTime,\n            interval: intervalDuration.asMilliseconds()\n          }\n        }\n      }\n    },\n    max_alerts: {\n      max_bucket: {\n        buckets_path: 'alerts_over_time._count'\n      }\n    }\n  }\n});","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const TIME_SERIES_ALERT_STATE = Object.freeze({\n  NO_ALERTS: 'NO_ALERTS',\n  TRIGGERED: 'TRIGGERED',\n  ACKNOWLEDGED: 'ACKNOWLEDGED',\n  ERROR: 'ERROR'\n});\nexport const ALERT_TIMELINE_COLORS_MAP = {\n  [TIME_SERIES_ALERT_STATE.NO_ALERTS]: '#6AAF35',\n  [TIME_SERIES_ALERT_STATE.TRIGGERED]: '#D0021B',\n  [TIME_SERIES_ALERT_STATE.ACKNOWLEDGED]: 'pink',\n  [TIME_SERIES_ALERT_STATE.ERROR]: 'lightgrey'\n}; // Maximum days allowed for date range\n\nexport const MAX_DAYS_ALLOWED_IN_RANGE = 30; // Default time window for Range\n\nexport const DEFAULT_POI_TIME_WINDOW_DAYS = 2;\nexport const MAX_DOC_COUNT_FOR_ALERTS = 800; //Minimum Highlight Window if range is too small.\n\nexport const MIN_POI_Y_SCALE = 5; // This is in Minutes\n\nexport const MIN_HIGHLIGHT_WINDOW_DURATION = 10;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport moment from 'moment';\nexport const isToday = currentDate => currentDate.isSame(moment(Date.now()), 'day');\nexport const getRangeMaxTime = currentDate => isToday(currentDate) ? moment(Date.now()) : currentDate.clone().endOf('day');\n/*\n    This function will find an interval (Moment Duration), Which will be within 30 days.\n    Don't use if duration is more than 30 days.\n*/\n\nexport const calculateInterval = duration => {\n  const bucketWindows = [moment.duration(1, 'd'), moment.duration(18, 'hour'), moment.duration(12, 'hour'), moment.duration(6, 'hour'), moment.duration(3, 'hour'), moment.duration(1, 'hour'), moment.duration(30, 'minute'), // 15 - 24 hrs\n  moment.duration(20, 'minute'), // 8- 14 hrs\n  moment.duration(10, 'minute'), // 5-8 hrs\n  moment.duration(5, 'minute'), // 3-5 hrs\n  moment.duration(3, 'minute'), // 2-3 hrs\n  moment.duration(1, 'minute') // < 1 hr\n  ];\n  const target = Math.ceil(duration / 30); // Minimum Number of buckets\n  // if target is less than a minute to get, just fall back to 1 minutes\n\n  if (target < moment.duration(1, 'minute')) {\n    return moment.duration(1, 'minute');\n  }\n\n  for (let i = 0; i < bucketWindows.length; i++) {\n    if (bucketWindows[i] <= target) {\n      return bucketWindows[i];\n    }\n  }\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport uuidv4 from 'uuid/v4';\nimport { EuiButton, EuiInMemoryTable } from '@elastic/eui';\nimport ContentPanel from '../../../../components/ContentPanel';\nconst MAX_TRIGGERS = 10;\nexport default class Triggers extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      field: 'name',\n      tableKey: uuidv4(),\n      direction: 'asc',\n      selectedItems: []\n    };\n    this.onDelete = this.onDelete.bind(this);\n    this.onEdit = this.onEdit.bind(this);\n    this.onSelectionChange = this.onSelectionChange.bind(this);\n    this.onTableChange = this.onTableChange.bind(this);\n  }\n\n  componentWillReceiveProps(nextProps, nextContext) {\n    if (this.props.monitor !== nextProps.monitor) {\n      // In the React version Kibana uses there is a bug regarding getDerivedStateFromProps\n      // which EuiInMemoryTable uses which causes items to not be updated correctly.\n      // Whenever the monitor is updated we'll generate a new key for the table\n      // which will cause the table component to remount\n      this.setState({\n        tableKey: uuidv4()\n      });\n    }\n  }\n\n  onDelete() {\n    const {\n      selectedItems\n    } = this.state;\n    const {\n      updateMonitor,\n      monitor\n    } = this.props;\n    const triggersToDelete = selectedItems.reduce((map, item) => ({ ...map,\n      [item.name]: true\n    }), {});\n\n    const shouldKeepTrigger = trigger => !triggersToDelete[trigger.name];\n\n    const updatedTriggers = monitor.triggers.filter(shouldKeepTrigger);\n    updateMonitor({\n      triggers: updatedTriggers\n    });\n  }\n\n  onEdit() {\n    this.props.onEditTrigger(this.state.selectedItems[0]);\n  }\n\n  onSelectionChange(selectedItems) {\n    this.setState({\n      selectedItems\n    });\n  }\n\n  onTableChange({\n    sort: {\n      field,\n      direction\n    } = {}\n  }) {\n    this.setState({\n      field,\n      direction\n    });\n  }\n\n  render() {\n    const {\n      direction,\n      field,\n      selectedItems,\n      tableKey\n    } = this.state;\n    const {\n      monitor,\n      onCreateTrigger\n    } = this.props;\n    const columns = [{\n      field: 'name',\n      name: 'Name',\n      sortable: true,\n      truncateText: true\n    }, {\n      field: 'actions',\n      name: 'Number of actions',\n      sortable: true,\n      truncateText: false,\n      render: actions => actions.length\n    }, {\n      field: 'severity',\n      name: 'Severity',\n      sortable: true,\n      truncateText: false\n    }];\n    const sorting = {\n      sort: {\n        field,\n        direction\n      }\n    };\n    const selection = {\n      onSelectionChange: this.onSelectionChange\n    };\n    return /*#__PURE__*/React.createElement(ContentPanel, {\n      title: \"Triggers\",\n      titleSize: \"s\",\n      bodyStyles: {\n        padding: 'initial'\n      },\n      actions: [/*#__PURE__*/React.createElement(EuiButton, {\n        onClick: this.onEdit,\n        disabled: selectedItems.length !== 1\n      }, \"Edit\"), /*#__PURE__*/React.createElement(EuiButton, {\n        onClick: this.onDelete,\n        disabled: !selectedItems.length\n      }, \"Delete\"), /*#__PURE__*/React.createElement(EuiButton, {\n        onClick: onCreateTrigger,\n        disabled: monitor.triggers.length >= MAX_TRIGGERS,\n        fill: true\n      }, \"Create\")]\n    }, /*#__PURE__*/React.createElement(EuiInMemoryTable, {\n      items: monitor.triggers,\n      itemId: \"id\",\n      key: tableKey,\n      columns: columns,\n      sorting: sorting,\n      isSelectable: true,\n      selection: selection,\n      onTableChange: this.onTableChange\n    }));\n  }\n\n}\nTriggers.propTypes = {\n  monitor: PropTypes.object.isRequired,\n  updateMonitor: PropTypes.func.isRequired,\n  onEditTrigger: PropTypes.func.isRequired,\n  onCreateTrigger: PropTypes.func.isRequired\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Triggers from './Triggers';\nexport default Triggers;","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { get, isEmpty } from 'lodash';\nexport const migrateTriggerMetadata = monitor => {\n  const uiMetadata = get(monitor, 'ui_metadata', {});\n  if (isEmpty(uiMetadata)) return monitor; // Already migrated no need to perform any action\n\n  if (uiMetadata.triggers) return monitor;\n  const {\n    thresholds = {},\n    ...rest\n  } = uiMetadata;\n  return { ...monitor,\n    ui_metadata: { ...rest,\n      triggers: { ...thresholds\n      }\n    }\n  };\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { EuiConfirmModal, EuiInMemoryTable, EuiOverlayMask } from '@elastic/eui';\nexport default class AcknowledgeModal extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedItems: []\n    };\n    this.onConfirm = this.onConfirm.bind(this);\n    this.onSelectionChange = this.onSelectionChange.bind(this);\n  }\n\n  onConfirm() {\n    const {\n      selectedItems\n    } = this.state;\n    if (!selectedItems.length) return;\n    this.props.onAcknowledge(selectedItems);\n  }\n\n  onSelectionChange(selectedItems) {\n    this.setState({\n      selectedItems\n    });\n  }\n\n  renderTime(time) {\n    const momentTime = moment(time);\n    if (time && momentTime.isValid()) return momentTime.format('MM/DD/YY h:mm a');\n    return '--';\n  }\n\n  render() {\n    const {\n      alerts,\n      totalAlerts\n    } = this.props;\n    const columns = [{\n      field: 'monitor_name',\n      name: 'Monitor',\n      truncateText: true\n    }, {\n      field: 'trigger_name',\n      name: 'Trigger',\n      truncateText: true\n    }, {\n      field: 'start_time',\n      name: 'Start Time',\n      truncateText: false,\n      render: this.renderTime\n    }, {\n      field: 'severity',\n      name: 'Severity',\n      align: 'right',\n      truncateText: false\n    }]; // TODO: Acknowledge loading, disable selection\n    // TODO: Empty state, no active alerts found, or too many alerts found\n\n    const selection = {\n      onSelectionChange: this.onSelectionChange\n    };\n    return /*#__PURE__*/React.createElement(EuiOverlayMask, null, /*#__PURE__*/React.createElement(EuiConfirmModal, {\n      title: \"Acknowledge Alerts\",\n      maxWidth: 650,\n      onCancel: this.props.onClickCancel,\n      onConfirm: this.onConfirm,\n      cancelButtonText: \"cancel\",\n      confirmButtonText: \"Acknowledge\"\n    }, /*#__PURE__*/React.createElement(\"p\", null, \"Select which alerts to acknowledge.\"), /*#__PURE__*/React.createElement(EuiInMemoryTable, {\n      items: alerts,\n      itemId: \"id\",\n      columns: columns,\n      isSelectable: true,\n      selection: selection,\n      onTableChange: this.onTableChange,\n      style: {\n        // TODO: Move to classname\n        borderTop: '1px solid #D9D9D9',\n        borderLeft: '1px solid #D9D9D9',\n        borderRight: '1px solid #D9D9D9'\n      }\n    })));\n  }\n\n}\nconst AlertType = PropTypes.shape({});\nAcknowledgeModal.propTypes = {\n  alerts: PropTypes.arrayOf(PropTypes.any).isRequired,\n  totalAlerts: PropTypes.number.isRequired,\n  onClickCancel: PropTypes.func.isRequired,\n  onAcknowledge: PropTypes.func.isRequired\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport AcknowledgeModal from './AcknowledgeModal';\nexport default AcknowledgeModal;","function _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport { EuiButton, EuiContextMenuItem, EuiContextMenuPanel, EuiFlexGroup, EuiFlexItem, EuiPopover } from '@elastic/eui';\nimport { APP_PATH } from '../../../../utils/constants';\nimport { PLUGIN_NAME } from '../../../../../utils/constants';\nexport default class MonitorActions extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      isActionsOpen: false\n    });\n\n    _defineProperty(this, \"getActions\", () => {\n      return [/*#__PURE__*/React.createElement(EuiContextMenuItem, {\n        key: \"acknowledge\",\n        \"data-test-subj\": \"acknowledgeItem\",\n        onClick: () => {\n          this.onCloseActions();\n          this.props.onBulkAcknowledge();\n        }\n      }, \"Acknowledge\"), /*#__PURE__*/React.createElement(EuiContextMenuItem, {\n        key: \"enable\",\n        \"data-test-subj\": \"enableItem\",\n        onClick: () => {\n          this.onCloseActions();\n          this.props.onBulkEnable();\n        }\n      }, \"Enable\"), /*#__PURE__*/React.createElement(EuiContextMenuItem, {\n        key: \"disable\",\n        \"data-test-subj\": \"disableItem\",\n        onClick: () => {\n          this.onCloseActions();\n          this.props.onBulkDisable();\n        }\n      }, \"Disable\"), /*#__PURE__*/React.createElement(EuiContextMenuItem, {\n        key: \"delete\",\n        \"data-test-subj\": \"deleteItem\",\n        onClick: () => {\n          this.onCloseActions();\n          this.props.onBulkDelete();\n        }\n      }, \"Delete\")];\n    });\n\n    _defineProperty(this, \"onCloseActions\", () => {\n      this.setState({\n        isActionsOpen: false\n      });\n    });\n\n    _defineProperty(this, \"onClickActions\", () => {\n      this.setState(prevState => ({\n        isActionsOpen: !prevState.isActionsOpen\n      }));\n    });\n  }\n\n  render() {\n    const {\n      isActionsOpen\n    } = this.state;\n    const {\n      isEditDisabled,\n      onClickEdit\n    } = this.props;\n    return /*#__PURE__*/React.createElement(EuiFlexGroup, {\n      justifyContent: \"spaceBetween\",\n      alignItems: \"center\"\n    }, /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiPopover, {\n      id: \"actionsPopover\",\n      button: /*#__PURE__*/React.createElement(EuiButton, {\n        onClick: this.onClickActions,\n        iconType: \"arrowDown\",\n        iconSide: \"right\",\n        \"data-test-subj\": \"actionsButton\"\n      }, \"Actions\"),\n      isOpen: isActionsOpen,\n      closePopover: this.onCloseActions,\n      panelPaddingSize: \"none\",\n      anchorPosition: \"downLeft\"\n    }, /*#__PURE__*/React.createElement(EuiContextMenuPanel, {\n      items: this.getActions()\n    }))), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      disabled: isEditDisabled,\n      onClick: onClickEdit,\n      \"data-test-subj\": \"editButton\"\n    }, \"Edit\")), /*#__PURE__*/React.createElement(EuiFlexItem, {\n      grow: false\n    }, /*#__PURE__*/React.createElement(EuiButton, {\n      fill: true,\n      href: `${PLUGIN_NAME}#${APP_PATH.CREATE_MONITOR}`,\n      \"data-test-subj\": \"createButton\"\n    }, \"Create monitor\")));\n  }\n\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorActions from './MonitorActions';\nexport default MonitorActions;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiFieldSearch, EuiFlexGroup, EuiFlexItem, EuiPagination, EuiSelect } from '@elastic/eui';\nconst states = [{\n  value: 'all',\n  text: 'All states'\n}, {\n  value: 'enabled',\n  text: 'Enabled'\n}, {\n  value: 'disabled',\n  text: 'Disabled'\n}];\n\nconst MonitorControls = ({\n  activePage,\n  pageCount,\n  search,\n  state,\n  onSearchChange,\n  onStateChange,\n  onPageClick\n}) => /*#__PURE__*/React.createElement(EuiFlexGroup, {\n  style: {\n    padding: '0px 5px'\n  }\n}, /*#__PURE__*/React.createElement(EuiFlexItem, null, /*#__PURE__*/React.createElement(EuiFieldSearch, {\n  fullWidth: true,\n  value: search,\n  placeholder: \"Search\",\n  onChange: onSearchChange\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false\n}, /*#__PURE__*/React.createElement(EuiSelect, {\n  options: states,\n  value: state,\n  onChange: onStateChange\n})), /*#__PURE__*/React.createElement(EuiFlexItem, {\n  grow: false,\n  style: {\n    justifyContent: 'center'\n  }\n}, /*#__PURE__*/React.createElement(EuiPagination, {\n  pageCount: pageCount,\n  activePage: activePage,\n  onPageClick: onPageClick\n})));\n\nexport default MonitorControls;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorControls from './MonitorControls';\nexport default MonitorControls;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiButton, EuiEmptyPrompt, EuiText } from '@elastic/eui';\nimport { APP_PATH } from '../../../../utils/constants';\nimport { PLUGIN_NAME } from '../../../../../utils/constants';\nconst filterText = 'There are no monitors matching your applied filters. Reset your filters to view your monitors.';\nconst emptyMonitorText = 'There are no existing monitors. Create a monitor to add triggers and actions.';\nconst loadingText = 'Loading monitors...';\nconst createMonitorButton = /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  href: `${PLUGIN_NAME}#${APP_PATH.CREATE_MONITOR}`\n}, \"Create monitor\");\n\nconst resetFiltersButton = resetFilters => /*#__PURE__*/React.createElement(EuiButton, {\n  fill: true,\n  onClick: resetFilters\n}, \"Reset Filters\");\n\nconst getMessagePrompt = ({\n  filterIsApplied,\n  loading\n}) => {\n  if (loading) return loadingText;\n  if (filterIsApplied) return filterText;\n  return emptyMonitorText;\n};\n\nconst getActions = ({\n  filterIsApplied,\n  loading,\n  resetFilters\n}) => {\n  if (loading) return null;\n  if (filterIsApplied) return resetFiltersButton(resetFilters);\n  return createMonitorButton;\n};\n\nconst MonitorEmptyPrompt = props => /*#__PURE__*/React.createElement(EuiEmptyPrompt, {\n  style: {\n    maxWidth: '45em'\n  },\n  body: /*#__PURE__*/React.createElement(EuiText, null, /*#__PURE__*/React.createElement(\"p\", null, getMessagePrompt(props))),\n  actions: getActions(props)\n});\n\nexport default MonitorEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport MonitorEmptyPrompt from './MonitorEmptyPrompt';\nexport default MonitorEmptyPrompt;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React, { Component } from 'react';\nimport _ from 'lodash';\nimport queryString from 'query-string';\nimport { EuiBasicTable, EuiHorizontalRule } from '@elastic/eui';\nimport AcknowledgeModal from '../../components/AcknowledgeModal';\nimport ContentPanel from '../../../../components/ContentPanel';\nimport MonitorActions from '../../components/MonitorActions';\nimport MonitorControls from '../../components/MonitorControls';\nimport MonitorEmptyPrompt from '../../components/MonitorEmptyPrompt';\nimport { DEFAULT_PAGE_SIZE_OPTIONS, DEFAULT_QUERY_PARAMS } from './utils/constants';\nimport { getURLQueryParams } from './utils/helpers';\nimport { columns as staticColumns } from './utils/tableUtils';\nimport { MONITOR_ACTIONS } from '../../../../utils/constants';\nconst MAX_MONITOR_COUNT = 1000; // TODO: Abstract out a Table component to be used in both Dashboard and Monitors\n\nexport default class Monitors extends Component {\n  constructor(props) {\n    super(props);\n    const {\n      from,\n      size,\n      search,\n      sortField,\n      sortDirection,\n      state\n    } = getURLQueryParams(this.props.location);\n    this.state = {\n      alerts: [],\n      totalAlerts: 0,\n      totalMonitors: 0,\n      page: Math.floor(from / size),\n      size,\n      search,\n      sortField,\n      sortDirection,\n      selectedItems: [],\n      isPopoverOpen: false,\n      monitors: [],\n      monitorState: state,\n      loadingMonitors: true\n    };\n    this.getMonitors = _.debounce(this.getMonitors.bind(this), 500, {\n      leading: true\n    });\n    this.onTableChange = this.onTableChange.bind(this);\n    this.onMonitorStateChange = this.onMonitorStateChange.bind(this);\n    this.onSelectionChange = this.onSelectionChange.bind(this);\n    this.onSearchChange = this.onSearchChange.bind(this);\n    this.updateMonitor = this.updateMonitor.bind(this);\n    this.deleteMonitor = this.deleteMonitor.bind(this);\n    this.updateMonitors = this.updateMonitors.bind(this);\n    this.deleteMonitors = this.deleteMonitors.bind(this);\n    this.onClickAcknowledge = this.onClickAcknowledge.bind(this);\n    this.onClickAcknowledgeModal = this.onClickAcknowledgeModal.bind(this);\n    this.onClickEdit = this.onClickEdit.bind(this);\n    this.onClickEnable = this.onClickEnable.bind(this);\n    this.onClickDelete = this.onClickDelete.bind(this);\n    this.onClickDisable = this.onClickDisable.bind(this);\n    this.onBulkAcknowledge = this.onBulkAcknowledge.bind(this);\n    this.onBulkEnable = this.onBulkEnable.bind(this);\n    this.onBulkDelete = this.onBulkDelete.bind(this);\n    this.onBulkDisable = this.onBulkDisable.bind(this);\n    this.onPageClick = this.onPageClick.bind(this);\n    this.getActiveAlerts = this.getActiveAlerts.bind(this);\n    this.onClickCancel = this.onClickCancel.bind(this);\n    this.resetFilters = this.resetFilters.bind(this);\n    this.columns = [...staticColumns, {\n      name: 'Actions',\n      width: '75px',\n      actions: [{\n        name: 'Acknowledge',\n        description: 'Acknowledge this Monitor',\n        onClick: this.onClickAcknowledge\n      }, {\n        name: 'Enable',\n        description: 'Enable this Monitor',\n        onClick: this.onClickEnable\n      }, {\n        name: 'Disable',\n        description: 'Disable this Monitor',\n        onClick: this.onClickDisable\n      }, {\n        name: 'Delete',\n        description: 'Delete this Monitor',\n        onClick: this.onClickDelete\n      }]\n    }];\n  }\n\n  componentDidMount() {\n    const {\n      page,\n      size,\n      search,\n      sortField,\n      sortDirection,\n      monitorState\n    } = this.state;\n    this.getMonitors(page * size, size, search, sortField, sortDirection, monitorState);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = this.getQueryObjectFromState(prevState);\n    const currQuery = this.getQueryObjectFromState(this.state);\n\n    if (!_.isEqual(prevQuery, currQuery)) {\n      const {\n        page,\n        size,\n        search,\n        sortField,\n        sortDirection,\n        monitorState\n      } = this.state;\n      this.getMonitors(page * size, size, search, sortField, sortDirection, monitorState);\n    }\n  }\n\n  getQueryObjectFromState({\n    page,\n    size,\n    search,\n    sortField,\n    sortDirection,\n    monitorState\n  }) {\n    return {\n      page,\n      size,\n      search,\n      sortField,\n      sortDirection,\n      monitorState\n    };\n  }\n\n  async getMonitors(from, size, search, sortField, sortDirection, state) {\n    this.setState({\n      loadingMonitors: true\n    });\n\n    try {\n      const params = {\n        from,\n        size,\n        search,\n        sortField,\n        sortDirection,\n        state\n      };\n      const queryParamsString = queryString.stringify(params);\n      const {\n        httpClient,\n        history\n      } = this.props;\n      history.replace({ ...this.props.location,\n        search: queryParamsString\n      });\n      const response = await httpClient.get('../api/alerting/monitors', {\n        query: params\n      });\n\n      if (response.ok) {\n        const {\n          monitors,\n          totalMonitors\n        } = response;\n        this.setState({\n          monitors,\n          totalMonitors\n        });\n      } else {\n        console.log('error getting monitors:', response);\n      }\n    } catch (err) {\n      console.error(err);\n    }\n\n    this.setState({\n      loadingMonitors: false\n    });\n  }\n\n  onTableChange({\n    page: tablePage = {},\n    sort = {}\n  }) {\n    const {\n      index: page,\n      size\n    } = tablePage;\n    const {\n      field: sortField,\n      direction: sortDirection\n    } = sort;\n    this.setState({\n      page,\n      size,\n      sortField,\n      sortDirection\n    });\n  }\n\n  onMonitorStateChange(e) {\n    this.setState({\n      page: 0,\n      monitorState: e.target.value\n    });\n  }\n\n  onSelectionChange(selectedItems) {\n    this.setState({\n      selectedItems\n    });\n  }\n\n  onSearchChange(e) {\n    this.setState({\n      page: 0,\n      search: e.target.value\n    });\n  }\n\n  updateMonitor(item, update) {\n    const {\n      httpClient\n    } = this.props;\n    const {\n      id,\n      ifSeqNo,\n      ifPrimaryTerm,\n      monitor\n    } = item;\n    return httpClient.put('../api/alerting/monitors', {\n      params: {\n        id\n      },\n      query: {\n        ifSeqNo,\n        ifPrimaryTerm\n      },\n      body: { ...monitor,\n        ...update\n      }\n    }).then(resp => resp).catch(err => err);\n  }\n\n  deleteMonitor(item) {\n    const {\n      httpClient\n    } = this.props;\n    const {\n      id,\n      version\n    } = item;\n    return httpClient.delete(`../api/alerting/monitors/${id}?version=${version}`).then(resp => resp).catch(err => err);\n  }\n\n  updateMonitors(items, update) {\n    const arrayOfPromises = items.map(item => this.updateMonitor(item, update).catch(error => error));\n    return Promise.all(arrayOfPromises).then(values => {\n      // TODO: Show which values failed, succeeded, etc.\n      const {\n        page,\n        size,\n        search,\n        sortField,\n        sortDirection,\n        monitorState\n      } = this.state;\n      this.getMonitors(page * size, size, search, sortField, sortDirection, monitorState);\n      this.setState({\n        selectedItems: []\n      });\n    });\n  }\n\n  deleteMonitors(items) {\n    const arrayOfPromises = items.map(item => this.deleteMonitor(item).catch(error => error));\n    return Promise.all(arrayOfPromises).then(values => {\n      // TODO: Show which values failed, succeeded, etc.\n      const {\n        page,\n        size,\n        search,\n        sortField,\n        sortDirection,\n        monitorState\n      } = this.state;\n      this.getMonitors(page * size, size, search, sortField, sortDirection, monitorState);\n      this.setState({\n        selectedItems: []\n      });\n    });\n  }\n\n  async onClickAcknowledge(item) {\n    await this.getActiveAlerts([item]);\n  }\n\n  async onClickAcknowledgeModal(alerts) {\n    const {\n      httpClient\n    } = this.props;\n    const monitorAlerts = alerts.reduce((monitorAlerts, alert) => {\n      const {\n        id,\n        monitor_id: monitorId\n      } = alert;\n      if (monitorAlerts[monitorId]) monitorAlerts[monitorId].push(id);else monitorAlerts[monitorId] = [id];\n      return monitorAlerts;\n    }, {});\n    const promises = Object.entries(monitorAlerts).map(([monitorId, alerts]) => httpClient.post(`../api/alerting/monitors/${monitorId}/_acknowledge/alerts`, {\n      alerts\n    }).catch(error => error));\n    const values = await Promise.all(promises); // TODO: Show which values failed, succeeded, etc.\n\n    const {\n      page,\n      size,\n      search,\n      sortField,\n      sortDirection,\n      monitorState\n    } = this.state;\n    this.getMonitors(page * size, size, search, sortField, sortDirection, monitorState);\n    this.setState({\n      alerts: [],\n      totalAlerts: 0,\n      showAcknowledgeModal: false,\n      selectedItems: []\n    });\n  }\n\n  onClickEdit() {\n    const {\n      selectedItems: [{\n        id\n      }]\n    } = this.state;\n    if (id) this.props.history.push(`/monitors/${id}?action=${MONITOR_ACTIONS.UPDATE_MONITOR}`);\n  }\n\n  onClickEnable(item) {\n    this.updateMonitors([item], {\n      enabled: true\n    });\n  }\n\n  onClickDelete(item) {\n    this.deleteMonitors([item]);\n  }\n\n  onClickDisable(item) {\n    this.updateMonitors([item], {\n      enabled: false\n    });\n  }\n\n  async onBulkAcknowledge() {\n    await this.getActiveAlerts(this.state.selectedItems);\n  }\n\n  onBulkEnable() {\n    this.updateMonitors(this.state.selectedItems, {\n      enabled: true\n    });\n  }\n\n  onBulkDelete() {\n    this.deleteMonitors(this.state.selectedItems);\n  }\n\n  onBulkDisable() {\n    this.updateMonitors(this.state.selectedItems, {\n      enabled: false\n    });\n  }\n\n  onPageClick(page) {\n    this.setState({\n      page\n    });\n  }\n\n  async getActiveAlerts(selectedItems) {\n    const monitorIds = selectedItems.map(monitor => monitor.id);\n    if (!monitorIds.length) return; // TODO: Limiting to 100.. otherwise could be bringing back large amount of alerts that all need to be acknowledged 1 by 1, handle case when there are more than 100 on UI\n\n    const params = {\n      from: 0,\n      size: 100,\n      sortField: 'monitor_name',\n      sortDirection: 'asc',\n      alertState: 'ACTIVE',\n      monitorIds\n    };\n    const {\n      httpClient\n    } = this.props;\n    const response = await httpClient.get(`../api/alerting/alerts?${queryString.stringify(params)}`);\n\n    if (response.data.ok) {\n      const {\n        data: {\n          alerts,\n          totalAlerts\n        }\n      } = response;\n      this.setState({\n        alerts,\n        totalAlerts,\n        showAcknowledgeModal: true\n      });\n    } else {\n      console.error(response);\n    }\n  }\n\n  onClickCancel() {\n    this.setState({\n      showAcknowledgeModal: false\n    });\n  }\n\n  resetFilters() {\n    this.setState({\n      search: DEFAULT_QUERY_PARAMS.search,\n      monitorState: DEFAULT_QUERY_PARAMS.state\n    });\n  }\n\n  getItemId(item) {\n    return `${item.id}-${item.currentTime}`;\n  }\n\n  render() {\n    const {\n      alerts,\n      monitors,\n      monitorState,\n      page,\n      search,\n      selectedItems,\n      showAcknowledgeModal,\n      size,\n      sortDirection,\n      sortField,\n      totalAlerts,\n      totalMonitors,\n      loadingMonitors\n    } = this.state;\n    const filterIsApplied = !!search || monitorState !== DEFAULT_QUERY_PARAMS.state;\n    const pagination = {\n      pageIndex: page,\n      pageSize: size,\n      pageSizeOptions: DEFAULT_PAGE_SIZE_OPTIONS,\n      totalItemCount: Math.min(MAX_MONITOR_COUNT, totalMonitors)\n    };\n    const sorting = {\n      sort: {\n        direction: sortDirection,\n        field: sortField\n      }\n    };\n    const selection = {\n      onSelectionChange: this.onSelectionChange,\n      selectableMessage: selectable => selectable ? undefined : undefined\n    };\n    return /*#__PURE__*/React.createElement(ContentPanel, {\n      actions: /*#__PURE__*/React.createElement(MonitorActions, {\n        isEditDisabled: selectedItems.length !== 1,\n        onBulkAcknowledge: this.onBulkAcknowledge,\n        onBulkEnable: this.onBulkEnable,\n        onBulkDisable: this.onBulkDisable,\n        onBulkDelete: this.onBulkDelete,\n        onClickEdit: this.onClickEdit\n      }),\n      bodyStyles: {\n        padding: 'initial'\n      },\n      title: \"Monitors\"\n    }, /*#__PURE__*/React.createElement(MonitorControls, {\n      activePage: page,\n      pageCount: Math.ceil(totalMonitors / size) || 1,\n      search: search,\n      state: monitorState,\n      onSearchChange: this.onSearchChange,\n      onStateChange: this.onMonitorStateChange,\n      onPageClick: this.onPageClick\n    }), /*#__PURE__*/React.createElement(EuiHorizontalRule, {\n      margin: \"xs\"\n    }), showAcknowledgeModal && /*#__PURE__*/React.createElement(AcknowledgeModal, {\n      alerts: alerts,\n      totalAlerts: totalAlerts,\n      onAcknowledge: this.onClickAcknowledgeModal,\n      onClickCancel: this.onClickCancel\n    }), /*#__PURE__*/React.createElement(EuiBasicTable, {\n      columns: this.columns,\n      hasActions: true,\n      isSelectable: true\n      /*\n       * EUI doesn't let you manually control the selectedItems, so we have to use the itemId for now\n       * If using monitor ID, doesn't correctly update selectedItems when doing certain bulk actions, because the ID is the same\n       * If using monitor ID + monitor version, it works for everything except Acknowledge, because Acknowledge isn't updating the monitor document\n       * So the best approach for now is to set a currentTime on API response for the table to use as part of itemId,\n       * and whenever new monitors are fetched from the server, we should be deselecting all monitors\n       * */\n      ,\n      itemId: this.getItemId,\n      items: monitors,\n      noItemsMessage: /*#__PURE__*/React.createElement(MonitorEmptyPrompt, {\n        filterIsApplied: filterIsApplied,\n        loading: loadingMonitors,\n        resetFilters: this.resetFilters\n      }),\n      onChange: this.onTableChange,\n      pagination: pagination,\n      selection: selection,\n      sorting: sorting\n    }));\n  }\n\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport Monitors from './Monitors';\nexport default Monitors;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const DEFAULT_PAGE_SIZE_OPTIONS = [5, 10, 20, 50];\nexport const DEFAULT_QUERY_PARAMS = {\n  from: 0,\n  size: 20,\n  search: '',\n  sortField: 'name',\n  sortDirection: 'desc',\n  state: 'all'\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { DEFAULT_QUERY_PARAMS } from './constants';\nimport queryString from 'query-string';\nexport function getURLQueryParams(location) {\n  const {\n    from = DEFAULT_QUERY_PARAMS.from,\n    size = DEFAULT_QUERY_PARAMS.size,\n    search = DEFAULT_QUERY_PARAMS.search,\n    sortField = DEFAULT_QUERY_PARAMS.sortField,\n    sortDirection = DEFAULT_QUERY_PARAMS.sortDirection,\n    state = DEFAULT_QUERY_PARAMS.state\n  } = queryString.parse(location.search);\n  return {\n    from: isNaN(parseInt(from, 10)) ? DEFAULT_QUERY_PARAMS.from : parseInt(from, 10),\n    size: isNaN(parseInt(size, 10)) ? DEFAULT_QUERY_PARAMS.size : parseInt(size, 10),\n    search,\n    sortField,\n    sortDirection,\n    state\n  };\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nimport { EuiLink } from '@elastic/eui';\nimport moment from 'moment';\nimport { DEFAULT_EMPTY_DATA } from '../../../../../utils/constants';\nimport { PLUGIN_NAME } from '../../../../../../utils/constants';\n\nconst renderTime = time => {\n  const momentTime = moment(time);\n  if (time && momentTime.isValid()) return momentTime.format('MM/DD/YY h:mm a');\n  return DEFAULT_EMPTY_DATA;\n};\n\nexport const columns = [{\n  field: 'name',\n  name: 'Monitor name',\n  sortable: true,\n  truncateText: true,\n  textOnly: true,\n  width: '150px',\n  render: (name, item) => /*#__PURE__*/React.createElement(EuiLink, {\n    href: `${PLUGIN_NAME}#/monitors/${item.id}`\n  }, name)\n}, {\n  field: 'user',\n  name: 'Last updated by',\n  sortable: true,\n  truncateText: true,\n  textOnly: true,\n  width: '100px',\n\n  /* There are 3 cases:\n  1. Monitors created by older versions and never updated.\n     These monitors wont have User details in the monitor object. `monitor.user` will be null.\n  2. Monitors are created when security plugin is disabled, these will have empty User object.\n     (`monitor.user.name`, `monitor.user.roles` are empty )\n  3. Monitors are created when security plugin is enabled, these will have an User object. */\n  render: (_, item) => item.monitor.user && item.monitor.user.name ? item.monitor.user.name : 'N/A'\n}, {\n  field: 'latestAlert',\n  name: 'Latest alert',\n  sortable: false,\n  truncateText: true,\n  textOnly: true,\n  width: '150px'\n}, {\n  field: 'enabled',\n  name: 'State',\n  sortable: false,\n  truncateText: false,\n  width: '100px',\n  render: enabled => enabled ? 'Enabled' : 'Disabled'\n}, {\n  field: 'lastNotificationTime',\n  name: 'Last notification time',\n  sortable: true,\n  truncateText: false,\n  render: renderTime,\n  dataType: 'date',\n  width: '150px'\n}, {\n  field: 'active',\n  name: 'Active',\n  sortable: true,\n  truncateText: false,\n  width: '100px'\n}, {\n  field: 'acknowledged',\n  name: 'Acknowledged',\n  sortable: true,\n  truncateText: false,\n  width: '100px'\n}, {\n  field: 'errors',\n  name: 'Errors',\n  sortable: true,\n  truncateText: false,\n  width: '100px'\n}, {\n  field: 'ignored',\n  name: 'Ignored',\n  sortable: true,\n  truncateText: false,\n  width: '100px'\n}];","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport React from 'react';\nexport const AppContext = /*#__PURE__*/React.createContext({});","import React from 'react';\nconst CoreServicesContext = /*#__PURE__*/React.createContext({});\nconst CoreServicesConsumer = CoreServicesContext.Consumer;\nexport { CoreServicesContext, CoreServicesConsumer };","/*\n *   Copyright 2020 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport { useEffect } from 'react';\n/* This function is used to:\n 1. call function 'onSubmitError()' when validation fails on submit\n 2. auto scroll the page to the first field with error, and focus the field\n Reference: https://github.com/formium/formik/issues/1484 and https://github.com/formium/formik/issues/146 */\n\nexport const SubmitErrorHandler = props => {\n  const errorKeys = Object.keys(dotNotate(props.errors));\n\n  const effect = () => {\n    if (errorKeys.length > 0 && !props.isSubmitting && !props.isValid) {\n      props.onSubmitError();\n      /* Use 2 selectors to locate the form elements. Because some elements only have 'name' attribute,\n      some only have 'id' attribute, but are nested in a <div> with same the value in 'name' attribute. */\n\n      const selector = `[id=\"${errorKeys[0]}\"], [name=\"${errorKeys[0]}\"]:not(div)`;\n      const errorElement = document.querySelector(selector);\n\n      if (errorElement) {\n        errorElement.focus();\n        errorElement.scrollIntoView({\n          behavior: 'smooth',\n          block: 'center'\n        });\n      }\n    }\n  };\n\n  useEffect(effect, [props.isSubmitting]);\n  return null;\n}; // convert JSON object structure to dot notation\n\nfunction dotNotate(obj, target, prefix) {\n  target = target || {}, prefix = prefix || '';\n  Object.keys(obj).forEach(function (key) {\n    if (obj[key] !== null && typeof obj[key] === 'object') {\n      dotNotate(obj[key], target, prefix + key + '.');\n    } else {\n      return target[prefix + key] = obj[key];\n    }\n  });\n  return target;\n}","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nexport const ALERT_STATE = Object.freeze({\n  ACTIVE: 'ACTIVE',\n  ACKNOWLEDGED: 'ACKNOWLEDGED',\n  COMPLETED: 'COMPLETED',\n  ERROR: 'ERROR',\n  DELETED: 'DELETED'\n});\nexport const DEFAULT_EMPTY_DATA = '-';\nexport const APP_PATH = {\n  CREATE_MONITOR: '/create-monitor',\n  CREATE_DESTINATION: '/create-destination'\n};\nexport const SEARCH_TYPE = {\n  GRAPH: 'graph',\n  QUERY: 'query',\n  AD: 'ad'\n};\nexport const DESTINATION_ACTIONS = {\n  UPDATE_DESTINATION: 'update-destination'\n};\nexport const MONITOR_ACTIONS = {\n  UPDATE_MONITOR: 'update-monitor'\n};\nexport const TRIGGER_ACTIONS = {\n  UPDATE_TRIGGER: 'update-trigger',\n  CREATE_TRIGGER: 'create-trigger'\n};\nexport const DATA_TYPES = {\n  NUMBER: 'number',\n  TEXT: 'text',\n  BOOLEAN: 'boolean',\n  KEYWORD: 'keyword'\n};\nexport const ES_AD_PLUGIN = 'opendistro-anomaly-detection';\nexport const KIBANA_AD_PLUGIN = 'opendistro-anomaly-detection-kibana';\nexport const INPUTS_DETECTOR_ID = '0.search.query.query.bool.filter[1].term.detector_id.value';\nexport const MONITOR_INPUT_DETECTOR_ID = `inputs.${INPUTS_DETECTOR_ID}`;\nexport const AD_PREVIEW_DAYS = 7;","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\n// A helper function that wraps an event handler and filters out ESCAPE keys\nexport const ignoreEscape = eventHandler => event => {\n  if (!(event.keyCode === 27)) {\n    eventHandler();\n  }\n};","/*\n *   Copyright 2019 Amazon.com, Inc. or its affiliates. All Rights Reserved.\n *\n *   Licensed under the Apache License, Version 2.0 (the \"License\").\n *   You may not use this file except in compliance with the License.\n *   A copy of the License is located at\n *\n *       http://www.apache.org/licenses/LICENSE-2.0\n *\n *   or in the \"license\" file accompanying this file. This file is distributed\n *   on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either\n *   express or implied. See the License for the specific language governing\n *   permissions and limitations under the License.\n */\nimport _ from 'lodash';\nimport { ACTIONS_TEMPLATE } from '../pages/CreateTrigger/utils/constants';\nimport { INDEX, MAX_THROTTLE_VALUE, WRONG_THROTTLE_WARNING } from '../../utils/constants'; // TODO: Use a validation framework to clean all of this up or create own.\n\nexport const isInvalid = (name, form) => !!_.get(form.touched, name, false) && !!_.get(form.errors, name, false);\nexport const hasError = (name, form) => _.get(form.errors, name);\nexport const validateActionName = trigger => value => {\n  if (!value) return 'Required';\n  const matches = trigger.actions.filter(action => action.name === value);\n  if (matches.length > 1) return 'Action name is already used';\n};\nexport const isInvalidActionThrottle = action => {\n  if (_.get(action, 'throttle_enabled')) {\n    var value = _.get(action, 'throttle.value');\n\n    if (!value || value < 1 || value > MAX_THROTTLE_VALUE) {\n      return true;\n    }\n  }\n\n  return false;\n};\nexport const validateActionThrottle = action => value => {\n  if (isInvalidActionThrottle(action)) {\n    return WRONG_THROTTLE_WARNING;\n  }\n};\nexport const required = value => {\n  if (!value) return 'Required';\n};\nexport const validateMonitorName = (httpClient, monitorToEdit) => async value => {\n  try {\n    if (!value) throw 'Required';\n    const options = {\n      index: INDEX.SCHEDULED_JOBS,\n      query: {\n        query: {\n          term: {\n            'monitor.name.keyword': value\n          }\n        }\n      }\n    };\n    const response = await httpClient.post('../api/alerting/_search', {\n      body: JSON.stringify(options)\n    });\n\n    if (_.get(response, 'resp.hits.total.value', 0)) {\n      if (!monitorToEdit) throw 'Monitor name is already used';\n\n      if (monitorToEdit && monitorToEdit.name !== value) {\n        throw 'Monitor name is already used';\n      }\n    }\n  } catch (err) {\n    if (typeof err === 'string') throw err;\n    throw 'There was a problem validating monitor name. Please try again.';\n  }\n};\nexport const validateTimezone = value => {\n  if (!Array.isArray(value)) return 'Required';\n  if (!value.length) return 'Required';\n};\nexport const validatePositiveInteger = value => {\n  if (!Number.isInteger(value) || value < 1) return 'Must be a positive integer';\n};\nexport const validateUnit = value => {\n  if (!['MINUTES', 'HOURS', 'DAYS'].includes(value)) return 'Must be one of minutes, hours, days';\n};\nexport const validateMonthlyDay = value => {\n  if (!Number.isInteger(value) || value < 1 || value > 31) return 'Must be a positive integer between 1-31';\n};\nexport const ILLEGAL_CHARACTERS = ['\\\\', '/', '?', '\"', '<', '>', '|', ',', ' '];\nexport const validateDetector = (detectorId, selectedDetector) => {\n  if (!detectorId) return 'Must select detector';\n  if (selectedDetector && selectedDetector.features.length === 0) return 'Must choose detector which has features';\n};\nexport const validateIndex = options => {\n  if (!Array.isArray(options)) return 'Must specify an index';\n  if (!options.length) return 'Must specify an index';\n  const illegalCharacters = ILLEGAL_CHARACTERS.join(' ');\n  const pattern = options.map(({\n    label\n  }) => label).join('');\n\n  if (!isIndexPatternQueryValid(pattern, ILLEGAL_CHARACTERS)) {\n    return `One of your inputs contains invalid characters or spaces. Please omit: ${illegalCharacters}`;\n  }\n};\nexport function isIndexPatternQueryValid(pattern, illegalCharacters) {\n  if (!pattern || !pattern.length) {\n    return false;\n  }\n\n  if (pattern === '.' || pattern === '..') {\n    return false;\n  }\n\n  return !illegalCharacters.some(char => pattern.includes(char));\n}\nexport function validateExtractionQuery(value) {\n  try {\n    JSON.parse(value);\n  } catch (err) {\n    return 'Invalid JSON';\n  }\n}"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3FA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChNA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACliBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5EA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3GA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9DA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3FA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9NA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9IA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACfA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3DA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChNA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpUA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvEA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtPA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtcA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/CA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1SA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxLA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxMA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnTA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChLA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/CA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjFA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9LA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/KA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClVA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/JA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClJA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrWA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrVA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACpaA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjIA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrHA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvJA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvCA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC/BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3JA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACrVA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClNA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AClCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1CA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjKA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3GA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnHA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7DA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC1DA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACzhBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACjGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACfA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnDA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}